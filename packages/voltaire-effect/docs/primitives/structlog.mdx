---
title: StructLog
description: EVM execution trace logs
---

```typescript
import { StructLog } from 'voltaire-effect'
import { Effect } from 'effect'

const log = await Effect.runPromise(StructLog.from({
  pc: 0,
  op: 'PUSH1',
  gas: 100000n,
  gasCost: 3n,
  depth: 1,
  stack: ['0x1', '0x2'],
  storage: { '0x0': '0x64' },
  memory: ['0x00...']
}))
```

## Fields

| Field | Type | Description |
|-------|------|-------------|
| `pc` | `number` | Program counter |
| `op` | `string` | Opcode name |
| `gas` | `bigint` | Remaining gas |
| `gasCost` | `bigint` | Cost of this op |
| `depth` | `number` | Call depth |
| `stack` | `string[]` | Stack contents |
| `memory` | `string[]` | Memory (optional) |
| `storage` | `Record` | Storage changes (optional) |
| `refund` | `bigint` | Gas refund (optional) |
| `error` | `string` | Error message (optional) |

## Error Handling

```typescript
const result = await Effect.runPromiseExit(StructLog.from(invalid))
if (result._tag === 'Failure') {
  console.error(result.cause) // StructLogError
}
```

---
title: '[Zig] src/primitives/RelayData/relay_data.zig'
source: 'src/primitives/RelayData/relay_data.zig'
---

> Auto-generated from Zig tests in: src/primitives/RelayData/relay_data.zig

### RelayData.from creates relay data

```zig
test "RelayData.from creates relay data" {
    const relay_pubkey: [BLS_PUBKEY_SIZE]u8 = [_]u8{0xaa} ** BLS_PUBKEY_SIZE;
    const parent_hash: Hash.Hash = [_]u8{0xbb} ** 32;
    const fee_recipient = Address.Address{ .bytes = [_]u8{0xcc} ** 20 };

    const relay = from(.{
        .relay_url = RELAY_FLASHBOTS,
        .relay_pubkey = relay_pubkey,
        .slot = 1000000,
        .parent_hash = parent_hash,
        .proposer_fee_recipient = fee_recipient,
    });

    try std.testing.expectEqualStrings(RELAY_FLASHBOTS, relay.relay_url);
    try std.testing.expectEqual(@as(Slot.Slot, 1000000), relay.slot);
}
```

### RelayData.fromFields creates relay data

```zig
test "RelayData.fromFields creates relay data" {
    const relay_pubkey: [BLS_PUBKEY_SIZE]u8 = [_]u8{0xdd} ** BLS_PUBKEY_SIZE;
    const parent_hash: Hash.Hash = [_]u8{0xee} ** 32;
    const fee_recipient = Address.Address{ .bytes = [_]u8{0xff} ** 20 };

    const relay = fromFields(
        RELAY_ULTRASOUND,
        relay_pubkey,
        1000000,
        parent_hash,
        fee_recipient,
    );

    try std.testing.expectEqualStrings(RELAY_ULTRASOUND, relay.relay_url);
    try std.testing.expect(relay.builder_pubkey == null);
}
```

### RelayData.fromFieldsWithBuilder creates relay data with builder

```zig
test "RelayData.fromFieldsWithBuilder creates relay data with builder" {
    const relay_pubkey: [BLS_PUBKEY_SIZE]u8 = [_]u8{0x11} ** BLS_PUBKEY_SIZE;
    const builder_pubkey: [BLS_PUBKEY_SIZE]u8 = [_]u8{0x22} ** BLS_PUBKEY_SIZE;
    const parent_hash: Hash.Hash = [_]u8{0x33} ** 32;
    const fee_recipient = Address.Address{ .bytes = [_]u8{0x44} ** 20 };

    const relay = fromFieldsWithBuilder(
        RELAY_FLASHBOTS,
        relay_pubkey,
        builder_pubkey,
        1000000,
        parent_hash,
        fee_recipient,
    );

    try std.testing.expect(relay.builder_pubkey != null);
    try std.testing.expectEqualSlices(u8, &builder_pubkey, &relay.builder_pubkey.?);
}
```

### RelayData accessors work correctly

```zig
test "RelayData accessors work correctly" {
    const relay_pubkey: [BLS_PUBKEY_SIZE]u8 = [_]u8{0x55} ** BLS_PUBKEY_SIZE;
    const parent_hash: Hash.Hash = [_]u8{0x66} ** 32;
    const fee_recipient = Address.Address{ .bytes = [_]u8{0x77} ** 20 };

    const relay = from(.{
        .relay_url = RELAY_EDEN,
        .relay_pubkey = relay_pubkey,
        .slot = 1000000,
        .parent_hash = parent_hash,
        .proposer_fee_recipient = fee_recipient,
    });

    try std.testing.expectEqualStrings(RELAY_EDEN, getRelayUrl(relay));
    try std.testing.expectEqualSlices(u8, &relay_pubkey, &getRelayPubkey(relay));
    try std.testing.expectEqual(@as(Slot.Slot, 1000000), getSlot(relay));
    try std.testing.expectEqualSlices(u8, &parent_hash, &getParentHash(relay));
    try std.testing.expect(getBuilderPubkey(relay) == null);
}
```

### RelayData.getStatusEndpoint

```zig
test "RelayData.getStatusEndpoint" {
    const relay_pubkey: [BLS_PUBKEY_SIZE]u8 = EMPTY_PUBKEY;
    const parent_hash: Hash.Hash = [_]u8{0} ** 32;
    const fee_recipient = Address.Address{ .bytes = [_]u8{0} ** 20 };

    const relay = from(.{
        .relay_url = "https://example.com",
        .relay_pubkey = relay_pubkey,
        .slot = 1000000,
        .parent_hash = parent_hash,
        .proposer_fee_recipient = fee_recipient,
    });

    var buffer: [256]u8 = undefined;
    const endpoint = try getStatusEndpoint(relay, &buffer);
    try std.testing.expectEqualStrings("https://example.com/eth/v1/relay/status", endpoint);
}
```

### RelayData.isFlashbots

```zig
test "RelayData.isFlashbots" {
    const relay_pubkey: [BLS_PUBKEY_SIZE]u8 = EMPTY_PUBKEY;
    const parent_hash: Hash.Hash = [_]u8{0} ** 32;
    const fee_recipient = Address.Address{ .bytes = [_]u8{0} ** 20 };

    const flashbots_relay = from(.{
        .relay_url = RELAY_FLASHBOTS,
        .relay_pubkey = relay_pubkey,
        .slot = 1000000,
        .parent_hash = parent_hash,
        .proposer_fee_recipient = fee_recipient,
    });

    const other_relay = from(.{
        .relay_url = RELAY_ULTRASOUND,
        .relay_pubkey = relay_pubkey,
        .slot = 1000000,
        .parent_hash = parent_hash,
        .proposer_fee_recipient = fee_recipient,
    });

    try std.testing.expect(isFlashbots(flashbots_relay));
    try std.testing.expect(!isFlashbots(other_relay));
}
```

### RelayData.isBloxroute

```zig
test "RelayData.isBloxroute" {
    const relay_pubkey: [BLS_PUBKEY_SIZE]u8 = EMPTY_PUBKEY;
    const parent_hash: Hash.Hash = [_]u8{0} ** 32;
    const fee_recipient = Address.Address{ .bytes = [_]u8{0} ** 20 };

    const bloxroute_relay = from(.{
        .relay_url = RELAY_BLOXROUTE_MAX_PROFIT,
        .relay_pubkey = relay_pubkey,
        .slot = 1000000,
        .parent_hash = parent_hash,
        .proposer_fee_recipient = fee_recipient,
    });

    const other_relay = from(.{
        .relay_url = RELAY_FLASHBOTS,
        .relay_pubkey = relay_pubkey,
        .slot = 1000000,
        .parent_hash = parent_hash,
        .proposer_fee_recipient = fee_recipient,
    });

    try std.testing.expect(isBloxroute(bloxroute_relay));
    try std.testing.expect(!isBloxroute(other_relay));
}
```

### RelayData.equals compares relay data

```zig
test "RelayData.equals compares relay data" {
    const relay_pubkey: [BLS_PUBKEY_SIZE]u8 = [_]u8{0x88} ** BLS_PUBKEY_SIZE;
    const parent_hash: Hash.Hash = [_]u8{0x99} ** 32;
    const fee_recipient = Address.Address{ .bytes = [_]u8{0xaa} ** 20 };

    const relay1 = from(.{
        .relay_url = RELAY_FLASHBOTS,
        .relay_pubkey = relay_pubkey,
        .slot = 1000000,
        .parent_hash = parent_hash,
        .proposer_fee_recipient = fee_recipient,
    });

    const relay2 = from(.{
        .relay_url = RELAY_FLASHBOTS,
        .relay_pubkey = relay_pubkey,
        .slot = 1000000,
        .parent_hash = parent_hash,
        .proposer_fee_recipient = fee_recipient,
    });

    const relay3 = from(.{
        .relay_url = RELAY_ULTRASOUND,
        .relay_pubkey = relay_pubkey,
        .slot = 1000000,
        .parent_hash = parent_hash,
        .proposer_fee_recipient = fee_recipient,
    });

    try std.testing.expect(equals(relay1, relay2));
    try std.testing.expect(!equals(relay1, relay3));
}
```

### RelayData.hasBuilderPubkey

```zig
test "RelayData.hasBuilderPubkey" {
    const relay_pubkey: [BLS_PUBKEY_SIZE]u8 = EMPTY_PUBKEY;
    const builder_pubkey: [BLS_PUBKEY_SIZE]u8 = [_]u8{0xbb} ** BLS_PUBKEY_SIZE;
    const parent_hash: Hash.Hash = [_]u8{0} ** 32;
    const fee_recipient = Address.Address{ .bytes = [_]u8{0} ** 20 };

    const relay_with_builder = from(.{
        .relay_url = RELAY_FLASHBOTS,
        .relay_pubkey = relay_pubkey,
        .builder_pubkey = builder_pubkey,
        .slot = 1000000,
        .parent_hash = parent_hash,
        .proposer_fee_recipient = fee_recipient,
    });

    const relay_without_builder = from(.{
        .relay_url = RELAY_FLASHBOTS,
        .relay_pubkey = relay_pubkey,
        .slot = 1000000,
        .parent_hash = parent_hash,
        .proposer_fee_recipient = fee_recipient,
    });

    try std.testing.expect(hasBuilderPubkey(relay_with_builder));
    try std.testing.expect(!hasBuilderPubkey(relay_without_builder));
}
```

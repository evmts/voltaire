---
title: '[Zig] src/primitives/EventSignature/event_signature.zig'
source: 'src/primitives/EventSignature/event_signature.zig'
---

> Auto-generated from Zig tests in: src/primitives/EventSignature/event_signature.zig

### fromSignature - Transfer event

```zig
test "fromSignature - Transfer event" {
    const topic = fromSignature("Transfer(address,address,uint256)");
    const hex = toHex(topic);
    try std.testing.expectEqualStrings("0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef", &hex);
}
```

### fromSignature - Approval event

```zig
test "fromSignature - Approval event" {
    const topic = fromSignature("Approval(address,address,uint256)");
    const hex = toHex(topic);
    try std.testing.expectEqualStrings("0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925", &hex);
}
```

### fromSignature - Deposit event

```zig
test "fromSignature - Deposit event" {
    const topic = fromSignature("Deposit(uint256)");
    // Just verify it produces a valid hash
    try std.testing.expect(!isZero(topic));
}
```

### fromSignature - complex Swap event

```zig
test "fromSignature - complex Swap event" {
    const topic = fromSignature("Swap(address,uint256,uint256,uint256,uint256,address)");
    const hex = toHex(topic);
    try std.testing.expectEqualStrings("0xd78ad95fa46c994b6551d0da85fc275fe613ce37657fb8d5e3d130840159d822", &hex);
}
```

### TRANSFER constant

```zig
test "TRANSFER constant" {
    const computed = fromSignature("Transfer(address,address,uint256)");
    try std.testing.expect(equals(TRANSFER, computed));
}
```

### APPROVAL constant

```zig
test "APPROVAL constant" {
    const computed = fromSignature("Approval(address,address,uint256)");
    try std.testing.expect(equals(APPROVAL, computed));
}
```

### fromBytes - valid 32 bytes

```zig
test "fromBytes - valid 32 bytes" {
    var bytes: [32]u8 = undefined;
    @memset(&bytes, 0xab);
    const sig = try fromBytes(&bytes);
    try std.testing.expectEqual(bytes, sig);
}
```

### fromBytes - invalid length

```zig
test "fromBytes - invalid length" {
    const bytes = [_]u8{ 0xa9, 0x05 };
    try std.testing.expectError(error.InvalidEventSignatureLength, fromBytes(&bytes));
}
```

### fromHex - valid hex

```zig
test "fromHex - valid hex" {
    const sig = try fromHex("0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef");
    const expected = fromSignature("Transfer(address,address,uint256)");
    try std.testing.expect(equals(sig, expected));
}
```

### fromHex - missing prefix

```zig
test "fromHex - missing prefix" {
    const hex = "ddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef";
    try std.testing.expectError(error.InvalidHexFormat, fromHex(hex));
}
```

### fromHex - invalid length

```zig
test "fromHex - invalid length" {
    try std.testing.expectError(error.InvalidEventSignatureHexLength, fromHex("0xa9059cbb"));
}
```

### from - EventSignature passthrough

```zig
test "from - EventSignature passthrough" {
    const sig = fromSignature("Transfer(address,address,uint256)");
    const result = try from(sig);
    try std.testing.expect(equals(sig, result));
}
```

### from - hex string

```zig
test "from - hex string" {
    const result = try from("0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef");
    const expected = fromSignature("Transfer(address,address,uint256)");
    try std.testing.expect(equals(result, expected));
}
```

### toBytes - returns correct slice

```zig
test "toBytes - returns correct slice" {
    const sig = fromSignature("Transfer(address,address,uint256)");
    const bytes = toBytes(&sig);
    try std.testing.expectEqual(@as(usize, SIZE), bytes.len);
}
```

### toHex - correct format

```zig
test "toHex - correct format" {
    const sig = fromSignature("Transfer(address,address,uint256)");
    const hex = toHex(sig);
    try std.testing.expectEqualStrings("0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef", &hex);
}
```

### toHex - zero signature

```zig
test "toHex - zero signature" {
    const hex = toHex(ZERO);
    try std.testing.expectEqualStrings("0x0000000000000000000000000000000000000000000000000000000000000000", &hex);
}
```

### equals - same signature

```zig
test "equals - same signature" {
    const sig = fromSignature("Transfer(address,address,uint256)");
    try std.testing.expect(equals(sig, sig));
}
```

### equals - from hex and signature

```zig
test "equals - from hex and signature" {
    const sig1 = fromSignature("Transfer(address,address,uint256)");
    const sig2 = try fromHex("0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef");
    try std.testing.expect(equals(sig1, sig2));
}
```

### equals - different signatures

```zig
test "equals - different signatures" {
    const sig1 = fromSignature("Transfer(address,address,uint256)");
    const sig2 = fromSignature("Approval(address,address,uint256)");
    try std.testing.expect(!equals(sig1, sig2));
}
```

### isZero - zero signature

```zig
test "isZero - zero signature" {
    try std.testing.expect(isZero(ZERO));
}
```

### isZero - non-zero signature

```zig
test "isZero - non-zero signature" {
    const sig = fromSignature("Transfer(address,address,uint256)");
    try std.testing.expect(!isZero(sig));
}
```

### isValidHex - valid

```zig
test "isValidHex - valid" {
    try std.testing.expect(isValidHex("0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef"));
}
```

### isValidHex - invalid

```zig
test "isValidHex - invalid" {
    try std.testing.expect(!isValidHex("0xa9059cbb")); // too short (selector size)
    try std.testing.expect(!isValidHex("ddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef")); // missing 0x
}
```

### clone - creates copy

```zig
test "clone - creates copy" {
    const original = fromSignature("Transfer(address,address,uint256)");
    const copy = clone(original);
    try std.testing.expect(equals(original, copy));
}
```

### toSelector - first 4 bytes

```zig
test "toSelector - first 4 bytes" {
    const sig = fromSignature("Transfer(address,address,uint256)");
    const sel = toSelector(sig);
    const expected = [4]u8{ 0xdd, 0xf2, 0x52, 0xad };
    try std.testing.expectEqual(expected, sel);
}
```

### toTopic - returns full hash

```zig
test "toTopic - returns full hash" {
    const sig = fromSignature("Transfer(address,address,uint256)");
    const topic = toTopic(sig);
    try std.testing.expect(equals(sig, topic));
}
```

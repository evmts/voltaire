---
title: '[Zig] src/primitives/TransactionStatus/TransactionStatus.zig'
source: 'src/primitives/TransactionStatus/TransactionStatus.zig'
---

> Auto-generated from Zig tests in: src/primitives/TransactionStatus/TransactionStatus.zig

### ReceiptStatus - from valid values

```zig
test "ReceiptStatus - from valid values" {
    try std.testing.expectEqual(ReceiptStatus.failure, try ReceiptStatus.from(0));
    try std.testing.expectEqual(ReceiptStatus.success, try ReceiptStatus.from(1));
}
```

### ReceiptStatus - from invalid value

```zig
test "ReceiptStatus - from invalid value" {
    try std.testing.expectError(error.InvalidReceiptStatus, ReceiptStatus.from(2));
    try std.testing.expectError(error.InvalidReceiptStatus, ReceiptStatus.from(255));
}
```

### ReceiptStatus - toInt

```zig
test "ReceiptStatus - toInt" {
    try std.testing.expectEqual(@as(u8, 0), ReceiptStatus.failure.toInt());
    try std.testing.expectEqual(@as(u8, 1), ReceiptStatus.success.toInt());
}
```

### ReceiptStatus - isSuccess and isFailure

```zig
test "ReceiptStatus - isSuccess and isFailure" {
    try std.testing.expect(ReceiptStatus.success.isSuccess());
    try std.testing.expect(!ReceiptStatus.success.isFailure());
    try std.testing.expect(ReceiptStatus.failure.isFailure());
    try std.testing.expect(!ReceiptStatus.failure.isSuccess());
}
```

### pending - creates pending status

```zig
test "pending - creates pending status" {
    const status = pending();
    try std.testing.expect(isPending(&status));
    try std.testing.expect(!isIncluded(&status));
    try std.testing.expect(!isConfirmed(&status));
    try std.testing.expect(!isFailed(&status));
    try std.testing.expect(!isReplaced(&status));
}
```

### included - creates included status

```zig
test "included - creates included status" {
    const status = included(12345678, 21000);
    try std.testing.expect(isIncluded(&status));
    try std.testing.expect(!isPending(&status));
    try std.testing.expect(!isConfirmed(&status));
    try std.testing.expectEqual(@as(u64, 12345678), getBlockNumber(&status).?);
    try std.testing.expectEqual(@as(u256, 21000), getGasUsed(&status).?);
}
```

### confirmed - creates confirmed status

```zig
test "confirmed - creates confirmed status" {
    const status = confirmed(12345678, 21000, 12);
    try std.testing.expect(isConfirmed(&status));
    try std.testing.expect(!isPending(&status));
    try std.testing.expect(!isIncluded(&status));
    try std.testing.expectEqual(@as(u64, 12345678), getBlockNumber(&status).?);
    try std.testing.expectEqual(@as(u256, 21000), getGasUsed(&status).?);
    try std.testing.expectEqual(@as(u64, 12), getConfirmations(&status).?);
}
```

### failed - creates failed status without reason

```zig
test "failed - creates failed status without reason" {
    const status = failed(null);
    try std.testing.expect(isFailed(&status));
    try std.testing.expect(!isPending(&status));
    try std.testing.expect(!isIncluded(&status));
    try std.testing.expect(getRevertReason(&status) == null);
}
```

### failed - creates failed status with reason

```zig
test "failed - creates failed status with reason" {
    const reason = "Out of gas";
    const status = failed(reason);
    try std.testing.expect(isFailed(&status));
    try std.testing.expectEqualStrings(reason, getRevertReason(&status).?);
}
```

### replaced - creates replaced status

```zig
test "replaced - creates replaced status" {
    var hash: Hash.Hash = undefined;
    @memset(&hash, 0xab);
    const status = replaced(hash);
    try std.testing.expect(isReplaced(&status));
    try std.testing.expect(!isPending(&status));
    const got_hash = getReplacementHash(&status).?;
    try std.testing.expectEqualSlices(u8, &hash, &got_hash);
}
```

### from - pending

```zig
test "from - pending" {
    const status = try from("pending");
    try std.testing.expect(isPending(&status));
}
```

### from - included

```zig
test "from - included" {
    const status = try from("included");
    try std.testing.expect(isIncluded(&status));
}
```

### from - confirmed

```zig
test "from - confirmed" {
    const status = try from("confirmed");
    try std.testing.expect(isConfirmed(&status));
}
```

### from - failed

```zig
test "from - failed" {
    const status = try from("failed");
    try std.testing.expect(isFailed(&status));
}
```

### from - replaced

```zig
test "from - replaced" {
    const status = try from("replaced");
    try std.testing.expect(isReplaced(&status));
}
```

### from - invalid

```zig
test "from - invalid" {
    try std.testing.expectError(error.InvalidStatusType, from("unknown"));
}
```

### isPending - true for pending

```zig
test "isPending - true for pending" {
    const status = pending();
    try std.testing.expect(isPending(&status));
}
```

### isPending - false for other types

```zig
test "isPending - false for other types" {
    try std.testing.expect(!isPending(&included(0, 0)));
    try std.testing.expect(!isPending(&confirmed(0, 0, 0)));
    try std.testing.expect(!isPending(&failed(null)));
    try std.testing.expect(!isPending(&replaced(std.mem.zeroes(Hash.Hash))));
}
```

### isIncluded - true for included

```zig
test "isIncluded - true for included" {
    const status = included(12345678, 21000);
    try std.testing.expect(isIncluded(&status));
}
```

### isIncluded - false for other types

```zig
test "isIncluded - false for other types" {
    try std.testing.expect(!isIncluded(&pending()));
    try std.testing.expect(!isIncluded(&confirmed(0, 0, 0)));
    try std.testing.expect(!isIncluded(&failed(null)));
    try std.testing.expect(!isIncluded(&replaced(std.mem.zeroes(Hash.Hash))));
}
```

### isConfirmed - true for confirmed

```zig
test "isConfirmed - true for confirmed" {
    const status = confirmed(12345678, 21000, 12);
    try std.testing.expect(isConfirmed(&status));
}
```

### isConfirmed - false for other types

```zig
test "isConfirmed - false for other types" {
    try std.testing.expect(!isConfirmed(&pending()));
    try std.testing.expect(!isConfirmed(&included(0, 0)));
    try std.testing.expect(!isConfirmed(&failed(null)));
    try std.testing.expect(!isConfirmed(&replaced(std.mem.zeroes(Hash.Hash))));
}
```

### isFailed - true for failed

```zig
test "isFailed - true for failed" {
    const status = failed(null);
    try std.testing.expect(isFailed(&status));
}
```

### isFailed - false for other types

```zig
test "isFailed - false for other types" {
    try std.testing.expect(!isFailed(&pending()));
    try std.testing.expect(!isFailed(&included(0, 0)));
    try std.testing.expect(!isFailed(&confirmed(0, 0, 0)));
    try std.testing.expect(!isFailed(&replaced(std.mem.zeroes(Hash.Hash))));
}
```

### isReplaced - true for replaced

```zig
test "isReplaced - true for replaced" {
    const status = replaced(std.mem.zeroes(Hash.Hash));
    try std.testing.expect(isReplaced(&status));
}
```

### isReplaced - false for other types

```zig
test "isReplaced - false for other types" {
    try std.testing.expect(!isReplaced(&pending()));
    try std.testing.expect(!isReplaced(&included(0, 0)));
    try std.testing.expect(!isReplaced(&confirmed(0, 0, 0)));
    try std.testing.expect(!isReplaced(&failed(null)));
}
```

### isFinalized - true for confirmed

```zig
test "isFinalized - true for confirmed" {
    try std.testing.expect(isFinalized(&confirmed(0, 0, 0)));
}
```

### isFinalized - true for failed

```zig
test "isFinalized - true for failed" {
    try std.testing.expect(isFinalized(&failed(null)));
}
```

### isFinalized - true for replaced

```zig
test "isFinalized - true for replaced" {
    try std.testing.expect(isFinalized(&replaced(std.mem.zeroes(Hash.Hash))));
}
```

### isFinalized - false for pending and included

```zig
test "isFinalized - false for pending and included" {
    try std.testing.expect(!isFinalized(&pending()));
    try std.testing.expect(!isFinalized(&included(0, 0)));
}
```

### getBlockNumber - included

```zig
test "getBlockNumber - included" {
    const status = included(12345678, 21000);
    try std.testing.expectEqual(@as(?u64, 12345678), getBlockNumber(&status));
}
```

### getBlockNumber - confirmed

```zig
test "getBlockNumber - confirmed" {
    const status = confirmed(12345678, 21000, 12);
    try std.testing.expectEqual(@as(?u64, 12345678), getBlockNumber(&status));
}
```

### getBlockNumber - pending returns null

```zig
test "getBlockNumber - pending returns null" {
    const status = pending();
    try std.testing.expect(getBlockNumber(&status) == null);
}
```

### getGasUsed - included

```zig
test "getGasUsed - included" {
    const status = included(12345678, 21000);
    try std.testing.expectEqual(@as(?u256, 21000), getGasUsed(&status));
}
```

### getGasUsed - confirmed

```zig
test "getGasUsed - confirmed" {
    const status = confirmed(12345678, 21000, 12);
    try std.testing.expectEqual(@as(?u256, 21000), getGasUsed(&status));
}
```

### getGasUsed - pending returns null

```zig
test "getGasUsed - pending returns null" {
    const status = pending();
    try std.testing.expect(getGasUsed(&status) == null);
}
```

### getGasUsed - failed returns null

```zig
test "getGasUsed - failed returns null" {
    const status = failed(null);
    try std.testing.expect(getGasUsed(&status) == null);
}
```

### getConfirmations - confirmed

```zig
test "getConfirmations - confirmed" {
    const status = confirmed(12345678, 21000, 12);
    try std.testing.expectEqual(@as(?u64, 12), getConfirmations(&status));
}
```

### getConfirmations - included returns null

```zig
test "getConfirmations - included returns null" {
    const status = included(12345678, 21000);
    try std.testing.expect(getConfirmations(&status) == null);
}
```

### getConfirmations - pending returns null

```zig
test "getConfirmations - pending returns null" {
    const status = pending();
    try std.testing.expect(getConfirmations(&status) == null);
}
```

### getRevertReason - failed with reason

```zig
test "getRevertReason - failed with reason" {
    const reason = "Revert: insufficient balance";
    const status = failed(reason);
    try std.testing.expectEqualStrings(reason, getRevertReason(&status).?);
}
```

### getRevertReason - failed without reason

```zig
test "getRevertReason - failed without reason" {
    const status = failed(null);
    try std.testing.expect(getRevertReason(&status) == null);
}
```

### getRevertReason - pending returns null

```zig
test "getRevertReason - pending returns null" {
    const status = pending();
    try std.testing.expect(getRevertReason(&status) == null);
}
```

### getReplacementHash - replaced

```zig
test "getReplacementHash - replaced" {
    var hash: Hash.Hash = undefined;
    @memset(&hash, 0xab);
    const status = replaced(hash);
    const got = getReplacementHash(&status).?;
    try std.testing.expectEqualSlices(u8, &hash, &got);
}
```

### getReplacementHash - pending returns null

```zig
test "getReplacementHash - pending returns null" {
    const status = pending();
    try std.testing.expect(getReplacementHash(&status) == null);
}
```

### transitionToIncluded - from pending

```zig
test "transitionToIncluded - from pending" {
    const p = pending();
    const inc = try transitionToIncluded(&p, 12345678, 21000);
    try std.testing.expect(isIncluded(&inc));
    try std.testing.expectEqual(@as(u64, 12345678), getBlockNumber(&inc).?);
}
```

### transitionToIncluded - from non-pending fails

```zig
test "transitionToIncluded - from non-pending fails" {
    const inc = included(0, 0);
    try std.testing.expectError(error.InvalidTransition, transitionToIncluded(&inc, 0, 0));
}
```

### transitionToConfirmed - from included

```zig
test "transitionToConfirmed - from included" {
    const inc = included(12345678, 21000);
    const conf = try transitionToConfirmed(&inc, 12);
    try std.testing.expect(isConfirmed(&conf));
    try std.testing.expectEqual(@as(u64, 12), getConfirmations(&conf).?);
}
```

### transitionToConfirmed - from pending fails

```zig
test "transitionToConfirmed - from pending fails" {
    const p = pending();
    try std.testing.expectError(error.InvalidTransition, transitionToConfirmed(&p, 12));
}
```

### transitionToReplaced - from pending

```zig
test "transitionToReplaced - from pending" {
    var hash: Hash.Hash = undefined;
    @memset(&hash, 0xcd);
    const p = pending();
    const repl = try transitionToReplaced(&p, hash);
    try std.testing.expect(isReplaced(&repl));
}
```

### transitionToReplaced - from included fails

```zig
test "transitionToReplaced - from included fails" {
    const inc = included(0, 0);
    try std.testing.expectError(error.InvalidTransition, transitionToReplaced(&inc, std.mem.zeroes(Hash.Hash)));
}
```

### toString - pending

```zig
test "toString - pending" {
    const status = pending();
    try std.testing.expectEqualStrings("pending", toString(&status));
}
```

### toString - included

```zig
test "toString - included" {
    const status = included(0, 0);
    try std.testing.expectEqualStrings("included", toString(&status));
}
```

### toString - confirmed

```zig
test "toString - confirmed" {
    const status = confirmed(0, 0, 0);
    try std.testing.expectEqualStrings("confirmed", toString(&status));
}
```

### toString - failed

```zig
test "toString - failed" {
    const status = failed(null);
    try std.testing.expectEqualStrings("failed", toString(&status));
}
```

### toString - replaced

```zig
test "toString - replaced" {
    const status = replaced(std.mem.zeroes(Hash.Hash));
    try std.testing.expectEqualStrings("replaced", toString(&status));
}
```

### equals - pending equal

```zig
test "equals - pending equal" {
    const a = pending();
    const b = pending();
    try std.testing.expect(equals(&a, &b));
}
```

### equals - included equal

```zig
test "equals - included equal" {
    const a = included(12345678, 21000);
    const b = included(12345678, 21000);
    try std.testing.expect(equals(&a, &b));
}
```

### equals - included not equal different block

```zig
test "equals - included not equal different block" {
    const a = included(12345678, 21000);
    const b = included(12345679, 21000);
    try std.testing.expect(!equals(&a, &b));
}
```

### equals - confirmed equal

```zig
test "equals - confirmed equal" {
    const a = confirmed(12345678, 21000, 12);
    const b = confirmed(12345678, 21000, 12);
    try std.testing.expect(equals(&a, &b));
}
```

### equals - confirmed not equal different confirmations

```zig
test "equals - confirmed not equal different confirmations" {
    const a = confirmed(12345678, 21000, 12);
    const b = confirmed(12345678, 21000, 24);
    try std.testing.expect(!equals(&a, &b));
}
```

### equals - failed equal no reason

```zig
test "equals - failed equal no reason" {
    const a = failed(null);
    const b = failed(null);
    try std.testing.expect(equals(&a, &b));
}
```

### equals - failed equal same reason

```zig
test "equals - failed equal same reason" {
    const reason = "Out of gas";
    const a = failed(reason);
    const b = failed(reason);
    try std.testing.expect(equals(&a, &b));
}
```

### equals - failed not equal different reason

```zig
test "equals - failed not equal different reason" {
    const a = failed("Reason A");
    const b = failed("Reason B");
    try std.testing.expect(!equals(&a, &b));
}
```

### equals - replaced equal

```zig
test "equals - replaced equal" {
    var hash: Hash.Hash = undefined;
    @memset(&hash, 0xab);
    const a = replaced(hash);
    const b = replaced(hash);
    try std.testing.expect(equals(&a, &b));
}
```

### equals - replaced not equal

```zig
test "equals - replaced not equal" {
    var hash_a: Hash.Hash = undefined;
    var hash_b: Hash.Hash = undefined;
    @memset(&hash_a, 0xab);
    @memset(&hash_b, 0xcd);
    const a = replaced(hash_a);
    const b = replaced(hash_b);
    try std.testing.expect(!equals(&a, &b));
}
```

### equals - different types not equal

```zig
test "equals - different types not equal" {
    const p = pending();
    const inc = included(0, 0);
    const conf = confirmed(0, 0, 0);
    const f = failed(null);
    const r = replaced(std.mem.zeroes(Hash.Hash));
    try std.testing.expect(!equals(&p, &inc));
    try std.testing.expect(!equals(&p, &conf));
    try std.testing.expect(!equals(&p, &f));
    try std.testing.expect(!equals(&p, &r));
    try std.testing.expect(!equals(&inc, &conf));
}
```

### equalsType - included same type different values

```zig
test "equalsType - included same type different values" {
    const a = included(12345678, 21000);
    const b = included(87654321, 30000);
    try std.testing.expect(equalsType(&a, &b));
}
```

### equalsType - different types

```zig
test "equalsType - different types" {
    const p = pending();
    const inc = included(0, 0);
    try std.testing.expect(!equalsType(&p, &inc));
}
```

---
title: '[Zig] src/primitives/Hardfork/hardfork.zig'
source: 'src/primitives/Hardfork/hardfork.zig'
---

> Auto-generated from Zig tests in: src/primitives/Hardfork/hardfork.zig

### Hardfork version comparison

```zig
test "Hardfork version comparison" {
    const frontier = Hardfork.FRONTIER;
    const homestead = Hardfork.HOMESTEAD;
    const cancun = Hardfork.CANCUN;

    try testing.expect(frontier.isBefore(homestead));
    try testing.expect(homestead.isAtLeast(frontier));
    try testing.expect(cancun.isAtLeast(homestead));
    try testing.expect(!cancun.isBefore(homestead));
}
```

### Hardfork fromString

```zig
test "Hardfork fromString" {
    try testing.expectEqual(Hardfork.FRONTIER, Hardfork.fromString("Frontier").?);
    try testing.expectEqual(Hardfork.CANCUN, Hardfork.fromString("cancun").?);
    try testing.expectEqual(Hardfork.SHANGHAI, Hardfork.fromString("Shanghai").?);
    try testing.expectEqual(Hardfork.MERGE, Hardfork.fromString("Paris").?); // Alias
    try testing.expectEqual(Hardfork.PETERSBURG, Hardfork.fromString("ConstantinopleFix").?); // Alias

    // With comparison operators
    try testing.expectEqual(Hardfork.CANCUN, Hardfork.fromString(">=Cancun").?);
    try testing.expectEqual(Hardfork.BERLIN, Hardfork.fromString(">Berlin").?);

    // Invalid
    try testing.expectEqual(@as(?Hardfork, null), Hardfork.fromString("InvalidFork"));
}
```

### ForkTransition fromString with block number

```zig
test "ForkTransition fromString with block number" {
    const transition = ForkTransition.fromString("BerlinToLondonAt12965000").?;

    try testing.expectEqual(Hardfork.BERLIN, transition.from_fork);
    try testing.expectEqual(Hardfork.LONDON, transition.to_fork);
    try testing.expectEqual(@as(?u64, 12965000), transition.at_block);
    try testing.expectEqual(@as(?u64, null), transition.at_timestamp);
}
```

### ForkTransition fromString with timestamp

```zig
test "ForkTransition fromString with timestamp" {
    const transition = ForkTransition.fromString("ShanghaiToCancunAtTime15k").?;

    try testing.expectEqual(Hardfork.SHANGHAI, transition.from_fork);
    try testing.expectEqual(Hardfork.CANCUN, transition.to_fork);
    try testing.expectEqual(@as(?u64, null), transition.at_block);
    try testing.expectEqual(@as(?u64, 15000), transition.at_timestamp);
}
```

### ForkTransition getActiveFork by block

```zig
test "ForkTransition getActiveFork by block" {
    const transition = ForkTransition{
        .from_fork = .BERLIN,
        .to_fork = .LONDON,
        .at_block = 12965000,
        .at_timestamp = null,
    };

    try testing.expectEqual(Hardfork.BERLIN, transition.getActiveFork(12964999, 0));
    try testing.expectEqual(Hardfork.LONDON, transition.getActiveFork(12965000, 0));
    try testing.expectEqual(Hardfork.LONDON, transition.getActiveFork(12965001, 0));
}
```

### ForkTransition getActiveFork by timestamp

```zig
test "ForkTransition getActiveFork by timestamp" {
    const transition = ForkTransition{
        .from_fork = .SHANGHAI,
        .to_fork = .CANCUN,
        .at_block = null,
        .at_timestamp = 15000,
    };

    try testing.expectEqual(Hardfork.SHANGHAI, transition.getActiveFork(0, 14999));
    try testing.expectEqual(Hardfork.CANCUN, transition.getActiveFork(0, 15000));
    try testing.expectEqual(Hardfork.CANCUN, transition.getActiveFork(0, 15001));
}
```

### parseNumber

```zig
test "parseNumber" {
    try testing.expectEqual(@as(?u64, 42), parseNumber("42"));
    try testing.expectEqual(@as(?u64, 15000), parseNumber("15k"));
    try testing.expectEqual(@as(?u64, 1000), parseNumber("1k"));
    try testing.expectEqual(@as(?u64, null), parseNumber(""));
    try testing.expectEqual(@as(?u64, null), parseNumber("invalid"));
}
```

### Hardfork DEFAULT constant

```zig
test "Hardfork DEFAULT constant" {
    try testing.expectEqual(Hardfork.PRAGUE, Hardfork.DEFAULT);
}
```

### all hardfork variants exist

```zig
test "all hardfork variants exist" {
    // Test that each hardfork can be created and has a valid integer value
    const frontier = Hardfork.FRONTIER;
    const homestead = Hardfork.HOMESTEAD;
    const dao = Hardfork.DAO;
    const tangerine = Hardfork.TANGERINE_WHISTLE;
    const spurious = Hardfork.SPURIOUS_DRAGON;
    const byzantium = Hardfork.BYZANTIUM;
    const constantinople = Hardfork.CONSTANTINOPLE;
    const petersburg = Hardfork.PETERSBURG;
    const istanbul = Hardfork.ISTANBUL;
    const muir = Hardfork.MUIR_GLACIER;
    const berlin = Hardfork.BERLIN;
    const london = Hardfork.LONDON;
    const arrow = Hardfork.ARROW_GLACIER;
    const gray = Hardfork.GRAY_GLACIER;
    const merge = Hardfork.MERGE;
    const shanghai = Hardfork.SHANGHAI;
    const cancun = Hardfork.CANCUN;
    const prague = Hardfork.PRAGUE;
    const osaka = Hardfork.OSAKA;

    // Verify each has a valid integer representation
    try testing.expectEqual(@as(u32, 0), frontier.toInt());
    try testing.expectEqual(@as(u32, 1), homestead.toInt());
    try testing.expectEqual(@as(u32, 2), dao.toInt());
    try testing.expectEqual(@as(u32, 3), tangerine.toInt());
    try testing.expectEqual(@as(u32, 4), spurious.toInt());
    try testing.expectEqual(@as(u32, 5), byzantium.toInt());
    try testing.expectEqual(@as(u32, 6), constantinople.toInt());
    try testing.expectEqual(@as(u32, 7), petersburg.toInt());
    try testing.expectEqual(@as(u32, 8), istanbul.toInt());
    try testing.expectEqual(@as(u32, 9), muir.toInt());
    try testing.expectEqual(@as(u32, 10), berlin.toInt());
    try testing.expectEqual(@as(u32, 11), london.toInt());
    try testing.expectEqual(@as(u32, 12), arrow.toInt());
    try testing.expectEqual(@as(u32, 13), gray.toInt());
    try testing.expectEqual(@as(u32, 14), merge.toInt());
    try testing.expectEqual(@as(u32, 15), shanghai.toInt());
    try testing.expectEqual(@as(u32, 16), cancun.toInt());
    try testing.expectEqual(@as(u32, 17), prague.toInt());
    try testing.expectEqual(@as(u32, 18), osaka.toInt());
}
```

### hardfork ordering is sequential

```zig
test "hardfork ordering is sequential" {
    // Verify that hardforks are in chronological order
    try testing.expect(Hardfork.FRONTIER.isBefore(.HOMESTEAD));
    try testing.expect(Hardfork.HOMESTEAD.isBefore(.DAO));
    try testing.expect(Hardfork.DAO.isBefore(.TANGERINE_WHISTLE));
    try testing.expect(Hardfork.TANGERINE_WHISTLE.isBefore(.SPURIOUS_DRAGON));
    try testing.expect(Hardfork.SPURIOUS_DRAGON.isBefore(.BYZANTIUM));
    try testing.expect(Hardfork.BYZANTIUM.isBefore(.CONSTANTINOPLE));
    try testing.expect(Hardfork.CONSTANTINOPLE.isBefore(.PETERSBURG));
    try testing.expect(Hardfork.PETERSBURG.isBefore(.ISTANBUL));
    try testing.expect(Hardfork.ISTANBUL.isBefore(.MUIR_GLACIER));
    try testing.expect(Hardfork.MUIR_GLACIER.isBefore(.BERLIN));
    try testing.expect(Hardfork.BERLIN.isBefore(.LONDON));
    try testing.expect(Hardfork.LONDON.isBefore(.ARROW_GLACIER));
    try testing.expect(Hardfork.ARROW_GLACIER.isBefore(.GRAY_GLACIER));
    try testing.expect(Hardfork.GRAY_GLACIER.isBefore(.MERGE));
    try testing.expect(Hardfork.MERGE.isBefore(.SHANGHAI));
    try testing.expect(Hardfork.SHANGHAI.isBefore(.CANCUN));
    try testing.expect(Hardfork.CANCUN.isBefore(.PRAGUE));
    try testing.expect(Hardfork.PRAGUE.isBefore(.OSAKA));
}
```

### isAtLeast with same hardfork

```zig
test "isAtLeast with same hardfork" {
    // A hardfork should be considered at least itself
    try testing.expect(Hardfork.FRONTIER.isAtLeast(.FRONTIER));
    try testing.expect(Hardfork.HOMESTEAD.isAtLeast(.HOMESTEAD));
    try testing.expect(Hardfork.CANCUN.isAtLeast(.CANCUN));
    try testing.expect(Hardfork.PRAGUE.isAtLeast(.PRAGUE));
    try testing.expect(Hardfork.OSAKA.isAtLeast(.OSAKA));
}
```

### isAtLeast across range

```zig
test "isAtLeast across range" {
    // Test that later hardforks are at least earlier ones
    try testing.expect(Hardfork.OSAKA.isAtLeast(.FRONTIER));
    try testing.expect(Hardfork.OSAKA.isAtLeast(.HOMESTEAD));
    try testing.expect(Hardfork.OSAKA.isAtLeast(.CANCUN));
    try testing.expect(Hardfork.OSAKA.isAtLeast(.PRAGUE));
    try testing.expect(!Hardfork.FRONTIER.isAtLeast(.OSAKA));
}
```

### isBefore across range

```zig
test "isBefore across range" {
    // Test that earlier hardforks are before later ones
    try testing.expect(Hardfork.FRONTIER.isBefore(.OSAKA));
    try testing.expect(Hardfork.HOMESTEAD.isBefore(.OSAKA));
    try testing.expect(Hardfork.CANCUN.isBefore(.OSAKA));
    try testing.expect(Hardfork.PRAGUE.isBefore(.OSAKA));
    try testing.expect(!Hardfork.OSAKA.isBefore(.FRONTIER));
}
```

### isBefore with same hardfork

```zig
test "isBefore with same hardfork" {
    // A hardfork should not be considered before itself
    try testing.expect(!Hardfork.FRONTIER.isBefore(.FRONTIER));
    try testing.expect(!Hardfork.HOMESTEAD.isBefore(.HOMESTEAD));
    try testing.expect(!Hardfork.CANCUN.isBefore(.CANCUN));
    try testing.expect(!Hardfork.PRAGUE.isBefore(.PRAGUE));
    try testing.expect(!Hardfork.OSAKA.isBefore(.OSAKA));
}
```

### fromString case insensitivity

```zig
test "fromString case insensitivity" {
    // Test various case combinations
    try testing.expectEqual(Hardfork.FRONTIER, Hardfork.fromString("frontier").?);
    try testing.expectEqual(Hardfork.FRONTIER, Hardfork.fromString("FRONTIER").?);
    try testing.expectEqual(Hardfork.FRONTIER, Hardfork.fromString("FrOnTiEr").?);

    try testing.expectEqual(Hardfork.CANCUN, Hardfork.fromString("cancun").?);
    try testing.expectEqual(Hardfork.CANCUN, Hardfork.fromString("CANCUN").?);
    try testing.expectEqual(Hardfork.CANCUN, Hardfork.fromString("CaNcUn").?);

    try testing.expectEqual(Hardfork.PRAGUE, Hardfork.fromString("prague").?);
    try testing.expectEqual(Hardfork.PRAGUE, Hardfork.fromString("PRAGUE").?);
    try testing.expectEqual(Hardfork.PRAGUE, Hardfork.fromString("PrAgUe").?);
}
```

### fromString all hardforks

```zig
test "fromString all hardforks" {
    // Test that all hardforks can be parsed from their names
    try testing.expectEqual(Hardfork.FRONTIER, Hardfork.fromString("Frontier").?);
    try testing.expectEqual(Hardfork.HOMESTEAD, Hardfork.fromString("Homestead").?);
    try testing.expectEqual(Hardfork.DAO, Hardfork.fromString("DAO").?);
    try testing.expectEqual(Hardfork.TANGERINE_WHISTLE, Hardfork.fromString("TangerineWhistle").?);
    try testing.expectEqual(Hardfork.SPURIOUS_DRAGON, Hardfork.fromString("SpuriousDragon").?);
    try testing.expectEqual(Hardfork.BYZANTIUM, Hardfork.fromString("Byzantium").?);
    try testing.expectEqual(Hardfork.CONSTANTINOPLE, Hardfork.fromString("Constantinople").?);
    try testing.expectEqual(Hardfork.PETERSBURG, Hardfork.fromString("Petersburg").?);
    try testing.expectEqual(Hardfork.ISTANBUL, Hardfork.fromString("Istanbul").?);
    try testing.expectEqual(Hardfork.MUIR_GLACIER, Hardfork.fromString("MuirGlacier").?);
    try testing.expectEqual(Hardfork.BERLIN, Hardfork.fromString("Berlin").?);
    try testing.expectEqual(Hardfork.LONDON, Hardfork.fromString("London").?);
    try testing.expectEqual(Hardfork.ARROW_GLACIER, Hardfork.fromString("ArrowGlacier").?);
    try testing.expectEqual(Hardfork.GRAY_GLACIER, Hardfork.fromString("GrayGlacier").?);
    try testing.expectEqual(Hardfork.MERGE, Hardfork.fromString("Merge").?);
    try testing.expectEqual(Hardfork.SHANGHAI, Hardfork.fromString("Shanghai").?);
    try testing.expectEqual(Hardfork.CANCUN, Hardfork.fromString("Cancun").?);
    try testing.expectEqual(Hardfork.PRAGUE, Hardfork.fromString("Prague").?);
    try testing.expectEqual(Hardfork.OSAKA, Hardfork.fromString("Osaka").?);
}
```

### fromString aliases

```zig
test "fromString aliases" {
    // Test common aliases
    try testing.expectEqual(Hardfork.MERGE, Hardfork.fromString("Paris").?);
    try testing.expectEqual(Hardfork.PETERSBURG, Hardfork.fromString("ConstantinopleFix").?);

    // Test aliases with different cases
    try testing.expectEqual(Hardfork.MERGE, Hardfork.fromString("paris").?);
    try testing.expectEqual(Hardfork.MERGE, Hardfork.fromString("PARIS").?);
    try testing.expectEqual(Hardfork.PETERSBURG, Hardfork.fromString("constantinoplefix").?);
}
```

### fromString with comparison operators

```zig
test "fromString with comparison operators" {
    // Test with >= operator
    try testing.expectEqual(Hardfork.CANCUN, Hardfork.fromString(">=Cancun").?);
    try testing.expectEqual(Hardfork.BERLIN, Hardfork.fromString(">=Berlin").?);
    try testing.expectEqual(Hardfork.FRONTIER, Hardfork.fromString(">=Frontier").?);

    // Test with > operator
    try testing.expectEqual(Hardfork.BERLIN, Hardfork.fromString(">Berlin").?);
    try testing.expectEqual(Hardfork.CANCUN, Hardfork.fromString(">Cancun").?);

    // Test with < operator
    try testing.expectEqual(Hardfork.BERLIN, Hardfork.fromString("<Berlin").?);
    try testing.expectEqual(Hardfork.CANCUN, Hardfork.fromString("<Cancun").?);

    // Test with <= operator
    try testing.expectEqual(Hardfork.BERLIN, Hardfork.fromString("<=Berlin").?);
    try testing.expectEqual(Hardfork.CANCUN, Hardfork.fromString("<=Cancun").?);
}
```

### fromString invalid inputs

```zig
test "fromString invalid inputs" {
    // Test various invalid inputs
    try testing.expectEqual(@as(?Hardfork, null), Hardfork.fromString("InvalidFork"));
    try testing.expectEqual(@as(?Hardfork, null), Hardfork.fromString(""));
    try testing.expectEqual(@as(?Hardfork, null), Hardfork.fromString("Random"));
    try testing.expectEqual(@as(?Hardfork, null), Hardfork.fromString("123"));
    try testing.expectEqual(@as(?Hardfork, null), Hardfork.fromString("Frontier2"));
    try testing.expectEqual(@as(?Hardfork, null), Hardfork.fromString("NotAFork"));
}
```

### ForkTransition fromString all components

```zig
test "ForkTransition fromString all components" {
    // Test transition with lowercase
    const t1 = ForkTransition.fromString("berlintolondonat12965000");
    try testing.expect(t1 != null);
    try testing.expectEqual(Hardfork.BERLIN, t1.?.from_fork);
    try testing.expectEqual(Hardfork.LONDON, t1.?.to_fork);
    try testing.expectEqual(@as(?u64, 12965000), t1.?.at_block);

    // Test transition with mixed case
    const t2 = ForkTransition.fromString("BerlinToLondonAt12965000");
    try testing.expect(t2 != null);
    try testing.expectEqual(Hardfork.BERLIN, t2.?.from_fork);
    try testing.expectEqual(Hardfork.LONDON, t2.?.to_fork);
}
```

### ForkTransition fromString with various numbers

```zig
test "ForkTransition fromString with various numbers" {
    // Test with small block number
    const t1 = ForkTransition.fromString("FrontierToHomesteadAt1");
    try testing.expect(t1 != null);
    try testing.expectEqual(@as(?u64, 1), t1.?.at_block);

    // Test with large block number
    const t2 = ForkTransition.fromString("BerlinToLondonAt12965000");
    try testing.expect(t2 != null);
    try testing.expectEqual(@as(?u64, 12965000), t2.?.at_block);

    // Test with zero
    const t3 = ForkTransition.fromString("FrontierToHomesteadAt0");
    try testing.expect(t3 != null);
    try testing.expectEqual(@as(?u64, 0), t3.?.at_block);
}
```

### ForkTransition fromString with timestamp suffixes

```zig
test "ForkTransition fromString with timestamp suffixes" {
    // Test with 'k' suffix
    const t1 = ForkTransition.fromString("ShanghaiToCancunAtTime15k");
    try testing.expect(t1 != null);
    try testing.expectEqual(@as(?u64, 15000), t1.?.at_timestamp);

    // Test with large 'k' value
    const t2 = ForkTransition.fromString("BerlinToLondonAtTime100k");
    try testing.expect(t2 != null);
    try testing.expectEqual(@as(?u64, 100000), t2.?.at_timestamp);

    // Test with timestamp without 'k'
    const t3 = ForkTransition.fromString("ShanghaiToCancunAtTime15000");
    try testing.expect(t3 != null);
    try testing.expectEqual(@as(?u64, 15000), t3.?.at_timestamp);
}
```

### ForkTransition fromString invalid formats

```zig
test "ForkTransition fromString invalid formats" {
    // Missing "To"
    try testing.expectEqual(@as(?ForkTransition, null), ForkTransition.fromString("BerlinLondonAt5"));

    // Missing "At"
    try testing.expectEqual(@as(?ForkTransition, null), ForkTransition.fromString("BerlinToLondon5"));

    // Invalid from fork
    try testing.expectEqual(@as(?ForkTransition, null), ForkTransition.fromString("InvalidToLondonAt5"));

    // Invalid to fork
    try testing.expectEqual(@as(?ForkTransition, null), ForkTransition.fromString("BerlinToInvalidAt5"));

    // Empty string
    try testing.expectEqual(@as(?ForkTransition, null), ForkTransition.fromString(""));

    // Invalid number
    try testing.expectEqual(@as(?ForkTransition, null), ForkTransition.fromString("BerlinToLondonAtInvalid"));
}
```

### ForkTransition getActiveFork block boundary

```zig
test "ForkTransition getActiveFork block boundary" {
    const transition = ForkTransition{
        .from_fork = .BERLIN,
        .to_fork = .LONDON,
        .at_block = 100,
        .at_timestamp = null,
    };

    // Before transition
    try testing.expectEqual(Hardfork.BERLIN, transition.getActiveFork(0, 0));
    try testing.expectEqual(Hardfork.BERLIN, transition.getActiveFork(99, 0));

    // At transition
    try testing.expectEqual(Hardfork.LONDON, transition.getActiveFork(100, 0));

    // After transition
    try testing.expectEqual(Hardfork.LONDON, transition.getActiveFork(101, 0));
    try testing.expectEqual(Hardfork.LONDON, transition.getActiveFork(1000000, 0));
}
```

### ForkTransition getActiveFork timestamp boundary

```zig
test "ForkTransition getActiveFork timestamp boundary" {
    const transition = ForkTransition{
        .from_fork = .SHANGHAI,
        .to_fork = .CANCUN,
        .at_block = null,
        .at_timestamp = 15000,
    };

    // Before transition
    try testing.expectEqual(Hardfork.SHANGHAI, transition.getActiveFork(0, 0));
    try testing.expectEqual(Hardfork.SHANGHAI, transition.getActiveFork(0, 14999));

    // At transition
    try testing.expectEqual(Hardfork.CANCUN, transition.getActiveFork(0, 15000));

    // After transition
    try testing.expectEqual(Hardfork.CANCUN, transition.getActiveFork(0, 15001));
    try testing.expectEqual(Hardfork.CANCUN, transition.getActiveFork(0, 1000000));
}
```

### ForkTransition getActiveFork neither block nor timestamp

```zig
test "ForkTransition getActiveFork neither block nor timestamp" {
    // When neither at_block nor at_timestamp is set, should return to_fork
    const transition = ForkTransition{
        .from_fork = .BERLIN,
        .to_fork = .LONDON,
        .at_block = null,
        .at_timestamp = null,
    };

    try testing.expectEqual(Hardfork.LONDON, transition.getActiveFork(0, 0));
    try testing.expectEqual(Hardfork.LONDON, transition.getActiveFork(100, 0));
    try testing.expectEqual(Hardfork.LONDON, transition.getActiveFork(0, 100));
    try testing.expectEqual(Hardfork.LONDON, transition.getActiveFork(100, 100));
}
```

### parseNumber various formats

```zig
test "parseNumber various formats" {
    // Plain numbers
    try testing.expectEqual(@as(u64, 0), try parseNumber("0"));
    try testing.expectEqual(@as(u64, 1), try parseNumber("1"));
    try testing.expectEqual(@as(u64, 42), try parseNumber("42"));
    try testing.expectEqual(@as(u64, 12965000), try parseNumber("12965000"));

    // Numbers with 'k' suffix
    try testing.expectEqual(@as(u64, 1000), try parseNumber("1k"));
    try testing.expectEqual(@as(u64, 15000), try parseNumber("15k"));
    try testing.expectEqual(@as(u64, 100000), try parseNumber("100k"));
}
```

### parseNumber errors

```zig
test "parseNumber errors" {
    // Empty string
    try testing.expectError(ParseNumberError.EmptyString, parseNumber(""));

    // Invalid format
    try testing.expectError(ParseNumberError.InvalidFormat, parseNumber("invalid"));
    try testing.expectError(ParseNumberError.InvalidFormat, parseNumber("abc"));
    try testing.expectError(ParseNumberError.InvalidFormat, parseNumber("12x"));
    try testing.expectError(ParseNumberError.InvalidFormat, parseNumber("k"));
    try testing.expectError(ParseNumberError.InvalidFormat, parseNumber("1.5"));
}
```

### hardfork comparison chain

```zig
test "hardfork comparison chain" {
    // Test a full comparison chain from oldest to newest
    const forks = [_]Hardfork{
        .FRONTIER,
        .HOMESTEAD,
        .DAO,
        .TANGERINE_WHISTLE,
        .SPURIOUS_DRAGON,
        .BYZANTIUM,
        .CONSTANTINOPLE,
        .PETERSBURG,
        .ISTANBUL,
        .MUIR_GLACIER,
        .BERLIN,
        .LONDON,
        .ARROW_GLACIER,
        .GRAY_GLACIER,
        .MERGE,
        .SHANGHAI,
        .CANCUN,
        .PRAGUE,
        .OSAKA,
    };

    // Each fork should be before all later forks
    for (forks, 0..) |fork1, i| {
        for (forks[i + 1 ..]) |fork2| {
            try testing.expect(fork1.isBefore(fork2));
            try testing.expect(!fork2.isBefore(fork1));
            try testing.expect(fork2.isAtLeast(fork1));
            try testing.expect(!fork1.isAtLeast(fork2));
        }
    }
}
```

### ForkTransition comprehensive parsing

```zig
test "ForkTransition comprehensive parsing" {
    // Test various realistic transitions
    const transitions = [_][]const u8{
        "FrontierToHomesteadAt1150000",
        "HomesteadToDAOAt1920000",
        "ByzantiumToConstantinopleAt7280000",
        "BerlinToLondonAt12965000",
        "ShanghaiToCancunAtTime1710338135",
        "CancunToPragueAtTime1740000000",
    };

    for (transitions) |transition_str| {
        const transition = ForkTransition.fromString(transition_str);
        try testing.expect(transition != null);
    }
}
```

### toInt consistency

```zig
test "toInt consistency" {
    // Verify that toInt returns consistent values
    const frontier = Hardfork.FRONTIER;
    const osaka = Hardfork.OSAKA;

    try testing.expectEqual(frontier.toInt(), frontier.toInt());
    try testing.expectEqual(osaka.toInt(), osaka.toInt());

    // Verify ordering through toInt
    try testing.expect(frontier.toInt() < osaka.toInt());
}
```

### mainnet activation blocks

```zig
test "mainnet activation blocks" {
    try testing.expectEqual(@as(?u64, 0), Hardfork.FRONTIER.mainnetActivationBlock());
    try testing.expectEqual(@as(?u64, 1150000), Hardfork.HOMESTEAD.mainnetActivationBlock());
    try testing.expectEqual(@as(?u64, 1920000), Hardfork.DAO.mainnetActivationBlock());
    try testing.expectEqual(@as(?u64, 2463000), Hardfork.TANGERINE_WHISTLE.mainnetActivationBlock());
    try testing.expectEqual(@as(?u64, 2675000), Hardfork.SPURIOUS_DRAGON.mainnetActivationBlock());
    try testing.expectEqual(@as(?u64, 4370000), Hardfork.BYZANTIUM.mainnetActivationBlock());
    try testing.expectEqual(@as(?u64, 7280000), Hardfork.CONSTANTINOPLE.mainnetActivationBlock());
    try testing.expectEqual(@as(?u64, 7280000), Hardfork.PETERSBURG.mainnetActivationBlock());
    try testing.expectEqual(@as(?u64, 9069000), Hardfork.ISTANBUL.mainnetActivationBlock());
    try testing.expectEqual(@as(?u64, 9200000), Hardfork.MUIR_GLACIER.mainnetActivationBlock());
    try testing.expectEqual(@as(?u64, 12244000), Hardfork.BERLIN.mainnetActivationBlock());
    try testing.expectEqual(@as(?u64, 12965000), Hardfork.LONDON.mainnetActivationBlock());
    try testing.expectEqual(@as(?u64, 13773000), Hardfork.ARROW_GLACIER.mainnetActivationBlock());
    try testing.expectEqual(@as(?u64, 15050000), Hardfork.GRAY_GLACIER.mainnetActivationBlock());
    try testing.expectEqual(@as(?u64, 15537394), Hardfork.MERGE.mainnetActivationBlock());
    try testing.expectEqual(@as(?u64, 17034870), Hardfork.SHANGHAI.mainnetActivationBlock());
    try testing.expectEqual(@as(?u64, 19426587), Hardfork.CANCUN.mainnetActivationBlock());
    try testing.expectEqual(@as(?u64, null), Hardfork.PRAGUE.mainnetActivationBlock());
    try testing.expectEqual(@as(?u64, null), Hardfork.OSAKA.mainnetActivationBlock());
}
```

### mainnet activation timestamps

```zig
test "mainnet activation timestamps" {
    // Pre-Merge forks have no timestamp
    try testing.expectEqual(@as(?u64, null), Hardfork.FRONTIER.mainnetActivationTimestamp());
    try testing.expectEqual(@as(?u64, null), Hardfork.HOMESTEAD.mainnetActivationTimestamp());
    try testing.expectEqual(@as(?u64, null), Hardfork.BERLIN.mainnetActivationTimestamp());
    try testing.expectEqual(@as(?u64, null), Hardfork.LONDON.mainnetActivationTimestamp());

    // Post-Merge forks have timestamps
    try testing.expectEqual(@as(?u64, 1663224162), Hardfork.MERGE.mainnetActivationTimestamp());
    try testing.expectEqual(@as(?u64, 1681338455), Hardfork.SHANGHAI.mainnetActivationTimestamp());
    try testing.expectEqual(@as(?u64, 1710338135), Hardfork.CANCUN.mainnetActivationTimestamp());
    try testing.expectEqual(@as(?u64, null), Hardfork.PRAGUE.mainnetActivationTimestamp());
    try testing.expectEqual(@as(?u64, null), Hardfork.OSAKA.mainnetActivationTimestamp());
}
```

### mainnet activation block ordering

```zig
test "mainnet activation block ordering" {
    const frontier = Hardfork.FRONTIER.mainnetActivationBlock().?;
    const homestead = Hardfork.HOMESTEAD.mainnetActivationBlock().?;
    const berlin = Hardfork.BERLIN.mainnetActivationBlock().?;
    const london = Hardfork.LONDON.mainnetActivationBlock().?;
    const merge = Hardfork.MERGE.mainnetActivationBlock().?;
    const shanghai = Hardfork.SHANGHAI.mainnetActivationBlock().?;
    const cancun = Hardfork.CANCUN.mainnetActivationBlock().?;

    try testing.expect(frontier < homestead);
    try testing.expect(homestead < berlin);
    try testing.expect(berlin < london);
    try testing.expect(london < merge);
    try testing.expect(merge < shanghai);
    try testing.expect(shanghai < cancun);
}
```

### mainnet activation timestamp ordering

```zig
test "mainnet activation timestamp ordering" {
    const merge = Hardfork.MERGE.mainnetActivationTimestamp().?;
    const shanghai = Hardfork.SHANGHAI.mainnetActivationTimestamp().?;
    const cancun = Hardfork.CANCUN.mainnetActivationTimestamp().?;

    try testing.expect(merge < shanghai);
    try testing.expect(shanghai < cancun);
}
```

### isEipActive delegation

```zig
test "isEipActive delegation" {
    try testing.expect(!Hardfork.FRONTIER.isEipActive(150));
    try testing.expect(Hardfork.TANGERINE_WHISTLE.isEipActive(150));

    try testing.expect(!Hardfork.ISTANBUL.isEipActive(2929));
    try testing.expect(Hardfork.BERLIN.isEipActive(2929));

    try testing.expect(!Hardfork.BERLIN.isEipActive(1559));
    try testing.expect(Hardfork.LONDON.isEipActive(1559));

    try testing.expect(!Hardfork.LONDON.isEipActive(3855));
    try testing.expect(Hardfork.SHANGHAI.isEipActive(3855));

    try testing.expect(!Hardfork.SHANGHAI.isEipActive(1153));
    try testing.expect(Hardfork.CANCUN.isEipActive(1153));
    try testing.expect(Hardfork.CANCUN.isEipActive(4844));
    try testing.expect(Hardfork.CANCUN.isEipActive(6780));

    try testing.expect(!Hardfork.CANCUN.isEipActive(7702));
    try testing.expect(Hardfork.PRAGUE.isEipActive(7702));
    try testing.expect(Hardfork.PRAGUE.isEipActive(2537));
    try testing.expect(Hardfork.PRAGUE.isEipActive(7002));

    try testing.expect(Hardfork.OSAKA.isEipActive(7883));
    try testing.expect(Hardfork.OSAKA.isEipActive(7823));
    try testing.expect(Hardfork.OSAKA.isEipActive(7702));
}
```

### constantinople petersburg same block

```zig
test "constantinople petersburg same block" {
    const constantinople_block = Hardfork.CONSTANTINOPLE.mainnetActivationBlock().?;
    const petersburg_block = Hardfork.PETERSBURG.mainnetActivationBlock().?;

    try testing.expectEqual(constantinople_block, petersburg_block);
}
```

### isAfter

```zig
test "isAfter" {
    try testing.expect(Hardfork.CANCUN.isAfter(.SHANGHAI));
    try testing.expect(Hardfork.PRAGUE.isAfter(.BERLIN));
    try testing.expect(!Hardfork.BERLIN.isAfter(.LONDON));
    try testing.expect(!Hardfork.SHANGHAI.isAfter(.SHANGHAI));
}
```

### isEqual

```zig
test "isEqual" {
    try testing.expect(Hardfork.CANCUN.isEqual(.CANCUN));
    try testing.expect(Hardfork.FRONTIER.isEqual(.FRONTIER));
    try testing.expect(!Hardfork.CANCUN.isEqual(.SHANGHAI));
    try testing.expect(!Hardfork.BERLIN.isEqual(.LONDON));
}
```

### compare

```zig
test "compare" {
    try testing.expect(Hardfork.compare(.BERLIN, .LONDON) < 0);
    try testing.expect(Hardfork.compare(.FRONTIER, .CANCUN) < 0);
    try testing.expectEqual(@as(i32, 0), Hardfork.compare(.CANCUN, .CANCUN));
    try testing.expectEqual(@as(i32, 0), Hardfork.compare(.SHANGHAI, .SHANGHAI));
    try testing.expect(Hardfork.compare(.PRAGUE, .SHANGHAI) > 0);
    try testing.expect(Hardfork.compare(.LONDON, .BERLIN) > 0);
}
```

### gte

```zig
test "gte" {
    try testing.expect(Hardfork.CANCUN.gte(.SHANGHAI));
    try testing.expect(Hardfork.CANCUN.gte(.CANCUN));
    try testing.expect(!Hardfork.BERLIN.gte(.LONDON));
}
```

### lt

```zig
test "lt" {
    try testing.expect(Hardfork.BERLIN.lt(.LONDON));
    try testing.expect(!Hardfork.CANCUN.lt(.SHANGHAI));
    try testing.expect(!Hardfork.LONDON.lt(.LONDON));
}
```

### gt

```zig
test "gt" {
    try testing.expect(Hardfork.CANCUN.gt(.SHANGHAI));
    try testing.expect(!Hardfork.BERLIN.gt(.LONDON));
    try testing.expect(!Hardfork.BERLIN.gt(.BERLIN));
}
```

### equals

```zig
test "equals" {
    try testing.expect(Hardfork.CANCUN.equals(.CANCUN));
    try testing.expect(!Hardfork.CANCUN.equals(.SHANGHAI));
}
```

### lte

```zig
test "lte" {
    try testing.expect(Hardfork.SHANGHAI.lte(.CANCUN));
    try testing.expect(Hardfork.SHANGHAI.lte(.SHANGHAI));
    try testing.expect(!Hardfork.CANCUN.lte(.SHANGHAI));
}
```

### min with valid forks

```zig
test "min with valid forks" {
    const forks = [_]Hardfork{ .CANCUN, .BERLIN, .SHANGHAI };
    try testing.expectEqual(Hardfork.BERLIN, Hardfork.min(&forks).?);

    const single = [_]Hardfork{.CANCUN};
    try testing.expectEqual(Hardfork.CANCUN, Hardfork.min(&single).?);
}
```

### min with empty array

```zig
test "min with empty array" {
    const empty: []const Hardfork = &[_]Hardfork{};
    try testing.expectEqual(@as(?Hardfork, null), Hardfork.min(empty));
}
```

### max with valid forks

```zig
test "max with valid forks" {
    const forks = [_]Hardfork{ .CANCUN, .BERLIN, .SHANGHAI };
    try testing.expectEqual(Hardfork.CANCUN, Hardfork.max(&forks).?);

    const single = [_]Hardfork{.BERLIN};
    try testing.expectEqual(Hardfork.BERLIN, Hardfork.max(&single).?);
}
```

### max with empty array

```zig
test "max with empty array" {
    const empty: []const Hardfork = &[_]Hardfork{};
    try testing.expectEqual(@as(?Hardfork, null), Hardfork.max(empty));
}
```

### range ascending

```zig
test "range ascending" {
    const r = try Hardfork.range(testing.allocator, .BERLIN, .SHANGHAI);
    defer testing.allocator.free(r);

    try testing.expectEqual(@as(usize, 6), r.len);
    try testing.expectEqual(Hardfork.BERLIN, r[0]);
    try testing.expectEqual(Hardfork.LONDON, r[1]);
    try testing.expectEqual(Hardfork.ARROW_GLACIER, r[2]);
    try testing.expectEqual(Hardfork.GRAY_GLACIER, r[3]);
    try testing.expectEqual(Hardfork.MERGE, r[4]);
    try testing.expectEqual(Hardfork.SHANGHAI, r[5]);
}
```

### range descending

```zig
test "range descending" {
    const r = try Hardfork.range(testing.allocator, .SHANGHAI, .BERLIN);
    defer testing.allocator.free(r);

    try testing.expectEqual(@as(usize, 6), r.len);
    try testing.expectEqual(Hardfork.SHANGHAI, r[0]);
    try testing.expectEqual(Hardfork.MERGE, r[1]);
    try testing.expectEqual(Hardfork.GRAY_GLACIER, r[2]);
    try testing.expectEqual(Hardfork.ARROW_GLACIER, r[3]);
    try testing.expectEqual(Hardfork.LONDON, r[4]);
    try testing.expectEqual(Hardfork.BERLIN, r[5]);
}
```

### range single element

```zig
test "range single element" {
    const r = try Hardfork.range(testing.allocator, .CANCUN, .CANCUN);
    defer testing.allocator.free(r);

    try testing.expectEqual(@as(usize, 1), r.len);
    try testing.expectEqual(Hardfork.CANCUN, r[0]);
}
```

### range adjacent

```zig
test "range adjacent" {
    const r = try Hardfork.range(testing.allocator, .BERLIN, .LONDON);
    defer testing.allocator.free(r);

    try testing.expectEqual(@as(usize, 2), r.len);
    try testing.expectEqual(Hardfork.BERLIN, r[0]);
    try testing.expectEqual(Hardfork.LONDON, r[1]);
}
```

### toString

```zig
test "toString" {
    try testing.expectEqualStrings("cancun", Hardfork.CANCUN.toString());
    try testing.expectEqualStrings("shanghai", Hardfork.SHANGHAI.toString());
    try testing.expectEqualStrings("london", Hardfork.LONDON.toString());
    try testing.expectEqualStrings("berlin", Hardfork.BERLIN.toString());
    try testing.expectEqualStrings("merge", Hardfork.MERGE.toString());
    try testing.expectEqualStrings("petersburg", Hardfork.PETERSBURG.toString());
}
```

### toString all hardforks

```zig
test "toString all hardforks" {
    const ids = Hardfork.allIds();
    for (ids) |id| {
        const name = id.toString();
        try testing.expect(name.len > 0);
    }
}
```

### toString roundtrip with fromString

```zig
test "toString roundtrip with fromString" {
    const ids = Hardfork.allIds();
    for (ids) |id| {
        const name = id.toString();
        const parsed = Hardfork.fromString(name);
        try testing.expectEqual(id, parsed.?);
    }
}
```

### isValidName

```zig
test "isValidName" {
    try testing.expect(Hardfork.isValidName("cancun"));
    try testing.expect(Hardfork.isValidName("shanghai"));
    try testing.expect(Hardfork.isValidName("paris"));
    try testing.expect(Hardfork.isValidName("constantinoplefix"));
    try testing.expect(Hardfork.isValidName("Cancun"));
    try testing.expect(Hardfork.isValidName("SHANGHAI"));
    try testing.expect(!Hardfork.isValidName("unknown"));
    try testing.expect(!Hardfork.isValidName(""));
    try testing.expect(!Hardfork.isValidName("not-a-fork"));
}
```

### allNames

```zig
test "allNames" {
    const names = Hardfork.allNames();
    try testing.expectEqual(@as(usize, 19), names.len);
    try testing.expectEqualStrings("frontier", names[0]);
    try testing.expectEqualStrings("cancun", names[16]);
    try testing.expectEqualStrings("osaka", names[18]);

    // All names should be valid
    for (names) |name| {
        try testing.expect(Hardfork.isValidName(name));
    }
}
```

### allIds

```zig
test "allIds" {
    const ids = Hardfork.allIds();
    try testing.expectEqual(@as(usize, 19), ids.len);
    try testing.expectEqual(Hardfork.FRONTIER, ids[0]);
    try testing.expectEqual(Hardfork.CANCUN, ids[16]);
    try testing.expectEqual(Hardfork.OSAKA, ids[18]);
}
```

### hasEIP1559

```zig
test "hasEIP1559" {
    try testing.expect(Hardfork.LONDON.hasEIP1559());
    try testing.expect(Hardfork.MERGE.hasEIP1559());
    try testing.expect(Hardfork.SHANGHAI.hasEIP1559());
    try testing.expect(Hardfork.CANCUN.hasEIP1559());
    try testing.expect(Hardfork.PRAGUE.hasEIP1559());
    try testing.expect(!Hardfork.BERLIN.hasEIP1559());
    try testing.expect(!Hardfork.ISTANBUL.hasEIP1559());
    try testing.expect(!Hardfork.FRONTIER.hasEIP1559());
}
```

### supportsEIP1559

```zig
test "supportsEIP1559" {
    try testing.expect(Hardfork.LONDON.supportsEIP1559());
    try testing.expect(!Hardfork.BERLIN.supportsEIP1559());
}
```

### hasEIP3855

```zig
test "hasEIP3855" {
    try testing.expect(Hardfork.SHANGHAI.hasEIP3855());
    try testing.expect(Hardfork.CANCUN.hasEIP3855());
    try testing.expect(Hardfork.PRAGUE.hasEIP3855());
    try testing.expect(!Hardfork.MERGE.hasEIP3855());
    try testing.expect(!Hardfork.LONDON.hasEIP3855());
    try testing.expect(!Hardfork.BERLIN.hasEIP3855());
}
```

### supportsPUSH0

```zig
test "supportsPUSH0" {
    try testing.expect(Hardfork.SHANGHAI.supportsPUSH0());
    try testing.expect(!Hardfork.MERGE.supportsPUSH0());
}
```

### hasEIP4844

```zig
test "hasEIP4844" {
    try testing.expect(Hardfork.CANCUN.hasEIP4844());
    try testing.expect(Hardfork.PRAGUE.hasEIP4844());
    try testing.expect(Hardfork.OSAKA.hasEIP4844());
    try testing.expect(!Hardfork.SHANGHAI.hasEIP4844());
    try testing.expect(!Hardfork.MERGE.hasEIP4844());
    try testing.expect(!Hardfork.LONDON.hasEIP4844());
}
```

### supportsBlobs

```zig
test "supportsBlobs" {
    try testing.expect(Hardfork.CANCUN.supportsBlobs());
    try testing.expect(!Hardfork.SHANGHAI.supportsBlobs());
}
```

### hasEIP1153

```zig
test "hasEIP1153" {
    try testing.expect(Hardfork.CANCUN.hasEIP1153());
    try testing.expect(Hardfork.PRAGUE.hasEIP1153());
    try testing.expect(!Hardfork.SHANGHAI.hasEIP1153());
    try testing.expect(!Hardfork.MERGE.hasEIP1153());
}
```

### supportsTransientStorage

```zig
test "supportsTransientStorage" {
    try testing.expect(Hardfork.CANCUN.supportsTransientStorage());
    try testing.expect(!Hardfork.SHANGHAI.supportsTransientStorage());
}
```

### isPostMerge

```zig
test "isPostMerge" {
    try testing.expect(Hardfork.MERGE.isPostMerge());
    try testing.expect(Hardfork.SHANGHAI.isPostMerge());
    try testing.expect(Hardfork.CANCUN.isPostMerge());
    try testing.expect(Hardfork.PRAGUE.isPostMerge());
    try testing.expect(!Hardfork.GRAY_GLACIER.isPostMerge());
    try testing.expect(!Hardfork.LONDON.isPostMerge());
    try testing.expect(!Hardfork.BERLIN.isPostMerge());
}
```

### isPoS

```zig
test "isPoS" {
    try testing.expect(Hardfork.MERGE.isPoS());
    try testing.expect(!Hardfork.LONDON.isPoS());
}
```

---
title: '[Zig] src/evm/precompiles/blake2f.zig'
source: 'src/evm/precompiles/blake2f.zig'
---

> Auto-generated from Zig tests in: src/evm/precompiles/blake2f.zig

### blake2f - invalid input length too short

```zig
test "blake2f - invalid input length too short" {
    const testing = std.testing;
    const allocator = testing.allocator;

    const input = [_]u8{0} ** 100;
    const result = execute(allocator, &input, 1000000);
    try testing.expectError(error.InvalidInput, result);
}
```

### blake2f - invalid input length too long

```zig
test "blake2f - invalid input length too long" {
    const testing = std.testing;
    const allocator = testing.allocator;

    const input = [_]u8{0} ** 214;
    const result = execute(allocator, &input, 1000000);
    try testing.expectError(error.InvalidInput, result);
}
```

### blake2f - invalid input length zero

```zig
test "blake2f - invalid input length zero" {
    const testing = std.testing;
    const allocator = testing.allocator;

    const input = [_]u8{};
    const result = execute(allocator, &input, 1000000);
    try testing.expectError(error.InvalidInput, result);
}
```

### blake2f - exact input length

```zig
test "blake2f - exact input length" {
    const testing = std.testing;
    const allocator = testing.allocator;

    const input = [_]u8{0} ** 213;
    const result = try execute(allocator, &input, 1000000);
    defer result.deinit(allocator);

    try testing.expectEqual(@as(usize, 64), result.output.len);
}
```

### blake2f - gas cost calculation zero rounds

```zig
test "blake2f - gas cost calculation zero rounds" {
    const testing = std.testing;
    const allocator = testing.allocator;

    var input = [_]u8{0} ** 213;
    const rounds: u32 = 0;
    std.mem.writeInt(u32, input[0..4], rounds, .big);

    const result = try execute(allocator, &input, 1000000);
    defer result.deinit(allocator);

    const expected_gas = PER_ROUND_GAS * rounds;
    try testing.expectEqual(expected_gas, result.gas_used);
    try testing.expectEqual(@as(u64, 0), result.gas_used);
}
```

### blake2f - gas cost calculation one round

```zig
test "blake2f - gas cost calculation one round" {
    const testing = std.testing;
    const allocator = testing.allocator;

    var input = [_]u8{0} ** 213;
    const rounds: u32 = 1;
    std.mem.writeInt(u32, input[0..4], rounds, .big);

    const result = try execute(allocator, &input, 1000000);
    defer result.deinit(allocator);

    const expected_gas = PER_ROUND_GAS * rounds;
    try testing.expectEqual(expected_gas, result.gas_used);
    try testing.expectEqual(@as(u64, 1), result.gas_used);
}
```

### blake2f - gas cost calculation twelve rounds

```zig
test "blake2f - gas cost calculation twelve rounds" {
    const testing = std.testing;
    const allocator = testing.allocator;

    var input = [_]u8{0} ** 213;
    const rounds: u32 = 12;
    std.mem.writeInt(u32, input[0..4], rounds, .big);

    const result = try execute(allocator, &input, 1000000);
    defer result.deinit(allocator);

    const expected_gas = PER_ROUND_GAS * rounds;
    try testing.expectEqual(expected_gas, result.gas_used);
    try testing.expectEqual(@as(u64, 12), result.gas_used);
}
```

### blake2f - gas cost calculation large rounds

```zig
test "blake2f - gas cost calculation large rounds" {
    const testing = std.testing;
    const allocator = testing.allocator;

    var input = [_]u8{0} ** 213;
    const rounds: u32 = 100000;
    std.mem.writeInt(u32, input[0..4], rounds, .big);

    const result = try execute(allocator, &input, 1000000);
    defer result.deinit(allocator);

    const expected_gas = PER_ROUND_GAS * rounds;
    try testing.expectEqual(expected_gas, result.gas_used);
    try testing.expectEqual(@as(u64, 100000), result.gas_used);
}
```

### blake2f - out of gas zero rounds allowed

```zig
test "blake2f - out of gas zero rounds allowed" {
    const testing = std.testing;
    const allocator = testing.allocator;

    var input = [_]u8{0} ** 213;
    const rounds: u32 = 1;
    std.mem.writeInt(u32, input[0..4], rounds, .big);

    const result = execute(allocator, &input, 0);
    try testing.expectError(error.OutOfGas, result);
}
```

### blake2f - out of gas insufficient

```zig
test "blake2f - out of gas insufficient" {
    const testing = std.testing;
    const allocator = testing.allocator;

    var input = [_]u8{0} ** 213;
    const rounds: u32 = 100;
    std.mem.writeInt(u32, input[0..4], rounds, .big);

    const required_gas = PER_ROUND_GAS * rounds;
    const result = execute(allocator, &input, required_gas - 1);
    try testing.expectError(error.OutOfGas, result);
}
```

### blake2f - exact gas limit

```zig
test "blake2f - exact gas limit" {
    const testing = std.testing;
    const allocator = testing.allocator;

    var input = [_]u8{0} ** 213;
    const rounds: u32 = 50;
    std.mem.writeInt(u32, input[0..4], rounds, .big);

    const required_gas = PER_ROUND_GAS * rounds;
    const result = try execute(allocator, &input, required_gas);
    defer result.deinit(allocator);

    try testing.expectEqual(required_gas, result.gas_used);
}
```

### blake2f - output length always 64 bytes

```zig
test "blake2f - output length always 64 bytes" {
    const testing = std.testing;
    const allocator = testing.allocator;

    var input = [_]u8{0} ** 213;
    const result = try execute(allocator, &input, 1000000);
    defer result.deinit(allocator);

    try testing.expectEqual(@as(usize, 64), result.output.len);
}
```

### blake2f - maximum rounds

```zig
test "blake2f - maximum rounds" {
    const testing = std.testing;
    const allocator = testing.allocator;

    var input = [_]u8{0} ** 213;
    const rounds: u32 = std.math.maxInt(u32);
    std.mem.writeInt(u32, input[0..4], rounds, .big);

    const required_gas = PER_ROUND_GAS * rounds;
    const result = execute(allocator, &input, required_gas - 1);
    try testing.expectError(error.OutOfGas, result);
}
```

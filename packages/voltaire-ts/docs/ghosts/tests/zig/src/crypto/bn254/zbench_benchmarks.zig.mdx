---
title: '[Zig] src/crypto/bn254/zbench_benchmarks.zig'
source: 'src/crypto/bn254/zbench_benchmarks.zig'
---

> Auto-generated from Zig tests in: src/crypto/bn254/zbench_benchmarks.zig

### field benchmarks

```zig
test "field benchmarks" {
    var stdout_buffer: [4096]u8 = undefined;
    var stdout_writer = std.fs.File.stdout().writer(&stdout_buffer);
    const stdout = &stdout_writer.interface;

    const allocator = std.testing.allocator;
    // 500ms time budget for field benchmarks
    var bench = zbench.Benchmark.init(allocator, .{ .time_budget_ns = 5e8 });
    defer bench.deinit();

    //we need to run the benchmarks 1000 times otherwise the clock resolution is too low to measure the time accurately

    // Base field operations
    try bench.add("Fp Addition (1000)", benchmarkFpMontAdd, .{});
    try bench.add("Fp Subtraction (1000)", benchmarkFpMontSub, .{});
    try bench.add("Fp Multiplication (1000)", benchmarkFpMontMul, .{});
    try bench.add("Fp Squaring (1000)", benchmarkFpMontSquare, .{});
    try bench.add("Fp Inversion (1000)", benchmarkFpMontInv, .{});

    // Extension field operations
    try bench.add("Fp2 Addition (1000)", benchmarkFp2MontAdd, .{});
    try bench.add("Fp2 Subtraction (1000)", benchmarkFp2MontSub, .{});
    try bench.add("Fp2 Multiplication (1000)", benchmarkFp2MontMul, .{});
    try bench.add("Fp2 Squaring (1000)", benchmarkFp2MontSquare, .{});
    try bench.add("Fp2 Inversion (1000)", benchmarkFp2MontInv, .{});

    try bench.add("Fp6 Addition (1000)", benchmarkFp6MontAdd, .{});
    try bench.add("Fp6 Subtraction (1000)", benchmarkFp6MontSub, .{});
    try bench.add("Fp6 Multiplication (1000)", benchmarkFp6MontMul, .{});
    try bench.add("Fp6 Squaring (1000)", benchmarkFp6MontSquare, .{});
    try bench.add("Fp6 Inversion (1000)", benchmarkFp6MontInv, .{});

    try bench.add("Fp12 Addition (1000)", benchmarkFp12MontAdd, .{});
    try bench.add("Fp12 Subtraction (1000)", benchmarkFp12MontSub, .{});
    try bench.add("Fp12 Multiplication (1000)", benchmarkFp12MontMul, .{});
    try bench.add("Fp12 Squaring (1000)", benchmarkFp12MontSquare, .{});
    try bench.add("Fp12 Inversion (1000)", benchmarkFp12MontInv, .{});

    try bench.add("Fr Addition (1000)", benchmarkFrAdd, .{});
    try bench.add("Fr Subtraction (1000)", benchmarkFrSub, .{});
    try bench.add("Fr Multiplication (1000)", benchmarkFrMul, .{});
    try bench.add("Fr Inversion (1000)", benchmarkFrInv, .{});

    try stdout.writeAll("\n");
    try bench.run(stdout);
    try stdout.flush();
}
```

### curve benchmarks

```zig
test "curve benchmarks" {
    var stdout_buffer: [4096]u8 = undefined;
    var stdout_writer = std.fs.File.stdout().writer(&stdout_buffer);
    const stdout = &stdout_writer.interface;

    const allocator = std.testing.allocator;
    // 1 second time budget for curve benchmarks
    var bench = zbench.Benchmark.init(allocator, .{ .time_budget_ns = 1e9 });
    defer bench.deinit();

    try bench.add("G1 Addition", benchmarkG1Add, .{});
    try bench.add("G1 Doubling", benchmarkG1Double, .{});
    try bench.add("G1 Scalar Multiplication", benchmarkG1ScalarMul, .{});
    try bench.add("G1 Negation", benchmarkG1Neg, .{});
    try bench.add("G1 Affine Conversion", benchmarkG1ToAffine, .{});
    try bench.add("G1 Curve Validation", benchmarkG1IsOnCurve, .{});

    try bench.add("G2 Addition", benchmarkG2Add, .{});
    try bench.add("G2 Doubling", benchmarkG2Double, .{});
    try bench.add("G2 Scalar Multiplication", benchmarkG2ScalarMul, .{});
    try bench.add("G2 Negation", benchmarkG2Neg, .{});
    try bench.add("G2 Affine Conversion", benchmarkG2ToAffine, .{});
    try bench.add("G2 Curve Validation", benchmarkG2IsOnCurve, .{});

    try stdout.writeAll("\n");
    try bench.run(stdout);
    try stdout.flush();
}
```

### pairing benchmarks

```zig
test "pairing benchmarks" {
    var stdout_buffer: [4096]u8 = undefined;
    var stdout_writer = std.fs.File.stdout().writer(&stdout_buffer);
    const stdout = &stdout_writer.interface;

    const allocator = std.testing.allocator;
    // 2 seconds time budget for pairing benchmarks
    var bench = zbench.Benchmark.init(allocator, .{ .time_budget_ns = 2e9 });
    defer bench.deinit();

    try bench.add("Full Pairing", benchmarkPairing, .{});
    try bench.add("Miller Loop", benchmarkMillerLoop, .{});
    try bench.add("Final Exponentiation (Full)", benchmarkFinalExponentiation, .{});
    try bench.add("Final Exponentiation (Easy)", benchmarkFinalExponentiationEasy, .{});
    try bench.add("Final Exponentiation (Hard)", benchmarkFinalExponentiationHard, .{});

    try stdout.writeAll("\n");
    try bench.run(stdout);
    try stdout.flush();
}
```

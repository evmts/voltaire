---
title: '[TS/JS] docs/primitives/bytecode/isValidJumpDest.test.ts'
source: 'docs/primitives/bytecode/isValidJumpDest.test.ts'
---

> Auto-generated from test file: docs/primitives/bytecode/isValidJumpDest.test.ts

```typescript
import { describe, expect, it } from "vitest";

describe("Bytecode.isValidJumpDest (docs/primitives/bytecode/isValidJumpDest.mdx)", () => {
	describe("Basic Validation", () => {
		it("should return true for valid JUMPDEST position", async () => {
			const { Bytecode } = await import(
				"../../../src/primitives/Bytecode/index.js"
			);

			// JUMPDEST, STOP
			const code = Bytecode("0x5b00");

			expect(code.isValidJumpDest(0)).toBe(true);
		});

		it("should return false for non-JUMPDEST position", async () => {
			const { Bytecode } = await import(
				"../../../src/primitives/Bytecode/index.js"
			);

			// PUSH1 0x01, STOP
			const code = Bytecode("0x600100");

			expect(code.isValidJumpDest(0)).toBe(false); // PUSH1
			expect(code.isValidJumpDest(2)).toBe(false); // STOP
		});

		it("should return false for position in PUSH data", async () => {
			const { Bytecode } = await import(
				"../../../src/primitives/Bytecode/index.js"
			);

			// PUSH2 0x5b00 - 0x5b is data, not instruction
			const code = Bytecode("0x615b00");

			expect(code.isValidJumpDest(1)).toBe(false);
		});
	});

	describe("Edge Cases", () => {
		it("should return false for out-of-bounds position", async () => {
			const { Bytecode } = await import(
				"../../../src/primitives/Bytecode/index.js"
			);

			const code = Bytecode("0x5b00");

			expect(code.isValidJumpDest(100)).toBe(false);
		});

		it("should handle empty bytecode", async () => {
			const { Bytecode } = await import(
				"../../../src/primitives/Bytecode/index.js"
			);

			const code = Bytecode("0x");

			expect(code.isValidJumpDest(0)).toBe(false);
		});
	});

	describe("Multiple JUMPDESTs", () => {
		it("should validate each JUMPDEST position", async () => {
			const { Bytecode } = await import(
				"../../../src/primitives/Bytecode/index.js"
			);

			// JUMPDEST, PUSH1 0x01, JUMPDEST, STOP
			const code = Bytecode("0x5b60015b00");

			expect(code.isValidJumpDest(0)).toBe(true); // First JUMPDEST
			expect(code.isValidJumpDest(1)).toBe(false); // PUSH1
			expect(code.isValidJumpDest(2)).toBe(false); // PUSH data (0x01)
			expect(code.isValidJumpDest(3)).toBe(true); // Second JUMPDEST
			expect(code.isValidJumpDest(4)).toBe(false); // STOP
		});
	});

	describe("Return Type", () => {
		it("should return boolean", async () => {
			const { Bytecode } = await import(
				"../../../src/primitives/Bytecode/index.js"
			);

			const code = Bytecode("0x5b00");

			expect(typeof code.isValidJumpDest(0)).toBe("boolean");
		});
	});
});

```

---
title: '[TS/JS] voltaire-effect/src/crypto/Ripemd160/Ripemd160.test.ts'
source: 'voltaire-effect/src/crypto/Ripemd160/Ripemd160.test.ts'
---

> Auto-generated from test file: voltaire-effect/src/crypto/Ripemd160/Ripemd160.test.ts

```typescript
import { describe, expect, it } from "@effect/vitest";
import * as Effect from "effect/Effect";
import {
	hash,
	Ripemd160Live,
	Ripemd160Service,
	Ripemd160Test,
} from "./index.js";

describe("Ripemd160Service", () => {
	describe("Ripemd160Live", () => {
		it.effect("hashes data using Voltaire Ripemd160", () =>
			Effect.gen(function* () {
				const ripemd160 = yield* Ripemd160Service;
				const result = yield* ripemd160.hash(new Uint8Array([1, 2, 3]));
				expect(result).toBeInstanceOf(Uint8Array);
				expect(result.length).toBe(20);
			}).pipe(Effect.provide(Ripemd160Live)),
		);

		it.effect("produces correct hash for known input", () =>
			Effect.gen(function* () {
				const ripemd160 = yield* Ripemd160Service;
				const result = yield* ripemd160.hash(new Uint8Array([]));
				expect(result[0]).toBe(0x9c);
				expect(result[1]).toBe(0x11);
			}).pipe(Effect.provide(Ripemd160Live)),
		);
	});

	describe("Ripemd160Test", () => {
		it.effect("returns deterministic zero-filled hash", () =>
			Effect.gen(function* () {
				const ripemd160 = yield* Ripemd160Service;
				const result = yield* ripemd160.hash(new Uint8Array([1, 2, 3]));
				expect(result).toBeInstanceOf(Uint8Array);
				expect(result.length).toBe(20);
				expect(result.every((b) => b === 0)).toBe(true);
			}).pipe(Effect.provide(Ripemd160Test)),
		);
	});
});

describe("hash", () => {
	it.effect("hashes data with Ripemd160Service dependency", () =>
		Effect.gen(function* () {
			const data = new Uint8Array([104, 101, 108, 108, 111]);
			const result = yield* hash(data);
			expect(result).toBeInstanceOf(Uint8Array);
			expect(result.length).toBe(20);
		}).pipe(Effect.provide(Ripemd160Live)),
	);

	it.effect("works with test layer", () =>
		Effect.gen(function* () {
			const data = new Uint8Array([1, 2, 3]);
			const result = yield* hash(data);
			expect(result.every((b) => b === 0)).toBe(true);
		}).pipe(Effect.provide(Ripemd160Test)),
	);
});

```

---
title: '[TS/JS] voltaire-effect/src/primitives/Ens/Ens.test.ts'
source: 'voltaire-effect/src/primitives/Ens/Ens.test.ts'
---

> Auto-generated from test file: voltaire-effect/src/primitives/Ens/Ens.test.ts

```typescript
import { describe, expect, it } from "@effect/vitest";
import { Effect, Exit } from "effect";
import * as Schema from "effect/Schema";
import * as Ens from "./index.js";

describe("Ens.EnsSchema", () => {
  it("validates ENS name", () => {
    const name = Schema.decodeSync(Ens.EnsSchema)("vitalik.eth");
    expect(typeof name).toBe("string");
  });
});

describe("Ens.from", () => {
  it("creates EnsType from string", async () => {
    const name = await Effect.runPromise(Ens.from("vitalik.eth"));
    expect(typeof name).toBe("string");
  });
});

describe("Ens.normalize", () => {
  it("normalizes ENS name", async () => {
    const normalized = await Effect.runPromise(Ens.normalize("VITALIK.ETH"));
    expect(normalized.toLowerCase()).toBe("vitalik.eth");
  });
});

describe("Ens.beautify", () => {
  it("beautifies ENS name", async () => {
    const beautified = await Effect.runPromise(Ens.beautify("vitalik.eth"));
    expect(typeof beautified).toBe("string");
  });
});

describe("Ens.namehash", () => {
  it("computes namehash", async () => {
    const hash = await Effect.runPromise(Ens.namehash("eth"));
    expect(hash).toBeInstanceOf(Uint8Array);
    expect(hash.length).toBe(32);
  });
});

describe("Ens.labelhash", () => {
  it("computes labelhash", async () => {
    const hash = await Effect.runPromise(Ens.labelhash("vitalik"));
    expect(hash).toBeInstanceOf(Uint8Array);
    expect(hash.length).toBe(32);
  });
});

describe("Ens.validation", () => {
  it("isValid returns true for valid names", () => {
    expect(Ens.isValid("vitalik.eth")).toBe(true);
  });

  it("isValid returns false for invalid names", () => {
    expect(Ens.isValid("")).toBe(false);
  });

  it("validate succeeds for valid names", async () => {
    const result = await Effect.runPromiseExit(Ens.validate("vitalik.eth"));
    expect(Exit.isSuccess(result)).toBe(true);
  });
});

describe("Ens.toString", () => {
  it("converts to string", async () => {
    const name = await Effect.runPromise(Ens.from("vitalik.eth"));
    const str = Ens.toString(name);
    expect(str).toBe("vitalik.eth");
  });
});

```

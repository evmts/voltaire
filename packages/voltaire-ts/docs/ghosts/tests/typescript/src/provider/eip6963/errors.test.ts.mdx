---
title: '[TS/JS] src/provider/eip6963/errors.test.ts'
source: 'src/provider/eip6963/errors.test.ts'
---

> Auto-generated from test file: src/provider/eip6963/errors.test.ts

```typescript
import { describe, expect, it } from "vitest";
import { PrimitiveError } from "../../primitives/errors/PrimitiveError.js";
import {
	EIP6963Error,
	InvalidArgumentError,
	InvalidFieldError,
	InvalidIconError,
	InvalidProviderError,
	InvalidRdnsError,
	InvalidUuidError,
	MissingFieldError,
	NotImplementedError,
	UnsupportedEnvironmentError,
} from "./errors.js";

describe("Error Hierarchy", () => {
	it("EIP6963Error extends PrimitiveError", () => {
		const error = new EIP6963Error("test");
		expect(error).toBeInstanceOf(PrimitiveError);
		expect(error).toBeInstanceOf(EIP6963Error);
	});

	it("all errors extend EIP6963Error", () => {
		expect(new UnsupportedEnvironmentError("node")).toBeInstanceOf(
			EIP6963Error,
		);
		expect(new InvalidUuidError("bad")).toBeInstanceOf(EIP6963Error);
		expect(new InvalidRdnsError("bad")).toBeInstanceOf(EIP6963Error);
		expect(new InvalidIconError("bad")).toBeInstanceOf(EIP6963Error);
		expect(new MissingFieldError("Obj", "field")).toBeInstanceOf(EIP6963Error);
		expect(new InvalidFieldError("Obj", "field", "reason")).toBeInstanceOf(
			EIP6963Error,
		);
		expect(new InvalidProviderError()).toBeInstanceOf(EIP6963Error);
		expect(new InvalidArgumentError("fn", "expected", "got")).toBeInstanceOf(
			EIP6963Error,
		);
		expect(new NotImplementedError("method")).toBeInstanceOf(EIP6963Error);
	});
});

describe("UnsupportedEnvironmentError", () => {
	it("has correct code", () => {
		const error = new UnsupportedEnvironmentError("node");
		expect(error.code).toBe("UNSUPPORTED_ENVIRONMENT");
	});

	it("includes platform in message", () => {
		const error = new UnsupportedEnvironmentError("node");
		expect(error.message).toContain("node");
	});

	it("stores platform property", () => {
		const error = new UnsupportedEnvironmentError("bun");
		expect(error.platform).toBe("bun");
	});
});

describe("InvalidUuidError", () => {
	it("has correct code", () => {
		const error = new InvalidUuidError("bad-uuid");
		expect(error.code).toBe("INVALID_UUID");
	});

	it("stores uuid property", () => {
		const error = new InvalidUuidError("bad-uuid");
		expect(error.uuid).toBe("bad-uuid");
	});
});

describe("InvalidRdnsError", () => {
	it("has correct code", () => {
		const error = new InvalidRdnsError("bad");
		expect(error.code).toBe("INVALID_RDNS");
	});

	it("stores rdns property", () => {
		const error = new InvalidRdnsError("bad");
		expect(error.rdns).toBe("bad");
	});
});

describe("InvalidIconError", () => {
	it("has correct code", () => {
		const error = new InvalidIconError("https://example.com/icon.png");
		expect(error.code).toBe("INVALID_ICON");
	});

	it("truncates long icon in message", () => {
		const longIcon = "a".repeat(100);
		const error = new InvalidIconError(longIcon);
		expect(error.message).toContain("...");
		expect(error.message.length).toBeLessThan(150);
	});
});

describe("MissingFieldError", () => {
	it("has correct code", () => {
		const error = new MissingFieldError("ProviderInfo", "uuid");
		expect(error.code).toBe("MISSING_FIELD");
	});

	it("stores field property", () => {
		const error = new MissingFieldError("ProviderInfo", "uuid");
		expect(error.field).toBe("uuid");
	});
});

describe("InvalidFieldError", () => {
	it("has correct code", () => {
		const error = new InvalidFieldError(
			"ProviderInfo",
			"name",
			"cannot be empty",
		);
		expect(error.code).toBe("INVALID_FIELD");
	});

	it("stores field property", () => {
		const error = new InvalidFieldError(
			"ProviderInfo",
			"name",
			"cannot be empty",
		);
		expect(error.field).toBe("name");
	});
});

describe("InvalidProviderError", () => {
	it("has correct code", () => {
		const error = new InvalidProviderError();
		expect(error.code).toBe("INVALID_PROVIDER");
	});

	it("mentions request() method in message", () => {
		const error = new InvalidProviderError();
		expect(error.message).toContain("request()");
	});
});

describe("InvalidArgumentError", () => {
	it("has correct code", () => {
		const error = new InvalidArgumentError("subscribe", "function", "object");
		expect(error.code).toBe("INVALID_ARGUMENT");
	});

	it("stores argument property", () => {
		const error = new InvalidArgumentError("subscribe", "function", "object");
		expect(error.argument).toBe("function");
	});
});

describe("NotImplementedError", () => {
	it("has correct code", () => {
		const error = new NotImplementedError("subscribe");
		expect(error.code).toBe("NOT_IMPLEMENTED");
	});

	it("includes method name in message", () => {
		const error = new NotImplementedError("subscribe");
		expect(error.message).toContain("subscribe");
	});
});

```

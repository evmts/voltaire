---
title: '[TS/JS] src/primitives/Uint/shiftRight.test.ts'
source: 'src/primitives/Uint/shiftRight.test.ts'
---

> Auto-generated from test file: src/primitives/Uint/shiftRight.test.ts

```typescript
import { describe, expect, it } from "vitest";
import { MAX, ONE, ZERO } from "./constants.js";
import { from } from "./from.js";
import { shiftRight } from "./shiftRight.js";

describe("Uint256.shiftRight", () => {
	describe("known values", () => {
		it("shift by zero", () => {
			const result = shiftRight(from(42n), ZERO);
			expect(result).toBe(42n);
		});

		it("shift 2 by 1 = 1", () => {
			const result = shiftRight(from(2n), ONE);
			expect(result).toBe(1n);
		});

		it("shift 256 by 8 = 1", () => {
			const result = shiftRight(from(256n), from(8n));
			expect(result).toBe(1n);
		});

		it("shift small value", () => {
			const result = shiftRight(from(0b101000n), from(2n));
			expect(result).toBe(0b1010n);
		});

		it("shift by large amount", () => {
			const result = shiftRight(from(5n << 100n), from(100n));
			expect(result).toBe(5n);
		});
	});

	describe("edge cases", () => {
		it("0 >> n = 0", () => {
			const result = shiftRight(ZERO, from(10n));
			expect(result).toBe(0n);
		});

		it("n >> 0 = n", () => {
			const result = shiftRight(from(999n), ZERO);
			expect(result).toBe(999n);
		});

		it("n >> n bits = 0 (for small n)", () => {
			const result = shiftRight(from(15n), from(10n));
			expect(result).toBe(0n);
		});

		it("1 >> 1 = 0", () => {
			const result = shiftRight(ONE, ONE);
			expect(result).toBe(0n);
		});

		it("shifts larger than 256 result in 0", () => {
			const result = shiftRight(MAX, from(300n));
			expect(result).toBe(0n);
		});

		it("MAX >> 1 = MAX / 2", () => {
			const result = shiftRight(MAX, ONE);
			expect(result).toBe(MAX >> 1n);
		});

		it("MAX >> 255 = 1", () => {
			const result = shiftRight(MAX, from(255n));
			expect(result).toBe(1n);
		});

		it("MAX >> 256 = 0", () => {
			const result = shiftRight(MAX, from(256n));
			expect(result).toBe(0n);
		});
	});

	describe("large values", () => {
		it("shift across 128-bit boundary", () => {
			const value = from(1n << 128n);
			const result = shiftRight(value, from(64n));
			expect(result).toBe(1n << 64n);
		});

		it("shift high bit down", () => {
			const value = from(1n << 255n);
			const result = shiftRight(value, from(255n));
			expect(result).toBe(1n);
		});

		it("shift pattern right", () => {
			const pattern = from(0xffffn << 64n);
			const result = shiftRight(pattern, from(64n));
			expect(result).toBe(0xffffn);
		});
	});

	describe("properties", () => {
		it("identity: n >> 0 = n", () => {
			const n = from(42n);
			expect(shiftRight(n, ZERO)).toBe(n);
		});

		it("division: (n >> k) = floor(n / 2^k)", () => {
			const n = from(1000n);
			const k = from(10n);
			const shifted = shiftRight(n, k);
			const divided = n / (1n << k);
			expect(shifted).toBe(divided);
		});

		it("zero: 0 >> n = 0", () => {
			expect(shiftRight(ZERO, from(10n))).toBe(0n);
		});

		it("round-trip for aligned values: (n << k) >> k = n", () => {
			const n = from(42n);
			const k = from(10n);
			const shifted = (n << k) & MAX;
			const restored = shiftRight(shifted, k);
			expect(restored).toBe(n);
		});
	});
});

```

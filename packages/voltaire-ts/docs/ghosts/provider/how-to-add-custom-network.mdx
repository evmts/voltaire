---
title: Add Custom Network to Wallet
description: Add a custom EVM network to browser wallets using wallet_addEthereumChain.
---

## Add Network

```typescript
interface AddEthereumChainParameter {
  chainId: string;
  chainName: string;
  nativeCurrency: {
    name: string;
    symbol: string;
    decimals: number;
  };
  rpcUrls: string[];
  blockExplorerUrls?: string[];
  iconUrls?: string[];
}

async function addNetwork(params: AddEthereumChainParameter) {
  await window.ethereum.request({
    method: 'wallet_addEthereumChain',
    params: [params]
  });
}
```

## Example: Add Base Network

```typescript
await addNetwork({
  chainId: '0x2105',
  chainName: 'Base',
  nativeCurrency: {
    name: 'Ether',
    symbol: 'ETH',
    decimals: 18
  },
  rpcUrls: ['https://mainnet.base.org'],
  blockExplorerUrls: ['https://basescan.org']
});
```

## Example: Add Local Anvil

```typescript
await addNetwork({
  chainId: '0x7a69', // 31337
  chainName: 'Anvil Local',
  nativeCurrency: {
    name: 'Ether',
    symbol: 'ETH',
    decimals: 18
  },
  rpcUrls: ['http://127.0.0.1:8545']
});
```

## Switch or Add Pattern

```typescript
async function ensureNetwork(chainId: number, params: AddEthereumChainParameter) {
  const hexChainId = '0x' + chainId.toString(16);

  try {
    await window.ethereum.request({
      method: 'wallet_switchEthereumChain',
      params: [{ chainId: hexChainId }]
    });
  } catch (error) {
    if (error.code === 4902) {
      await window.ethereum.request({
        method: 'wallet_addEthereumChain',
        params: [params]
      });
    } else {
      throw error;
    }
  }
}
```

## Error Codes

| Code | Meaning |
|------|---------|
| 4001 | User rejected request |
| 4902 | Chain not added (use for switch fallback) |

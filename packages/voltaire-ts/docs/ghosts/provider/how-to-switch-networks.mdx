---
title: Switch Networks Programmatically
description: Request network switch in browser wallets using wallet_switchEthereumChain.
---

## Switch to Known Network

```typescript
async function switchNetwork(chainId: number) {
  const hexChainId = '0x' + chainId.toString(16);

  try {
    await window.ethereum.request({
      method: 'wallet_switchEthereumChain',
      params: [{ chainId: hexChainId }]
    });
  } catch (error) {
    if (error.code === 4902) {
      // Chain not added to wallet
      throw new Error('Network not available in wallet');
    }
    throw error;
  }
}

// Usage
await switchNetwork(1);      // Mainnet
await switchNetwork(10);     // Optimism
await switchNetwork(137);    // Polygon
await switchNetwork(42161);  // Arbitrum
```

## Switch with Fallback to Add

```typescript
async function switchOrAddNetwork(chainId: number, networkParams: AddEthereumChainParameter) {
  const hexChainId = '0x' + chainId.toString(16);

  try {
    await window.ethereum.request({
      method: 'wallet_switchEthereumChain',
      params: [{ chainId: hexChainId }]
    });
  } catch (error) {
    if (error.code === 4902) {
      // Network not in wallet, add it
      await window.ethereum.request({
        method: 'wallet_addEthereumChain',
        params: [networkParams]
      });
    } else {
      throw error;
    }
  }
}
```

## Common Chain IDs

| Network | Chain ID | Hex |
|---------|----------|-----|
| Mainnet | 1 | 0x1 |
| Sepolia | 11155111 | 0xaa36a7 |
| Optimism | 10 | 0xa |
| Arbitrum | 42161 | 0xa4b1 |
| Polygon | 137 | 0x89 |
| Base | 8453 | 0x2105 |

## Listen for Chain Changes

```typescript
window.ethereum.on('chainChanged', (chainId) => {
  const chainIdNum = parseInt(chainId, 16);
  console.log('Switched to chain:', chainIdNum);

  // Recommended: reload to avoid stale state
  window.location.reload();
});
```

---
title: How to Manipulate Block Timestamp
description: Control block timestamps for time-dependent contract testing.
---

## Goal

Fast-forward time or set specific timestamps to test time-locked contracts, vesting schedules, or expiration logic.

## Set Next Block Timestamp

```typescript
import { createProvider } from '@tevm/voltaire/provider'

const provider = createProvider('http://localhost:8545')

// Set exact timestamp for next block
await provider.request({
  method: 'evm_setNextBlockTimestamp',
  params: [1700000000] // Unix timestamp
})

// Mine block to apply
await provider.request({
  method: 'evm_mine',
  params: []
})
```

## Increase Time

```typescript
// Fast-forward 1 day
await provider.request({
  method: 'evm_increaseTime',
  params: [86400] // seconds
})

// Mine to apply
await provider.request({
  method: 'evm_mine',
  params: []
})
```

## Common Time Constants

```typescript
const HOUR = 3600
const DAY = 86400
const WEEK = 604800
const MONTH = 2592000  // 30 days
const YEAR = 31536000  // 365 days

// Skip to 1 week later
await provider.request({
  method: 'evm_increaseTime',
  params: [WEEK]
})
await provider.request({ method: 'evm_mine', params: [] })
```

## Testing Time-Locked Contract

```typescript
// Check initial lock
const isLocked = await contract.read.isLocked()
console.log('Initially locked:', isLocked) // true

// Skip past lock period (7 days)
await provider.request({
  method: 'evm_increaseTime',
  params: [7 * 86400]
})
await provider.request({ method: 'evm_mine', params: [] })

// Now unlocked
const isUnlocked = await contract.read.isLocked()
console.log('After 7 days:', isUnlocked) // false
```

## Set Block Timestamp with Hardhat

```typescript
// Hardhat uses same evm_* methods
await provider.request({
  method: 'evm_setNextBlockTimestamp',
  params: [Math.floor(Date.now() / 1000) + 86400] // tomorrow
})
```

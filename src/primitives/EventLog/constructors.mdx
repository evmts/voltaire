---
title: EventLog Constructors
description: Creating EventLog instances from transaction log data
---

# Constructors

Methods for creating EventLog instances from Ethereum transaction log data.

## Primary Constructors

### `EventLog.create(params)`

Create new EventLog with required fields (address, topics, data) and optional metadata.

```typescript
import * as EventLog from '@tevm/primitives/EventLog'
import * as Address from '@tevm/primitives/Address'
import * as Hash from '@tevm/primitives/Hash'

const log = EventLog.create({
  address: Address.from("0x742d35Cc6634C0532925a3b844Bc9e7595f51e3e"),
  topics: [
    Hash.from("0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef"), // Transfer event
    Hash.from("0x000000000000000000000000f39fd6e51aad88f6f4ce6ab8827279cfffb92266"), // from
    Hash.from("0x00000000000000000000000070997970c51812dc3a010c7d01b50e0d17dc79c8")  // to
  ],
  data: new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 232]),
  blockNumber: 12345678n,
  transactionHash: Hash.from("0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef"),
  transactionIndex: 42,
  blockHash: Hash.from("0xabcdef1234567890abcdef1234567890abcdef1234567890abcdef1234567890"),
  logIndex: 7,
  removed: false
})
```

**Parameters:**
- `params.address: BrandedAddress` - Contract address that emitted the log (required)
- `params.topics: readonly BrandedHash[]` - Event topics array (topic0 = event signature, topic1-3 = indexed parameters) (required)
- `params.data: Uint8Array` - Event data containing non-indexed parameters (required)
- `params.blockNumber?: bigint` - Block number where log was emitted
- `params.transactionHash?: BrandedHash` - Transaction hash that generated the log
- `params.transactionIndex?: number` - Transaction index within block
- `params.blockHash?: BrandedHash` - Hash of block containing log
- `params.logIndex?: number` - Log index within block
- `params.removed?: boolean` - Whether log was removed due to chain reorganization (default: false)

**Returns:** `BrandedEventLog`

Defined in: [primitives/EventLog/BrandedEventLog/create.js:39](https://github.com/evmts/primitives/blob/main/src/primitives/EventLog/BrandedEventLog/create.js)

### `EventLog.from(params)`

Alias for `EventLog.create()`. Flexible constructor for creating EventLog from various parameter formats.

```typescript
const log = EventLog.from({
  address: "0x742d35Cc6634C0532925a3b844Bc9e7595f51e3e",
  topics: [
    "0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef",
    "0x000000000000000000000000f39fd6e51aad88f6f4ce6ab8827279cfffb92266"
  ],
  data: new Uint8Array([...])
})
```

**Parameters:**
- Same as `EventLog.create()`

**Returns:** `BrandedEventLog`

Defined in: [primitives/EventLog/BrandedEventLog/from.js:22](https://github.com/evmts/primitives/blob/main/src/primitives/EventLog/BrandedEventLog/from.js)

## Factory Function

### `EventLog(params)`

Factory function for creating EventLog instances. Equivalent to `EventLog.from()`.

```typescript
import { EventLog } from '@tevm/primitives/EventLog'

const log = EventLog({
  address: tokenAddress,
  topics: [transferSignature, fromAddress, toAddress],
  data: amountData
})
```

**Parameters:**
- `params: CreateEventLogParams` - Same as `EventLog.create()`

**Returns:** `BrandedEventLog`

## Common Patterns

### Minimal Event Log

Create log with only required fields:

```typescript
const minimalLog = EventLog.create({
  address: contractAddress,
  topics: [eventSignature],
  data: new Uint8Array([])
})
```

### Complete Event Log

Include all metadata from JSON-RPC response:

```typescript
const completeLog = EventLog.create({
  address: Address.from(rpcLog.address),
  topics: rpcLog.topics.map(t => Hash.from(t)),
  data: Hex.toBytes(rpcLog.data),
  blockNumber: BigInt(rpcLog.blockNumber),
  transactionHash: Hash.from(rpcLog.transactionHash),
  transactionIndex: Number(rpcLog.transactionIndex),
  blockHash: Hash.from(rpcLog.blockHash),
  logIndex: Number(rpcLog.logIndex),
  removed: rpcLog.removed ?? false
})
```

### ERC-20 Transfer Event

Parse Transfer(address,address,uint256) event:

```typescript
import * as Abi from '@tevm/primitives/Abi'

// Transfer event signature: keccak256("Transfer(address,address,uint256)")
const transferSignature = Hash.from(
  "0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef"
)

const transferLog = EventLog.create({
  address: tokenAddress,
  topics: [
    transferSignature,
    Hash.from("0x000000000000000000000000" + fromAddress.slice(2)), // indexed from
    Hash.from("0x000000000000000000000000" + toAddress.slice(2))    // indexed to
  ],
  data: Abi.encodeParameters([{ type: 'uint256' }], [transferAmount])
})
```

### Event with No Indexed Parameters

LOG0 event with only data:

```typescript
const dataOnlyLog = EventLog.create({
  address: contractAddress,
  topics: [],  // No topics
  data: eventData
})
```

### Removed Log (Chain Reorganization)

Mark log as removed due to reorg:

```typescript
const reorgLog = EventLog.create({
  address: contractAddress,
  topics: [eventSignature],
  data: eventData,
  removed: true  // Log no longer valid
})

if (EventLog.isRemoved(reorgLog)) {
  console.log("Log was removed due to chain reorganization")
}
```

## Type Structure

EventLog topics follow Ethereum's event encoding:

- **topic0**: Event signature hash (keccak256 of event signature)
- **topic1-3**: Indexed parameters (up to 3)

```solidity
event Transfer(address indexed from, address indexed to, uint256 value);
```

Maps to:
- `topics[0]`: keccak256("Transfer(address,address,uint256)")
- `topics[1]`: from address (32-byte hash)
- `topics[2]`: to address (32-byte hash)
- `data`: abi.encode(value) (non-indexed)

## Tree-Shakeable Usage

Import only construction functions:

```typescript
import { create, from } from '@tevm/primitives/EventLog'

const log1 = create({
  address: contractAddress,
  topics: [signature],
  data: eventData
})

const log2 = from({
  address: contractAddress,
  topics: [signature],
  data: eventData
})
```

## See Also

- [Validation](/primitives/eventlog/validation) - Validating event log structure
- [Utilities](/primitives/eventlog/utilities) - Working with topics and filtering
- [Usage Patterns](/primitives/eventlog/usage-patterns) - Real-world examples

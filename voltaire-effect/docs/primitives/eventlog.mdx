---
title: EventLog
description: EVM event log schema
---

```typescript
import * as EventLog from 'voltaire-effect/primitives/EventLog'
import * as S from 'effect/Schema'

const log = S.decodeSync(EventLog.JSON)({
  address: contractAddress,
  topics: [eventTopic],
  data: eventData,
  blockNumber: 19000000n,       // optional
  transactionHash: txHash,      // optional
  logIndex: 0,                  // optional
})
```

## Type

```typescript
type EventLogType = {
  address: AddressType
  topics: HashType[]
  data: Uint8Array
  blockNumber?: bigint
  transactionHash?: HashType
  transactionIndex?: number
  blockHash?: HashType
  logIndex?: number
  removed?: boolean
}
```

## Filtering by Event

```typescript
import * as EventSignature from 'voltaire-effect/primitives/EventSignature'
import * as S from 'effect/Schema'

const transferSig = S.decodeSync(EventSignature.String)('Transfer(address,address,uint256)')
const transfers = logs.filter(log => 
  log.topics[0] && EventSignature.equals(log.topics[0], transferSig)
)
```

## Parsing Indexed Params

```typescript
import * as Address from 'voltaire-effect/primitives/Address'

// Transfer: topics[1]=from, topics[2]=to, data=value
const from = S.decodeSync(Address.Bytes)(log.topics[1].slice(12))
const to = S.decodeSync(Address.Bytes)(log.topics[2].slice(12))
const value = BigInt('0x' + Buffer.from(log.data).toString('hex'))
```

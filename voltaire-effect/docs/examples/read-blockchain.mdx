---
title: Read Blockchain Data
description: Query blocks, balances, transactions and logs
---

## Get Block Number

```typescript
import { Effect } from 'effect'
import { ProviderService, Provider, HttpTransport } from 'voltaire-effect'

const program = Effect.gen(function* () {
  const client = yield* ProviderService
  return yield* client.getBlockNumber()
}).pipe(
  Effect.provide(Provider),
  Effect.provide(HttpTransport('https://eth.llamarpc.com'))
)

const blockNumber = await Effect.runPromise(program)
```

## Get Balance

```typescript
const program = Effect.gen(function* () {
  const client = yield* ProviderService
  return yield* client.getBalance('0xd8dA6BF26964aF9D7eEd9e03E53415D37aA96045', 'latest')
}).pipe(
  Effect.provide(Provider),
  Effect.provide(HttpTransport('https://eth.llamarpc.com'))
)
```

## Get Block with Transactions

```typescript
const program = Effect.gen(function* () {
  const client = yield* ProviderService
  const block = yield* client.getBlock({ blockTag: 'latest', includeTransactions: true })
  return { number: block.number, hash: block.hash, txCount: block.transactions.length }
}).pipe(
  Effect.provide(Provider),
  Effect.provide(HttpTransport('https://eth.llamarpc.com'))
)
```

## Query Event Logs

```typescript
const TRANSFER_TOPIC = '0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef'

const program = Effect.gen(function* () {
  const client = yield* ProviderService
  const logs = yield* client.getLogs({
    address: '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48',
    topics: [TRANSFER_TOPIC],
    fromBlock: '0x1312D00',
    toBlock: 'latest'
  })
  return logs.map(log => ({ from: log.topics[1], to: log.topics[2], blockNumber: log.blockNumber }))
}).pipe(
  Effect.provide(Provider),
  Effect.provide(HttpTransport('https://eth.llamarpc.com'))
)
```

## Wait for Confirmation

```typescript
const program = Effect.gen(function* () {
  const client = yield* ProviderService
  return yield* client.waitForTransactionReceipt('0x1234...', { confirmations: 3, timeout: 60000 })
}).pipe(
  Effect.provide(Provider),
  Effect.provide(HttpTransport('https://eth.llamarpc.com'))
)
```

## Estimate Gas

```typescript
const program = Effect.gen(function* () {
  const client = yield* ProviderService
  return yield* client.estimateGas({
    from: '0xYourAddress...',
    to: '0xRecipient...',
    value: 1000000000000000000n
  })
}).pipe(
  Effect.provide(Provider),
  Effect.provide(HttpTransport('https://eth.llamarpc.com'))
)
```

## Get Gas Prices (EIP-1559)

```typescript
const program = Effect.gen(function* () {
  const client = yield* ProviderService
  return yield* Effect.all([
    client.getGasPrice(),
    client.getMaxPriorityFeePerGas(),
    client.getFeeHistory(4, 'latest', [25, 50, 75])
  ])
}).pipe(
  Effect.provide(Provider),
  Effect.provide(HttpTransport('https://eth.llamarpc.com'))
)
```

## Parallel Queries

```typescript
const addresses = [
  '0xd8dA6BF26964aF9D7eEd9e03E53415D37aA96045',
  '0xBE0eB53F46cd790Cd13851d5EFf43D12404d33E8',
  '0x742d35Cc6634C0532925a3b844Bc9e7595f251e3'
]

const program = Effect.gen(function* () {
  const client = yield* ProviderService
  return yield* Effect.all(
    addresses.map(addr => client.getBalance(addr, 'latest')),
    { concurrency: 'unbounded' }
  )
}).pipe(
  Effect.provide(Provider),
  Effect.provide(HttpTransport('https://eth.llamarpc.com'))
)
```

## See Also

- [Provider Service](/services/provider) — Complete ProviderService API
- [Multicall](/examples/multicall) — Batch multiple reads into one RPC call
- [Contract Interactions](/examples/contract-interactions) — Read contract state
- [Block Streaming](/examples/block-streaming) — Real-time block updates
- [Voltaire Docs](https://voltaire.tevm.sh) — Core primitives documentation
- [Ethereum JSON-RPC](https://ethereum.org/en/developers/docs/apis/json-rpc/) — JSON-RPC specification

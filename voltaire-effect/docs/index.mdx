---
title: voltaire-effect
description: Effect.ts integration for Voltaire Ethereum primitives
---

[Effect.ts](https://effect.website) integration for [Voltaire](https://voltaire.tevm.sh) Ethereum primitives. Build applications with typed errors, composable workflows, and testable code.

```typescript
import { Effect, Schedule } from 'effect'
import * as S from 'effect/Schema'
import * as Address from 'voltaire-effect/primitives/Address'
import { getBalance, MainnetLayer } from 'voltaire-effect'

const fetchBalance = (input: string) =>
  Effect.gen(function* () {
    const addr = yield* S.decode(Address.Hex)(input)
    return yield* getBalance(addr)
  }).pipe(
    Effect.retry(Schedule.exponential('100 millis').pipe(Schedule.recurs(3))),
    Effect.timeout('10 seconds')
  )
// Effect<bigint, ParseError | GetBalanceError | TimeoutException, ProviderService>

await Effect.runPromise(fetchBalance('0x...').pipe(Effect.provide(MainnetLayer)))
```

<CardGroup cols={2}>
  <Card title="Getting Started" icon="rocket" href="/getting-started">
    Install and run your first program in 2 minutes
  </Card>
  <Card title="Effect Primer" icon="graduation-cap" href="/concepts/effect-primer">
    5-minute Effect.ts crash course for Ethereum devs
  </Card>
  <Card title="Examples" icon="code" href="/examples/index">
    Copy-paste patterns for common tasks
  </Card>
  <Card title="Cheatsheet" icon="bolt" href="/cheatsheet">
    Quick reference for schemas, services, and layers
  </Card>
</CardGroup>

## Install

<CodeGroup>
```bash pnpm
pnpm add voltaire-effect @tevm/voltaire effect
```

```bash npm
npm install voltaire-effect @tevm/voltaire effect
```

```bash bun
bun add voltaire-effect @tevm/voltaire effect
```
</CodeGroup>

<Info>
Requires **Effect 3.x**, **Voltaire 0.x**, and **TypeScript 5.4+**.
</Info>

## Key Features

<Accordion title="Typed Errors" icon="shield-check">
Errors appear in the type signature, not as invisible exceptions. Use `catchTag` for type-safe handling:

```typescript
S.decode(Address.Hex)(input).pipe(
  Effect.catchTag('ParseError', (e) => Effect.succeed(fallback))
)
// Effect<AddressType, ParseError, never>
```
</Accordion>

<Accordion title="Testable Services" icon="flask">
Swap production layers for test layers without changing business logic:

```typescript
// Production
await Effect.runPromise(program.pipe(Effect.provide(MainLayer)))

// Test - same code, different wiring  
await Effect.runPromise(program.pipe(Effect.provide(TestLayer)))
```
</Accordion>

<Accordion title="Composable Operations" icon="puzzle-piece">
Built-in retry, timeout, and fallback. No external libraries needed:

```typescript
getBlockNumber().pipe(
  Effect.retry(Schedule.exponential('100 millis').pipe(Schedule.recurs(5))),
  Effect.timeout(Duration.seconds(10)),
  Effect.orElse(() => getBlockNumber()) // with different provider layer
)
```
</Accordion>

## Ecosystem

<CardGroup cols={3}>
  <Card title="Voltaire" icon="arrow-up-right-from-square" href="https://voltaire.tevm.sh">
    Core Ethereum primitives and crypto
  </Card>
  <Card title="Effect" icon="arrow-up-right-from-square" href="https://effect.website/docs/getting-started/introduction/">
    Typed errors, services, and composition
  </Card>
  <Card title="GitHub" icon="github" href="https://github.com/evmts/voltaire">
    Source code and issues
  </Card>
</CardGroup>

## Next Steps

<Steps>
  <Step title="Install">
    Add `voltaire-effect`, `@tevm/voltaire`, and `effect` to your project.
  </Step>
  <Step title="Learn Effect">
    Read the [Effect Primer](/concepts/effect-primer) for a 5-minute intro.
  </Step>
  <Step title="Build">
    Follow [Getting Started](/getting-started) to fetch your first block.
  </Step>
</Steps>

---
title: voltaire-effect
description: Effect.ts integration for Voltaire Ethereum primitives
---

Build Ethereum applications with typed errors, composable workflows, and testable code.

<CardGroup cols={2}>
  <Card title="Getting Started" icon="rocket" href="/getting-started">
    Install and run your first program in 2 minutes
  </Card>
  <Card title="Effect Primer" icon="graduation-cap" href="/concepts/effect-primer">
    5-minute Effect.ts crash course for Ethereum devs
  </Card>
  <Card title="Examples" icon="code" href="/examples/index">
    Copy-paste patterns for common tasks
  </Card>
  <Card title="Cheatsheet" icon="bolt" href="/cheatsheet">
    Quick reference for schemas, services, and layers
  </Card>
</CardGroup>

## Why voltaire-effect?

[Effect Schema](https://effect.website/docs/schema/introduction/) validation for [Voltaire](https://voltaire.tevm.sh) primitives. [Typed errors](https://effect.website/docs/error-management/two-error-types/) with `_tag` discrimination. [Services](https://effect.website/docs/requirements-management/services/) for Provider, Signer, and Transport.

```typescript
import * as Address from 'voltaire-effect/primitives/Address'
import * as S from 'effect/Schema'
import * as Effect from 'effect/Effect'
import { KeccakLive } from 'voltaire-effect/crypto/Keccak256'

// Decode from hex string â†’ returns branded AddressType
const addr = S.decodeSync(Address.Hex)('0x742d35Cc6634C0532925a3b844Bc9e7595f251e3')

// Encode to checksummed (requires KeccakService)
const checksummed = await Effect.runPromise(
  S.encode(Address.Checksummed)(addr).pipe(Effect.provide(KeccakLive))
)
// "0x742d35Cc6634C0532925a3b844Bc9e7595f251e3"
```

## Install

<CodeGroup>
```bash pnpm
pnpm add voltaire-effect @tevm/voltaire effect
```

```bash npm
npm install voltaire-effect @tevm/voltaire effect
```

```bash bun
bun add voltaire-effect @tevm/voltaire effect
```
</CodeGroup>

<Info>
Requires **Effect 3.x**, **Voltaire 0.x**, and **TypeScript 5.4+**.
</Info>

## Key Features

<Accordion title="Typed Errors" icon="shield-check">
Errors appear in the type signature, not as invisible exceptions. Use `catchTag` for type-safe handling:

```typescript
S.decode(Address.Hex)(input).pipe(
  Effect.catchTag('ParseError', (e) => Effect.succeed(fallback))
)
// Effect<AddressType, ParseError, never>
```
</Accordion>

<Accordion title="Testable Services" icon="flask">
Swap production layers for test layers without changing business logic:

```typescript
// Production
await Effect.runPromise(program.pipe(Effect.provide(MainLayer)))

// Test - same code, different wiring  
await Effect.runPromise(program.pipe(Effect.provide(TestLayer)))
```
</Accordion>

<Accordion title="Composable Operations" icon="puzzle-piece">
Built-in retry, timeout, and fallback. No external libraries needed:

```typescript
provider.getBlockNumber().pipe(
  Effect.retry(Schedule.exponential('100 millis').pipe(Schedule.recurs(5))),
  Effect.timeout(Duration.seconds(10)),
  Effect.orElse(() => fallbackProvider.getBlockNumber())
)
```
</Accordion>

## Ecosystem

<CardGroup cols={3}>
  <Card title="Voltaire" icon="arrow-up-right-from-square" href="https://voltaire.tevm.sh">
    Core Ethereum primitives and crypto
  </Card>
  <Card title="Effect" icon="arrow-up-right-from-square" href="https://effect.website/docs/getting-started/introduction/">
    Typed errors, services, and composition
  </Card>
  <Card title="GitHub" icon="github" href="https://github.com/evmts/voltaire">
    Source code and issues
  </Card>
</CardGroup>

## Next Steps

<Steps>
  <Step title="Install">
    Add `voltaire-effect`, `@tevm/voltaire`, and `effect` to your project.
  </Step>
  <Step title="Learn Effect">
    Read the [Effect Primer](/concepts/effect-primer) for a 5-minute intro.
  </Step>
  <Step title="Build">
    Follow [Getting Started](/getting-started) to fetch your first block.
  </Step>
</Steps>

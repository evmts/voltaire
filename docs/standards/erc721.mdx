---
title: ERC-721
description: ERC-721 non-fungible token (NFT) standard interface
---

# ERC-721

ERC-721 is the standard interface for non-fungible tokens (NFTs) on Ethereum. Each token has a unique identifier and metadata.

## Function Selectors

```typescript
import { ERC721 } from '@tevm/primitives';

// Core functions
ERC721.SELECTORS.balanceOf           // 0x70a08231
ERC721.SELECTORS.ownerOf             // 0x6352211e
ERC721.SELECTORS.safeTransferFrom    // 0x42842e0e
ERC721.SELECTORS.transferFrom        // 0x23b872dd
ERC721.SELECTORS.approve             // 0x095ea7b3
ERC721.SELECTORS.setApprovalForAll   // 0xa22cb465
ERC721.SELECTORS.getApproved         // 0x081812fc
ERC721.SELECTORS.isApprovedForAll    // 0xe985e9c5

// Metadata extension
ERC721.SELECTORS.name                // 0x06fdde03
ERC721.SELECTORS.symbol              // 0x95d89b41
ERC721.SELECTORS.tokenURI            // 0xc87b56dd

// Enumerable extension
ERC721.SELECTORS.totalSupply         // 0x18160ddd
ERC721.SELECTORS.tokenOfOwnerByIndex // 0x2f745c59
ERC721.SELECTORS.tokenByIndex        // 0x4f6ccce7
```

## Event Signatures

```typescript
// Transfer(address indexed from, address indexed to, uint256 indexed tokenId)
ERC721.EVENTS.Transfer

// Approval(address indexed owner, address indexed approved, uint256 indexed tokenId)
ERC721.EVENTS.Approval

// ApprovalForAll(address indexed owner, address indexed operator, bool approved)
ERC721.EVENTS.ApprovalForAll
```

## Encoding Calldata

### transferFrom / safeTransferFrom

```typescript
import { ERC721 } from '@tevm/primitives';
import * as Address from '@tevm/primitives/Address';
import * as Uint256 from '@tevm/primitives/Uint256';

const from = Address.fromHex('0x...');
const to = Address.fromHex('0x...');
const tokenId = Uint256.fromBigInt(42n);

// transferFrom (no safety checks)
const calldata = ERC721.encodeTransferFrom(from, to, tokenId);

// safeTransferFrom (checks receiver)
const calldata = ERC721.encodeSafeTransferFrom(from, to, tokenId);
```

### approve

```typescript
const approved = Address.fromHex('0x...');
const tokenId = Uint256.fromBigInt(42n);

const calldata = ERC721.encodeApprove(approved, tokenId);
```

### setApprovalForAll

```typescript
const operator = Address.fromHex('0x...');
const approved = true;

const calldata = ERC721.encodeSetApprovalForAll(operator, approved);
```

### ownerOf

```typescript
const tokenId = Uint256.fromBigInt(42n);
const calldata = ERC721.encodeOwnerOf(tokenId);
```

### tokenURI

```typescript
const tokenId = Uint256.fromBigInt(42n);
const calldata = ERC721.encodeTokenURI(tokenId);
```

## Decoding Events

### Transfer Event

```typescript
const log = {
  topics: [
    ERC721.EVENTS.Transfer,
    '0x000...from',
    '0x000...to',
    '0x000...tokenId',
  ],
  data: '0x',
};

const { from, to, tokenId } = ERC721.decodeTransferEvent(log);
```

### Approval Event

```typescript
const { owner, approved, tokenId } = ERC721.decodeApprovalEvent(log);
```

### ApprovalForAll Event

```typescript
const { owner, operator, approved } = ERC721.decodeApprovalForAllEvent(log);
```

## Complete Example

```typescript
import { ERC721 } from '@tevm/primitives';
import * as Address from '@tevm/primitives/Address';
import * as Uint256 from '@tevm/primitives/Uint256';

// NFT contract and token
const nft = '0xBC4CA0EdA7647A8aB7C2061c2E118A18a936f13D'; // BAYC
const tokenId = Uint256.fromBigInt(1234n);

// Query owner
const ownerCalldata = ERC721.encodeOwnerOf(tokenId);
const result = await provider.request({
  method: 'eth_call',
  params: [{ to: nft, data: ownerCalldata }, 'latest'],
});
const owner = ERC20.decodeAddress(result);

// Transfer NFT
const from = Address.fromHex(owner);
const to = Address.fromHex('0x...');
const transferCalldata = ERC721.encodeSafeTransferFrom(from, to, tokenId);

await provider.request({
  method: 'eth_sendTransaction',
  params: [{ to: nft, data: transferCalldata }],
});

// Query metadata
const uriCalldata = ERC721.encodeTokenURI(tokenId);
const uriResult = await provider.request({
  method: 'eth_call',
  params: [{ to: nft, data: uriCalldata }, 'latest'],
});
const uri = ERC20.decodeString(uriResult);
```

## References

- [EIP-721: Non-Fungible Token Standard](https://eips.ethereum.org/EIPS/eip-721)
- [ERC-165: Interface Detection](/standards/erc165)

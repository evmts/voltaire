---
title: Hash.clone
description: Create independent copy of hash with separate memory
---

<Tabs>

</Tabs>

## Implementation

Creates new Uint8Array copy:

```typescript
function clone(hash: BrandedHash): BrandedHash {
  return new Uint8Array(hash) as BrandedHash
}
```

## Usage Examples

### Safe Mutation

```typescript
function modifyHash(hash: Hash, index: number, value: number): Hash {
  const modified = hash.clone()
  modified[index] = value
  return modified
}

const original = Hash.random()
const modified = modifyHash(original, 0, 0xff)
console.log(original[0] !== modified[0]) // true
```

### Test Data

```typescript
const baseHash = Hash.keccak256String("test")

// Create variations
const hash1 = baseHash.clone()
const hash2 = baseHash.clone()

hash1[0] = 0x00
hash2[0] = 0xff

// Original unchanged
console.log(baseHash[0]) // 0x1c
```

### State Snapshots

```typescript
class HashHistory {
  private history: Hash[] = []

  saveSnapshot(hash: Hash): void {
    this.history.push(hash.clone())
  }

  getSnapshot(index: number): Hash | undefined {
    return this.history[index]?.clone()
  }
}
```

## See Also

- [toBytes](/primitives/hash/to-bytes) - Same functionality
- [fromBytes](/primitives/hash/from-bytes) - Create from bytes

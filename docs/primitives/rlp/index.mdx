---
title: Rlp
description: Recursive Length Prefix encoding for Ethereum data structures
---

<Tip>
New to RLP? Start with [Fundamentals](/primitives/rlp/fundamentals) for guided examples and encoding rules.
</Tip>

## Type Definition

[Branded](/concepts/branded-types) data structure for RLP-encoded data following the [data-first pattern](/concepts/data-first).

```typescript
export type BrandedRlp =
  | { type: "bytes"; value: Uint8Array }
  | { type: "list"; value: BrandedRlp[] };
```

RLP provides deterministic serialization for transactions, blocks, state tries, and network protocols. It encodes only structure (not types), making it space-efficient and fast.

## Quick Reference

<Tabs>
<Tab title="Namespace API">

```typescript
import * as Rlp from '@tevm/voltaire/Rlp';

// Encode bytes
const encoded = Rlp.encode(new Uint8Array([1, 2, 3]));

// Decode RLP data
const decoded = Rlp.decode(encoded);

// Validate encoding
Rlp.validate(encoded);
```

</Tab>
<Tab title="Function API">

```typescript
import { Rlp } from '@tevm/voltaire';

// Encode bytes
const encoded = Rlp.encode(new Uint8Array([1, 2, 3]));

// Decode RLP data
const decoded = Rlp.decode(encoded);

// Validate encoding
Rlp.validate(encoded);
```

</Tab>
</Tabs>

## API Methods

<CardGroup>
<Card title="Constructors" icon="rocket">
Create RLP data structures from bytes or nested arrays
[View constructors →](./from)
</Card>
<Card title="Encoding" icon="file-code">
Encode bytes, lists, arrays, objects, and variadic arguments
[View encoding →](./encode)
</Card>
<Card title="Decoding" icon="file-export">
Decode RLP bytes to data structures, arrays, and objects
[View decoding →](./decode)
</Card>
<Card title="Validation" icon="check">
Validate RLP encoding structure and format
[View validation →](./validate)
</Card>
<Card title="Utilities" icon="wrench">
Calculate lengths, flatten, compare, and convert to raw arrays
[View utilities →](./getEncodedLength)
</Card>
<Card title="Type Guards" icon="shield-check">
Check if values are RLP data, bytes, lists, or strings
[View type guards →](./isData)
</Card>
<Card title="Serialization" icon="arrows-rotate">
Convert to/from JSON-serializable format
[View serialization →](./toJSON)
</Card>
</CardGroup>

### Methods Reference

- **Constructors**: `from`
- **Encoding**: `encode`, `encodeBytes`, `encodeList`, `encodeArray`, `encodeObject`, `encodeVariadic`, `encodeBatch`
- **Decoding**: `decode`, `decodeArray`, `decodeObject`, `decodeBatch`
- **Validation**: `validate`
- **Utilities**: `getEncodedLength`, `getLength`, `flatten`, `equals`, `toRaw`
- **Type Guards**: `isData`, `isBytesData`, `isListData`, `isList`, `isString`
- **Serialization**: `toJSON`, `fromJSON`

## Types

<Tabs>
<Tab title="BrandedRlp">

```typescript
export type BrandedRlp =
  | { type: "bytes"; value: Uint8Array }
  | { type: "list"; value: BrandedRlp[] };
```

Main branded type. Union of bytes data (leaf nodes) and list data (nested arrays).

**BytesData:** Leaf node containing raw bytes
```typescript
{ type: "bytes", value: Uint8Array }
```

**ListData:** Nested array of RLP data
```typescript
{ type: "list", value: BrandedRlp[] }
```

</Tab>
<Tab title="Encodable">

```typescript
type Encodable =
  | Uint8Array
  | BrandedRlp
  | Array<Uint8Array | BrandedRlp | any>;
```

Input type for encoding methods. Accepts raw bytes, RLP data structures, or nested arrays.

See [encode](./encode) for details.

</Tab>
<Tab title="Decoded">

```typescript
type Decoded = {
  data: BrandedRlp;
  remainder: Uint8Array;
};
```

Return type for decode operations. Contains decoded RLP data and any remaining bytes (for stream decoding).

</Tab>
</Tabs>

## Related

- [Fundamentals](/primitives/rlp/fundamentals) - Learn RLP encoding and decoding
- [Transaction](/primitives/transaction) - Uses RLP for serialization
- [Hash](/primitives/hash) - Keccak256 hashing for RLP data
- [Hex](/primitives/hex) - Hex string encoding

## Specification

- [Ethereum Yellow Paper](https://ethereum.github.io/yellowpaper/paper.pdf) - Formal RLP specification (Appendix B)
- [Ethereum Wiki - RLP](https://ethereum.org/en/developers/docs/data-structures-and-encoding/rlp/) - RLP encoding guide
- [EIP-2718](https://eips.ethereum.org/EIPS/eip-2718) - Typed transaction envelope using RLP

---
title: Rlp
description: Recursive Length Prefix encoding for Ethereum data structures
---

<Tip>
New to RLP? Start with [Fundamentals](/primitives/rlp/fundamentals) for guided examples and encoding rules.
</Tip>

## Type Definition

[Branded](/getting-started/branded-types) data structure for RLP-encoded data following the [data-first pattern](/getting-started/tree-shaking).

```typescript
export type BrandedRlp =
  | { type: "bytes"; value: Uint8Array }
  | { type: "list"; value: BrandedRlp[] };
```

RLP provides deterministic serialization for transactions, blocks, state tries, and network protocols. It encodes only structure (not types), making it space-efficient and fast.

## Quick Reference

<Note>
Rlp supports both **Class API** (instance methods) and **Namespace API** (functional style). See [API Patterns](/getting-started/tree-shaking) to understand the differences and choose the right approach for your use case.
</Note>

<Tabs>
<Tab title="Class API">

```typescript
import { Rlp } from '@tevm/voltaire';

// Encode bytes
const encoded = Rlp.encode(new Uint8Array([1, 2, 3]));

// Decode RLP data
const decoded = Rlp.decode(encoded);

// Validate encoding
Rlp.validate(encoded);
```

</Tab>
<Tab title="Namespace API">

```typescript
import * as Rlp from '@tevm/voltaire/Rlp';

// Encode bytes
const encoded = Rlp.encode(new Uint8Array([1, 2, 3]));

// Decode RLP data
const decoded = Rlp.decode(encoded);

// Validate encoding
Rlp.validate(encoded);
```

</Tab>
</Tabs>

## API Methods

### Constructors

- [from](./from) - Create RLP data structures from bytes or nested arrays

### Encoding

- [encode](./encode) - Encode bytes, lists, and nested structures
- [encodeBytes](./encode-bytes) - Encode raw bytes to RLP format
- [encodeList](./encode-list) - Encode array of items to RLP list
- [encodeArray](./encode-array) - Encode array with variadic arguments
- [encodeObject](./encode) - Encode object to RLP structure
- [encodeVariadic](./encode) - Encode multiple arguments
- [encodeBatch](./encode) - Batch encode multiple items

### Decoding

- [decode](./decode) - Decode RLP bytes to data structures
- [decodeArray](./decode-array) - Decode RLP list to array
- [decodeObject](./decode) - Decode RLP to object
- [decodeBatch](./decode) - Batch decode multiple RLP items

### Validation

- [validate](./validate) - Validate RLP encoding structure and format

### Utilities

- [getEncodedLength](./get-encoded-length) - Calculate encoded length without encoding
- [getLength](./get-encoded-length) - Get length of RLP item
- [flatten](./flatten) - Flatten nested RLP structure
- [equals](./equals) - Compare RLP data equality
- [toRaw](./utilities) - Convert to raw array

### Type Guards

- [isData](./utilities) - Check if value is RLP data
- [isBytesData](./utilities) - Check if value is bytes data
- [isListData](./utilities) - Check if value is list data
- [isList](./utilities) - Check if value is RLP list
- [isString](./utilities) - Check if value is RLP string

### Serialization

- [toJSON](./serialization) - Convert to JSON-serializable format
- [fromJSON](./serialization) - Convert from JSON format

## Types

<Tabs>
<Tab title="BrandedRlp">

```typescript
export type BrandedRlp =
  | { type: "bytes"; value: Uint8Array }
  | { type: "list"; value: BrandedRlp[] };
```

Main branded type. Union of bytes data (leaf nodes) and list data (nested arrays).

**BytesData:** Leaf node containing raw bytes
```typescript
{ type: "bytes", value: Uint8Array }
```

**ListData:** Nested array of RLP data
```typescript
{ type: "list", value: BrandedRlp[] }
```

</Tab>
<Tab title="Encodable">

```typescript
type Encodable =
  | Uint8Array
  | BrandedRlp
  | Array<Uint8Array | BrandedRlp | any>;
```

Input type for encoding methods. Accepts raw bytes, RLP data structures, or nested arrays.

See [encode](./encode) for details.

</Tab>
<Tab title="Decoded">

```typescript
type Decoded = {
  data: BrandedRlp;
  remainder: Uint8Array;
};
```

Return type for decode operations. Contains decoded RLP data and any remaining bytes (for stream decoding).

</Tab>
</Tabs>

## Related

- [Fundamentals](/primitives/rlp/fundamentals) - Learn RLP encoding and decoding
- [Transaction](/primitives/transaction) - Uses RLP for serialization
- [Hash](/primitives/hash) - Keccak256 hashing for RLP data
- [Hex](/primitives/hex) - Hex string encoding

## Specification

- [Ethereum Yellow Paper](https://ethereum.github.io/yellowpaper/paper.pdf) - Formal RLP specification (Appendix B)
- [Ethereum Wiki - RLP](https://ethereum.org/en/developers/docs/data-structures-and-encoding/rlp/) - RLP encoding guide
- [EIP-2718](https://eips.ethereum.org/EIPS/eip-2718) - Typed transaction envelope using RLP

---
title: Blob.toCommitment
description: Compute 48-byte KZG commitment for blob
---

<Tabs>

<Tab title="Standard API">

```typescript
import { Blob } from '@tevm/voltaire';

const blob = Blob.fromData(data);
const commitment = Blob.toCommitment(blob);

console.log(commitment.length); // 48
console.log(Blob.Commitment.isValid(commitment)); // true
```

**Note:** Requires c-kzg-4844 library integration (coming soon).

</Tab>

<Tab title="Factory API">

## `ToCommitment({ blobToKzgCommitment })(blob): Commitment`

Tree-shakeable factory pattern with explicit KZG dependency.

**Dependencies:**
- `blobToKzgCommitment: (blob: Uint8Array) => Uint8Array` - KZG commitment function from c-kzg-4844

**Example:**

```typescript
import { ToCommitment } from '@tevm/voltaire/Blob'
import { blobToKzgCommitment } from 'c-kzg'

const toCommitment = ToCommitment({ blobToKzgCommitment })
const commitment = toCommitment(blob)
```

**Bundle size:** KZG crypto only included if you import it explicitly.

**Note:** Requires c-kzg-4844 library integration (coming soon).

</Tab>

</Tabs>

## KZG Commitment Scheme

KZG commitments use polynomial commitment scheme over BLS12-381 curve:

1. **Blob as Polynomial** - 4096 field elements become polynomial coefficients
2. **Commitment** - Evaluate polynomial at secret point (from trusted setup)
3. **Binding** - Computationally infeasible to find different blob with same commitment

### Security Properties

```typescript
import { Blob } from '@tevm/voltaire';

// Different data = different commitments
const blob1 = Blob.fromData(data1);
const blob2 = Blob.fromData(data2);

const commitment1 = blob1.toCommitment();
const commitment2 = blob2.toCommitment();

// Commitments differ (binding property)
console.log(Blob.equals(commitment1, commitment2)); // false

// Cannot forge commitment for different data
const proof1 = blob1.toProof();
console.log(Blob.verify(blob1, commitment1, proof1)); // true
console.log(Blob.verify(blob2, commitment1, proof1)); // false (wrong blob)
```

## Commitment Utilities

### Blob.Commitment Namespace

```typescript
import { Blob } from '@tevm/voltaire';

const commitment = blob.toCommitment();

// Validate commitment size
console.log(Blob.Commitment.isValid(commitment)); // true

// Convert to versioned hash
const versionedHash = Blob.Commitment.toVersionedHash(commitment);
console.log(versionedHash[0]); // 0x01 (version byte)
```

## See Also

- [toProof](./toProof) - Generate KZG proof
- [verify](./verify) - Verify commitment and proof
- [toVersionedHash](./toVersionedHash) - Compute versioned hash
- [KZG](/primitives/blob/kzg) - KZG commitment scheme details

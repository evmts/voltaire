---
title: Blob.verify
description: Verify KZG proof for blob and commitment
---

<Tabs>
<Tab title="Class API">

## Signature

```typescript
blob.verify(commitment: Commitment, proof: Proof): boolean
```

Verify that KZG proof matches blob and commitment. Used to validate blob integrity without recomputing commitment.

### Parameters

- **commitment** `Commitment` - 48-byte KZG commitment
- **proof** `Proof` - 48-byte KZG proof

### Returns

`boolean` - `true` if proof is valid, `false` otherwise

### Throws

- If blob size is invalid (not exactly 131,072 bytes)
- If commitment size is invalid (not exactly 48 bytes)
- If proof size is invalid (not exactly 48 bytes)
- If KZG library not available

### Example

```typescript
import { Blob } from '@tevm/voltaire';

const blob = Blob.fromData(data);
const commitment = blob.toCommitment();
const proof = blob.toProof();

// Verify proof
const isValid = blob.verify(commitment, proof);
console.log(isValid); // true

// Invalid proof fails
const badProof = new Uint8Array(48);
console.log(blob.verify(commitment, badProof)); // false
```

### Example: Transaction Validation

```typescript
import { Blob } from '@tevm/voltaire';

// Received blob transaction
const tx = {
  blobs: [blob1, blob2],
  commitments: [commitment1, commitment2],
  proofs: [proof1, proof2],
  blobVersionedHashes: [hash1, hash2],
};

// Verify each blob
for (let i = 0; i < tx.blobs.length; i++) {
  const blob = tx.blobs[i];
  const commitment = tx.commitments[i];
  const proof = tx.proofs[i];
  const hash = tx.blobVersionedHashes[i];

  // Verify proof
  if (!blob.verify(commitment, proof)) {
    throw new Error(`Invalid proof for blob ${i}`);
  }

  // Verify versioned hash
  const computedHash = Blob.Commitment.toVersionedHash(commitment);
  if (!Blob.equals(computedHash, hash)) {
    throw new Error(`Hash mismatch for blob ${i}`);
  }
}

console.log('All blobs verified');
```

### Defined in

[src/primitives/Blob/BrandedBlob/verify.js](https://github.com/tevm/voltaire/blob/main/src/primitives/Blob/BrandedBlob/verify.js)

</Tab>
<Tab title="Namespace API">

## Signature

```typescript
verify(blob: BrandedBlob, commitment: Commitment, proof: Proof): boolean
```

Verify that KZG proof matches blob and commitment. Used to validate blob integrity without recomputing commitment.

### Parameters

- **blob** `BrandedBlob` - Blob to verify
- **commitment** `Commitment` - 48-byte KZG commitment
- **proof** `Proof` - 48-byte KZG proof

### Returns

`boolean` - `true` if proof is valid, `false` otherwise

### Throws

- If blob size is invalid (not exactly 131,072 bytes)
- If commitment size is invalid (not exactly 48 bytes)
- If proof size is invalid (not exactly 48 bytes)
- If KZG library not available

### Example

```typescript
import * as Blob from '@tevm/voltaire/Blob';

const blob = Blob.fromData(data);
const commitment = Blob.toCommitment(blob);
const proof = Blob.toProof(blob);

// Verify proof
const isValid = Blob.verify(blob, commitment, proof);
console.log(isValid); // true
```

### Defined in

[src/primitives/Blob/BrandedBlob/verify.js](https://github.com/tevm/voltaire/blob/main/src/primitives/Blob/BrandedBlob/verify.js)

</Tab>
<Tab title="Zig">

## Signature

```zig
pub fn verify(blob: Blob, commitment: Commitment, proof: Proof) !bool
```

Verify KZG proof for blob.

### Parameters

- **commitment** `Commitment` - 48-byte commitment
- **proof** `Proof` - 48-byte proof

### Returns

`bool` - `true` if valid

### Errors

- `error.InvalidBlobSize` - Blob size incorrect
- `error.InvalidCommitmentSize` - Commitment size incorrect
- `error.InvalidProofSize` - Proof size incorrect
- `error.KzgNotAvailable` - KZG library not loaded

### Example

```zig
const Blob = @import("primitives").Blob;

const blob = try Blob.fromData(allocator, data);
defer blob.deinit(allocator);

const commitment = try blob.toCommitment(allocator);
defer commitment.deinit(allocator);

const proof = try blob.toProof(allocator);
defer proof.deinit(allocator);

const is_valid = try Blob.verify(blob, commitment, proof);
std.debug.print("Valid: {}\n", .{is_valid});
```

</Tab>
</Tabs>

## Verification Process

KZG proof verification checks that blob data matches commitment:

```
1. Parse blob as polynomial coefficients (4096 field elements)
2. Evaluate polynomial at challenge point
3. Verify pairing equation: e(commitment, G2) = e(proof, challenge_G2)
```

### Why Verify?

```typescript
import { Blob } from '@tevm/voltaire';

// Scenario: Received blob transaction from network
const receivedBlob = /* from network */;
const receivedCommitment = /* from transaction */;
const receivedProof = /* from transaction */;

// Verify without recomputing commitment (faster)
const isValid = Blob.verify(receivedBlob, receivedCommitment, receivedProof);

if (!isValid) {
  throw new Error('Blob data does not match commitment');
}

// Can trust blob data matches what sender committed to
```

## Batch Verification

For multiple blobs, use `verifyBatch()` (more efficient):

```typescript
import { Blob } from '@tevm/voltaire';

const blobs = [blob1, blob2, blob3];
const commitments = blobs.map(b => b.toCommitment());
const proofs = blobs.map(b => b.toProof());

// Single batch verification (faster than 3 individual verifications)
const allValid = Blob.verifyBatch(blobs, commitments, proofs);

if (!allValid) {
  // Fallback: find which blob failed
  for (let i = 0; i < blobs.length; i++) {
    if (!blobs[i].verify(commitments[i], proofs[i])) {
      console.error(`Blob ${i} failed verification`);
    }
  }
}
```

## Security Properties

### Soundness

Cannot create valid proof for wrong blob:

```typescript
import { Blob } from '@tevm/voltaire';

const blob1 = Blob.fromData(data1);
const commitment1 = blob1.toCommitment();
const proof1 = blob1.toProof();

const blob2 = Blob.fromData(data2); // Different data

// Proof for blob1 doesn't work with blob2
console.log(Blob.verify(blob1, commitment1, proof1)); // true
console.log(Blob.verify(blob2, commitment1, proof1)); // false

// Cannot forge proof
const fakeProof = new Uint8Array(48);
console.log(Blob.verify(blob1, commitment1, fakeProof)); // false
```

### Completeness

Valid proofs always verify:

```typescript
import { Blob } from '@tevm/voltaire';

const blob = Blob.fromData(data);
const commitment = blob.toCommitment();
const proof = blob.toProof();

// Always verifies for correctly generated proof
console.log(Blob.verify(blob, commitment, proof)); // true (always)
```

## See Also

- [toCommitment](./toCommitment) - Generate commitment
- [toProof](./toProof) - Generate proof
- [verifyBatch](./verifyBatch) - Batch verification
- [KZG](/primitives/blob/kzg) - KZG commitment scheme details

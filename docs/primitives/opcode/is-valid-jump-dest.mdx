---
title: isValidJumpDest()
description: Check if offset is valid JUMPDEST in EVM bytecode
---

## Opcode.isValidJumpDest()

Check if offset is a valid JUMPDEST in bytecode.

<Tabs>
<Tab title="Namespace API">
```typescript
import * as Opcode from '@tevm/voltaire/Opcode'

const bytecode = new Uint8Array([
  0x60, 0x04,     // PUSH1 0x04
  0x56,           // JUMP
  0x5B,           // JUMPDEST (offset 3)
  0x00            // STOP
])

Opcode.isValidJumpDest(bytecode, 3)  // true (valid JUMPDEST)
Opcode.isValidJumpDest(bytecode, 0)  // false (PUSH1, not JUMPDEST)
Opcode.isValidJumpDest(bytecode, 1)  // false (inside PUSH data)
Opcode.isValidJumpDest(bytecode, 99) // false (out of bounds)
```
</Tab>
<Tab title="Functional API">
```typescript
import { isValidJumpDest } from '@tevm/voltaire/Opcode'

const valid = isValidJumpDest(bytecode, 3)  // true
```
</Tab>
<Tab title="Zig">
```zig
const Opcode = @import("primitives").opcode;

const bytecode = [_]u8{ 0x60, 0x04, 0x56, 0x5B, 0x00 };
const valid = Opcode.isValidJumpDest(&bytecode, 3);  // true
```
</Tab>
</Tabs>

## Parameters

- `bytecode: Uint8Array` - Contract bytecode
- `offset: number` - Program counter offset to check

## Returns

`boolean` - True if offset is valid JUMPDEST

## Validation Rules

Valid JUMPDEST must:
1. Be within bytecode bounds
2. Be JUMPDEST opcode (0x5B)
3. NOT be inside PUSH immediate data

## Use Cases

### Runtime Jump Validation

```typescript
function executeJump(bytecode: Uint8Array, targetOffset: number): void {
  if (!Opcode.isValidJumpDest(bytecode, targetOffset)) {
    throw new Error(`Invalid jump destination: ${targetOffset}`)
  }
  // Proceed with jump
}
```

### Find Invalid Jumps

```typescript
function findInvalidJumps(bytecode: Uint8Array): number[] {
  const instructions = Opcode.parse(bytecode)
  const invalid: number[] = []

  for (const inst of instructions) {
    if (Opcode.isJump(inst.opcode)) {
      // In real analysis, would need to trace stack for target
      // This is simplified example
    }
  }

  return invalid
}
```

## Related

- [jumpDests()](/primitives/opcode/jump-dests) - Find all JUMPDESTs
- [isJump()](/primitives/opcode/is-jump) - Check if JUMP/JUMPI

---
title: Event.encodeTopics
description: Encode indexed event parameters as topics for filtering
---

<Tabs>
<Tab title="Class API (recommended)">

## `event.encodeTopics(args?: Record<string, unknown>): Hex[]`

Encode indexed event parameters as topics for event filtering. Topic 0 is always the event selector.

**Parameters:**
- `args?: Record<string, unknown>` - Object with indexed parameter values (optional, for filtering)

**Returns:** `Hex[]` - Array of topics [selector, ...indexed parameters]

**Example:**

```typescript
import { Event } from '@tevm/voltaire'

const transferEvent = new Event({
  type: "event",
  name: "Transfer",
  inputs: [
    { type: "address", name: "from", indexed: true },
    { type: "address", name: "to", indexed: true },
    { type: "uint256", name: "value", indexed: false }
  ]
})

const topics = transferEvent.encodeTopics({
  from: "0x742d35Cc6634C0532925a3b844Bc9e7595f51e3e",
  to: "0x5B38Da6a701c568545dCfcB03FcB875f56beddC4"
})

console.log(topics)
// [
//   "0xddf252ad...",  // Event selector
//   "0x000000000000000000000000742d35cc6634c0532925a3b844bc9e7595f51e3e",
//   "0x0000000000000000000000005b38da6a701c568545dcfcb03fcb875f56beddc4"
// ]
```

**Defined in:** [primitives/Abi/event/BrandedEvent/encodeTopics.js](https://github.com/evmts/voltaire/blob/main/src/primitives/Abi/event/BrandedEvent/encodeTopics.js)

</Tab>
<Tab title="Namespace API (Tree-shakeable)">

## `encodeTopics(event: BrandedEvent, args?: Record<string, unknown>): Hex[]`

Encode indexed event parameters as topics for event filtering.

**Parameters:**
- `event: BrandedEvent` - Event ABI item
- `args?: Record<string, unknown>` - Indexed parameter values

**Returns:** `Hex[]` - Array of topics

**Example:**

```typescript
import * as Event from '@tevm/voltaire/Abi/event'

const transferEvent = {
  type: "event",
  name: "Transfer",
  inputs: [
    { type: "address", name: "from", indexed: true },
    { type: "address", name: "to", indexed: true },
    { type: "uint256", name: "value", indexed: false }
  ]
}

const topics = Event.encodeTopics(transferEvent, {
  from: "0x742d35Cc6634C0532925a3b844Bc9e7595f51e3e"
})
```

**Defined in:** [primitives/Abi/event/BrandedEvent/encodeTopics.js](https://github.com/evmts/voltaire/blob/main/src/primitives/Abi/event/BrandedEvent/encodeTopics.js)

</Tab>
<Tab title="Zig">

## Zig implementation planned

Event topic encoding in Zig is planned for a future release. Use TypeScript API for now.

</Tab>
</Tabs>

## Usage Examples

### Filter by Single Address

```typescript
import { Event } from '@tevm/voltaire'

const transferEvent = new Event({
  type: "event",
  name: "Transfer",
  inputs: [
    { type: "address", name: "from", indexed: true },
    { type: "address", name: "to", indexed: true },
    { type: "uint256", name: "value" }
  ]
})

// Get all transfers FROM specific address
const topics = transferEvent.encodeTopics({
  from: "0x742d35Cc6634C0532925a3b844Bc9e7595f51e3e"
})

const logs = await provider.getLogs({
  address: tokenAddress,
  topics: topics
})
```

### Filter by Multiple Criteria

```typescript
import { Event } from '@tevm/voltaire'

const transferEvent = new Event({
  type: "event",
  name: "Transfer",
  inputs: [
    { type: "address", name: "from", indexed: true },
    { type: "address", name: "to", indexed: true },
    { type: "uint256", name: "value" }
  ]
})

// Get transfers FROM one address TO another
const topics = transferEvent.encodeTopics({
  from: "0x742d35Cc6634C0532925a3b844Bc9e7595f51e3e",
  to: "0x5B38Da6a701c568545dCfcB03FcB875f56beddC4"
})

const logs = await provider.getLogs({
  address: tokenAddress,
  topics: topics
})
```

### Partial Filtering

```typescript
import { Event } from '@tevm/voltaire'

const transferEvent = new Event({
  type: "event",
  name: "Transfer",
  inputs: [
    { type: "address", name: "from", indexed: true },
    { type: "address", name: "to", indexed: true },
    { type: "uint256", name: "value" }
  ]
})

// Only filter by TO address (FROM is any)
const topics = transferEvent.encodeTopics({
  to: "0x5B38Da6a701c568545dCfcB03FcB875f56beddC4"
})

// Topics array: [selector, null, toAddress]
const logs = await provider.getLogs({
  address: tokenAddress,
  topics: topics
})
```

## See Also

- [decodeLog](/primitives/abi/event/decode-log) - Decode event log data
- [getSelector](/primitives/abi/event/get-selector) - Get event selector

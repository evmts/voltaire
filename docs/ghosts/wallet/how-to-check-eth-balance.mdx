---
title: Check ETH Balance
description: Query the ETH balance of any Ethereum address
---

## Using TypedProvider

```typescript
import type { TypedProvider, VoltaireRpcSchema } from '@voltaire/provider';
import * as Address from '@voltaire/primitives/Address';
import * as Uint from '@voltaire/primitives/Uint';

// Assumes provider is configured (HttpProvider, WebSocketProvider, etc)
declare const provider: TypedProvider<VoltaireRpcSchema>;

const address = '0xd8dA6BF26964aF9D7eEd9e03E53415D37aA96045'; // vitalik.eth

// Get balance at latest block
const balanceHex = await provider.request({
  method: 'eth_getBalance',
  params: [address, 'latest']
});

// Convert to wei (bigint)
const balanceWei = BigInt(balanceHex);
console.log(`Balance: ${balanceWei} wei`);

// Convert to ETH
const balanceEth = Number(balanceWei) / 1e18;
console.log(`Balance: ${balanceEth} ETH`);
```

## Using Uint Primitives

```typescript
import * as Uint256 from '@voltaire/primitives/Uint256';
import * as Denomination from '@voltaire/primitives/Denomination';

const balanceHex = await provider.request({
  method: 'eth_getBalance',
  params: [address, 'latest']
});

const balance = Uint256.fromHex(balanceHex);

// Format with denomination
const ethValue = Denomination.fromWei(balance, 'ether');
console.log(`${ethValue} ETH`);

const gweiValue = Denomination.fromWei(balance, 'gwei');
console.log(`${gweiValue} Gwei`);
```

## Balance at Specific Block

```typescript
// At specific block number
const blockNumber = '0x' + (18000000).toString(16);
const historicalBalance = await provider.request({
  method: 'eth_getBalance',
  params: [address, blockNumber]
});

// At pending state
const pendingBalance = await provider.request({
  method: 'eth_getBalance',
  params: [address, 'pending']
});

// At earliest block
const genesisBalance = await provider.request({
  method: 'eth_getBalance',
  params: [address, 'earliest']
});
```

## Multiple Addresses

```typescript
async function getBalances(
  provider: TypedProvider<VoltaireRpcSchema>,
  addresses: string[]
): Promise<Map<string, bigint>> {
  const balances = new Map<string, bigint>();

  // Parallel requests
  const results = await Promise.all(
    addresses.map(addr =>
      provider.request({
        method: 'eth_getBalance',
        params: [addr, 'latest']
      })
    )
  );

  for (let i = 0; i < addresses.length; i++) {
    balances.set(addresses[i], BigInt(results[i]));
  }

  return balances;
}

// Usage
const addresses = [
  '0xd8dA6BF26964aF9D7eEd9e03E53415D37aA96045',
  '0xAb5801a7D398351b8bE11C439e05C5B3259aeC9B',
];

const balances = await getBalances(provider, addresses);
for (const [addr, balance] of balances) {
  console.log(`${addr}: ${Number(balance) / 1e18} ETH`);
}
```

## With Address Validation

```typescript
import * as Address from '@voltaire/primitives/Address';

async function getBalance(provider: TypedProvider<VoltaireRpcSchema>, input: string) {
  // Validate and checksum address
  const address = Address.from(input);
  const checksummed = Address.toHex(address); // EIP-55 checksummed

  const balanceHex = await provider.request({
    method: 'eth_getBalance',
    params: [checksummed, 'latest']
  });

  return BigInt(balanceHex);
}
```

## Watch Balance Changes

```typescript
// Poll for balance changes
async function watchBalance(
  provider: TypedProvider<VoltaireRpcSchema>,
  address: string,
  callback: (balance: bigint) => void,
  intervalMs = 12000 // ~1 block
) {
  let lastBalance = 0n;

  const poll = async () => {
    const balanceHex = await provider.request({
      method: 'eth_getBalance',
      params: [address, 'latest']
    });

    const balance = BigInt(balanceHex);
    if (balance !== lastBalance) {
      lastBalance = balance;
      callback(balance);
    }
  };

  // Initial check
  await poll();

  // Set up polling
  return setInterval(poll, intervalMs);
}

// Usage
const intervalId = await watchBalance(
  provider,
  '0xd8dA6BF26964aF9D7eEd9e03E53415D37aA96045',
  (balance) => console.log(`New balance: ${Number(balance) / 1e18} ETH`)
);

// Stop watching
// clearInterval(intervalId);
```

## Related

- [Provider Setup](/provider) - Configure HTTP/WebSocket providers
- [Denomination Conversion](/primitives/denomination) - Wei, Gwei, ETH conversions
- [Get Token Balances](/ghosts/wallet/how-to-get-token-balances) - ERC20/721/1155 balances

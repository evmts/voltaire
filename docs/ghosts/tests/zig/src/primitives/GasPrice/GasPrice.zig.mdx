---
title: '[Zig] src/primitives/GasPrice/GasPrice.zig'
source: 'src/primitives/GasPrice/GasPrice.zig'
---

> Auto-generated from Zig tests in: src/primitives/GasPrice/GasPrice.zig

### GasPrice: from and toU64

```zig
test "GasPrice: from and toU64" {
    const price = GasPrice.from(20_000_000_000); // 20 gwei in wei
    try testing.expectEqual(@as(u64, 20_000_000_000), try price.toU64());
}
```

### GasPrice: fromGwei

```zig
test "GasPrice: fromGwei" {
    const price = GasPrice.fromGwei(20);
    try testing.expectEqual(@as(u64, 20_000_000_000), try price.toU64());
}
```

### GasPrice: toGwei

```zig
test "GasPrice: toGwei" {
    const price = GasPrice.from(20_000_000_000);
    try testing.expectEqual(@as(u64, 20), try price.toGweiU64());
}
```

### GasPrice: toGwei truncates

```zig
test "GasPrice: toGwei truncates" {
    const price = GasPrice.from(20_500_000_000); // 20.5 gwei
    try testing.expectEqual(@as(u64, 20), try price.toGweiU64());
}
```

### GasPrice: toWei identity

```zig
test "GasPrice: toWei identity" {
    const price = GasPrice.from(98765);
    const wei = price.toWei();
    try testing.expect(wei.eq(GasPrice.U256.from_u64(98765)));
}
```

### GasPrice: fromBytes and toBytes roundtrip

```zig
test "GasPrice: fromBytes and toBytes roundtrip" {
    const price = GasPrice.fromGwei(50);
    const bytes = price.toBytes();
    const restored = GasPrice.fromBytes(bytes);
    try testing.expect(price.equals(restored));
}
```

### GasPrice: compare less than

```zig
test "GasPrice: compare less than" {
    const price1 = GasPrice.fromGwei(10);
    const price2 = GasPrice.fromGwei(20);
    try testing.expectEqual(std.math.Order.lt, price1.compare(price2));
}
```

### GasPrice: compare greater than

```zig
test "GasPrice: compare greater than" {
    const price1 = GasPrice.fromGwei(30);
    const price2 = GasPrice.fromGwei(20);
    try testing.expectEqual(std.math.Order.gt, price1.compare(price2));
}
```

### GasPrice: compare equal

```zig
test "GasPrice: compare equal" {
    const price1 = GasPrice.fromGwei(20);
    const price2 = GasPrice.fromGwei(20);
    try testing.expectEqual(std.math.Order.eq, price1.compare(price2));
}
```

### GasPrice: equals

```zig
test "GasPrice: equals" {
    const price1 = GasPrice.fromGwei(20);
    const price2 = GasPrice.fromGwei(20);
    const price3 = GasPrice.fromGwei(30);
    try testing.expect(price1.equals(price2));
    try testing.expect(!price1.equals(price3));
}
```

### GasPrice: add

```zig
test "GasPrice: add" {
    const price1 = GasPrice.fromGwei(20);
    const price2 = GasPrice.fromGwei(10);
    const sum = price1.add(price2).?;
    try testing.expectEqual(@as(u64, 30), try sum.toGweiU64());
}
```

### GasPrice: sub

```zig
test "GasPrice: sub" {
    const price1 = GasPrice.fromGwei(20);
    const price2 = GasPrice.fromGwei(5);
    const diff = price1.sub(price2).?;
    try testing.expectEqual(@as(u64, 15), try diff.toGweiU64());
}
```

### GasPrice: sub underflow returns null

```zig
test "GasPrice: sub underflow returns null" {
    const price1 = GasPrice.fromGwei(5);
    const price2 = GasPrice.fromGwei(20);
    try testing.expect(price1.sub(price2) == null);
}
```

### GasPrice: mul

```zig
test "GasPrice: mul" {
    const price = GasPrice.fromGwei(10);
    const doubled = price.mul(2).?;
    try testing.expectEqual(@as(u64, 20), try doubled.toGweiU64());
}
```

### GasPrice: isZero

```zig
test "GasPrice: isZero" {
    const zero = GasPrice.from(0);
    const nonzero = GasPrice.fromGwei(1);
    try testing.expect(zero.isZero());
    try testing.expect(!nonzero.isZero());
}
```

### GasPrice: calculateCost

```zig
test "GasPrice: calculateCost" {
    const price = GasPrice.fromGwei(20); // 20 gwei
    const gas_amount: u64 = 21000; // standard transfer
    const cost = price.calculateCost(gas_amount).?;
    // 20 gwei * 21000 = 420000 gwei = 420000 * 1e9 wei
    try testing.expect(cost.eq(GasPrice.U256.from_u64(420_000_000_000_000)));
}
```

### GasPrice: fromGwei roundtrip

```zig
test "GasPrice: fromGwei roundtrip" {
    const gwei_values = [_]u64{ 1, 10, 20, 50, 100, 200, 500 };
    for (gwei_values) |gwei| {
        const price = GasPrice.fromGwei(gwei);
        try testing.expectEqual(gwei, try price.toGweiU64());
    }
}
```

### GasPrice: zero value

```zig
test "GasPrice: zero value" {
    const price = GasPrice.from(0);
    try testing.expectEqual(@as(u64, 0), try price.toU64());
    try testing.expectEqual(@as(u64, 0), try price.toGweiU64());
    try testing.expect(price.isZero());
}
```

### GasPrice: large value in gwei

```zig
test "GasPrice: large value in gwei" {
    const price = GasPrice.fromGwei(1_000_000); // 1M gwei
    try testing.expectEqual(@as(u64, 1_000_000_000_000_000), try price.toU64());
    try testing.expectEqual(@as(u64, 1_000_000), try price.toGweiU64());
}
```

### GasPrice: typical legacy tx cost

```zig
test "GasPrice: typical legacy tx cost" {
    // Legacy transaction: 21000 gas at 100 gwei
    const price = GasPrice.fromGwei(100);
    const cost = price.calculateCost(21000).?;
    // 100 * 1e9 * 21000 = 2.1e15 wei = 0.0021 ETH
    const cost_u64 = cost.to_u64() catch 0;
    try testing.expectEqual(@as(u64, 2_100_000_000_000_000), cost_u64);
}
```

### GasPrice: contract deployment cost

```zig
test "GasPrice: contract deployment cost" {
    // Typical contract deployment: 500000 gas at 50 gwei
    const price = GasPrice.fromGwei(50);
    const cost = price.calculateCost(500_000).?;
    // 50 * 1e9 * 500000 = 2.5e16 wei
    const cost_u64 = cost.to_u64() catch 0;
    try testing.expectEqual(@as(u64, 25_000_000_000_000_000), cost_u64);
}
```

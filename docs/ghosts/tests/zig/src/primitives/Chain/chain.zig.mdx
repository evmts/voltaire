---
title: '[Zig] src/primitives/Chain/chain.zig'
source: 'src/primitives/Chain/chain.zig'
---

> Auto-generated from Zig tests in: src/primitives/Chain/chain.zig

### Chain.fromId returns known chains

```zig
test "Chain.fromId returns known chains" {
    const mainnet = fromId(1);
    try std.testing.expect(mainnet != null);
    try std.testing.expectEqualStrings("Ethereum", mainnet.?.name);
    try std.testing.expectEqual(@as(ChainId.ChainId, 1), mainnet.?.id);

    const sepolia = fromId(11155111);
    try std.testing.expect(sepolia != null);
    try std.testing.expectEqualStrings("Sepolia", sepolia.?.name);
}
```

### Chain.fromId returns null for unknown chain

```zig
test "Chain.fromId returns null for unknown chain" {
    const unknown = fromId(999999);
    try std.testing.expect(unknown == null);
}
```

### Chain.isTestnet

```zig
test "Chain.isTestnet" {
    try std.testing.expect(!isTestnet(MAINNET));
    try std.testing.expect(isTestnet(GOERLI));
    try std.testing.expect(isTestnet(SEPOLIA));
    try std.testing.expect(isTestnet(HOLESKY));
    try std.testing.expect(!isTestnet(OPTIMISM));
}
```

### Chain.isL2

```zig
test "Chain.isL2" {
    try std.testing.expect(!isL2(MAINNET));
    try std.testing.expect(!isL2(SEPOLIA));
    try std.testing.expect(isL2(OPTIMISM));
    try std.testing.expect(isL2(ARBITRUM));
    try std.testing.expect(isL2(BASE));
}
```

### Chain.getL1Chain

```zig
test "Chain.getL1Chain" {
    const l1 = getL1Chain(OPTIMISM);
    try std.testing.expect(l1 != null);
    try std.testing.expectEqual(ChainId.MAINNET, l1.?.id);

    const mainnet_l1 = getL1Chain(MAINNET);
    try std.testing.expect(mainnet_l1 == null);
}
```

### Chain.getName

```zig
test "Chain.getName" {
    try std.testing.expectEqualStrings("Ethereum", getName(MAINNET));
    try std.testing.expectEqualStrings("OP Mainnet", getName(OPTIMISM));
}
```

### Chain.getSymbol

```zig
test "Chain.getSymbol" {
    try std.testing.expectEqualStrings("ETH", getSymbol(MAINNET));
    try std.testing.expectEqualStrings("POL", getSymbol(POLYGON));
}
```

### Chain.getRpcUrl

```zig
test "Chain.getRpcUrl" {
    const url = getRpcUrl(MAINNET);
    try std.testing.expect(url != null);
    try std.testing.expect(std.mem.startsWith(u8, url.?, "https://"));
}
```

### Chain.getExplorerUrl

```zig
test "Chain.getExplorerUrl" {
    const url = getExplorerUrl(MAINNET);
    try std.testing.expect(url != null);
    try std.testing.expectEqualStrings("https://etherscan.io", url.?);
}
```

### Chain.getBlockTime

```zig
test "Chain.getBlockTime" {
    try std.testing.expectEqual(@as(u64, 12), getBlockTime(MAINNET));
    try std.testing.expectEqual(@as(u64, 2), getBlockTime(OPTIMISM));
    try std.testing.expectEqual(@as(u64, 1), getBlockTime(ARBITRUM));
}
```

### Chain.equals

```zig
test "Chain.equals" {
    try std.testing.expect(equals(MAINNET, MAINNET));
    try std.testing.expect(!equals(MAINNET, SEPOLIA));
}
```

### Chain.isMainnet

```zig
test "Chain.isMainnet" {
    try std.testing.expect(isMainnet(MAINNET));
    try std.testing.expect(!isMainnet(SEPOLIA));
    try std.testing.expect(!isMainnet(OPTIMISM));
}
```

### Chain constant values are correct

```zig
test "Chain constant values are correct" {
    try std.testing.expectEqual(@as(ChainId.ChainId, 1), MAINNET.id);
    try std.testing.expectEqual(@as(ChainId.ChainId, 5), GOERLI.id);
    try std.testing.expectEqual(@as(ChainId.ChainId, 11155111), SEPOLIA.id);
    try std.testing.expectEqual(@as(ChainId.ChainId, 17000), HOLESKY.id);
    try std.testing.expectEqual(@as(ChainId.ChainId, 10), OPTIMISM.id);
    try std.testing.expectEqual(@as(ChainId.ChainId, 42161), ARBITRUM.id);
    try std.testing.expectEqual(@as(ChainId.ChainId, 8453), BASE.id);
    try std.testing.expectEqual(@as(ChainId.ChainId, 137), POLYGON.id);
}
```

### Chain.fromId returns all well-known chains

```zig
test "Chain.fromId returns all well-known chains" {
    // L2s
    try std.testing.expect(fromId(324) != null); // zkSync
    try std.testing.expect(fromId(59144) != null); // Linea
    try std.testing.expect(fromId(534352) != null); // Scroll
    try std.testing.expect(fromId(81457) != null); // Blast
    // Alt L1s
    try std.testing.expect(fromId(43114) != null); // Avalanche
    try std.testing.expect(fromId(56) != null); // BSC
    try std.testing.expect(fromId(250) != null); // Fantom
    try std.testing.expect(fromId(100) != null); // Gnosis
    try std.testing.expect(fromId(1284) != null); // Moonbeam
    try std.testing.expect(fromId(42220) != null); // Celo
}
```

### Chain.byId is alias for fromId

```zig
test "Chain.byId is alias for fromId" {
    const chain1 = fromId(1);
    const chain2 = byId(1);
    try std.testing.expect(chain1 != null);
    try std.testing.expect(chain2 != null);
    try std.testing.expect(equals(chain1.?, chain2.?));
}
```

### Chain.getWebsocketUrl

```zig
test "Chain.getWebsocketUrl" {
    const ws_url = getWebsocketUrl(MAINNET);
    try std.testing.expect(ws_url != null);
    try std.testing.expect(std.mem.startsWith(u8, ws_url.?, "wss://"));

    // Chain without websocket
    const linea_ws = getWebsocketUrl(LINEA);
    try std.testing.expect(linea_ws == null);
}
```

### Chain.getLatestHardfork

```zig
test "Chain.getLatestHardfork" {
    try std.testing.expectEqual(Hardfork.cancun, getLatestHardfork(MAINNET));
    try std.testing.expectEqual(Hardfork.cancun, getLatestHardfork(SEPOLIA));
    try std.testing.expectEqual(Hardfork.cancun, getLatestHardfork(OPTIMISM));
}
```

### Chain.getHardforkBlock

```zig
test "Chain.getHardforkBlock" {
    // Mainnet hardfork blocks
    try std.testing.expectEqual(@as(?u64, 12_965_000), getHardforkBlock(MAINNET, .london));
    try std.testing.expectEqual(@as(?u64, 15_537_394), getHardforkBlock(MAINNET, .paris));
    try std.testing.expectEqual(@as(?u64, 19_426_587), getHardforkBlock(MAINNET, .cancun));

    // Non-existent hardfork
    try std.testing.expectEqual(@as(?u64, null), getHardforkBlock(MAINNET, .prague));
}
```

### Chain.supportsHardfork

```zig
test "Chain.supportsHardfork" {
    try std.testing.expect(supportsHardfork(MAINNET, .london));
    try std.testing.expect(supportsHardfork(MAINNET, .paris));
    try std.testing.expect(supportsHardfork(MAINNET, .cancun));
    try std.testing.expect(!supportsHardfork(MAINNET, .prague));
}
```

### Chain.ALL_CHAINS contains expected count

```zig
test "Chain.ALL_CHAINS contains expected count" {
    try std.testing.expectEqual(@as(usize, 32), ALL_CHAINS.len);
}
```

### Chain.ALL_CHAINS can be iterated

```zig
test "Chain.ALL_CHAINS can be iterated" {
    var mainnet_count: usize = 0;
    var l2_count: usize = 0;
    var testnet_count: usize = 0;

    for (ALL_CHAINS) |chain| {
        if (chain.id == ChainId.MAINNET) mainnet_count += 1;
        if (chain.l2) l2_count += 1;
        if (chain.testnet) testnet_count += 1;
    }

    try std.testing.expectEqual(@as(usize, 1), mainnet_count);
    try std.testing.expect(l2_count > 0);
    try std.testing.expect(testnet_count > 0);
}
```

### HardforkBlocks.get returns correct values

```zig
test "HardforkBlocks.get returns correct values" {
    const hf = HardforkBlocks{
        .london = 100,
        .paris = 200,
        .cancun = 300,
    };

    try std.testing.expectEqual(@as(?u64, 100), hf.get(.london));
    try std.testing.expectEqual(@as(?u64, 200), hf.get(.paris));
    try std.testing.expectEqual(@as(?u64, 300), hf.get(.cancun));
    try std.testing.expectEqual(@as(?u64, null), hf.get(.homestead));
}
```

### HardforkBlocks.getLatest returns newest hardfork

```zig
test "HardforkBlocks.getLatest returns newest hardfork" {
    const hf1 = HardforkBlocks{ .london = 100 };
    try std.testing.expectEqual(Hardfork.london, hf1.getLatest());

    const hf2 = HardforkBlocks{ .london = 100, .cancun = 200 };
    try std.testing.expectEqual(Hardfork.cancun, hf2.getLatest());

    const hf3 = HardforkBlocks{};
    try std.testing.expectEqual(Hardfork.chainstart, hf3.getLatest());
}
```

### Chain native currencies are correct

```zig
test "Chain native currencies are correct" {
    try std.testing.expectEqualStrings("ETH", MAINNET.native_currency.symbol);
    try std.testing.expectEqualStrings("ETH", OPTIMISM.native_currency.symbol);
    try std.testing.expectEqualStrings("POL", POLYGON.native_currency.symbol);
    try std.testing.expectEqualStrings("BNB", BSC.native_currency.symbol);
    try std.testing.expectEqualStrings("AVAX", AVALANCHE.native_currency.symbol);
    try std.testing.expectEqualStrings("FTM", FANTOM.native_currency.symbol);
    try std.testing.expectEqualStrings("xDAI", GNOSIS.native_currency.symbol);
    try std.testing.expectEqualStrings("GLMR", MOONBEAM.native_currency.symbol);
    try std.testing.expectEqualStrings("CELO", CELO.native_currency.symbol);
}
```

### Chain L2s have correct L1 chain IDs

```zig
test "Chain L2s have correct L1 chain IDs" {
    try std.testing.expectEqual(@as(?ChainId.ChainId, ChainId.MAINNET), OPTIMISM.l1_chain_id);
    try std.testing.expectEqual(@as(?ChainId.ChainId, ChainId.MAINNET), ARBITRUM.l1_chain_id);
    try std.testing.expectEqual(@as(?ChainId.ChainId, ChainId.MAINNET), BASE.l1_chain_id);
    try std.testing.expectEqual(@as(?ChainId.ChainId, ChainId.MAINNET), ZKSYNC.l1_chain_id);
    try std.testing.expectEqual(@as(?ChainId.ChainId, ChainId.SEPOLIA), OPTIMISM_SEPOLIA.l1_chain_id);
    try std.testing.expectEqual(@as(?ChainId.ChainId, null), MAINNET.l1_chain_id);
}
```

### Chain testnets are marked correctly

```zig
test "Chain testnets are marked correctly" {
    // Mainnets
    try std.testing.expect(!MAINNET.testnet);
    try std.testing.expect(!OPTIMISM.testnet);
    try std.testing.expect(!BSC.testnet);
    // Testnets
    try std.testing.expect(SEPOLIA.testnet);
    try std.testing.expect(HOLESKY.testnet);
    try std.testing.expect(OPTIMISM_SEPOLIA.testnet);
    try std.testing.expect(BSC_TESTNET.testnet);
}
```

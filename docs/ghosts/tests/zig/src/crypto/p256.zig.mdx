---
title: '[Zig] src/crypto/p256.zig'
source: 'src/crypto/p256.zig'
---

> Auto-generated from Zig tests in: src/crypto/p256.zig

### p256 basic

```zig
test "p256 basic" {
    const allocator = std.testing.allocator;

    // Test key generation
    const private_key = [_]u8{1} ** 32;
    const public_key = try publicKeyFromPrivate(allocator, &private_key);
    defer allocator.free(public_key);

    try std.testing.expect(public_key.len == 64);

    // Test signing and verification
    const hash = [_]u8{0xaa} ** 32;
    const signature = try sign(allocator, &hash, &private_key);
    defer allocator.free(signature);

    try std.testing.expect(signature.len == 64);

    const valid = try verify(&hash, signature[0..32], signature[32..64], public_key);
    try std.testing.expect(valid);

    // Test with wrong hash
    const wrong_hash = [_]u8{0xbb} ** 32;
    const invalid = try verify(&wrong_hash, signature[0..32], signature[32..64], public_key);
    try std.testing.expect(!invalid);
}
```

### p256 ecdh

```zig
test "p256 ecdh" {
    const allocator = std.testing.allocator;

    const priv1 = [_]u8{1} ** 32;
    const priv2 = [_]u8{2} ** 32;

    const pub1 = try publicKeyFromPrivate(allocator, &priv1);
    defer allocator.free(pub1);
    const pub2 = try publicKeyFromPrivate(allocator, &priv2);
    defer allocator.free(pub2);

    const shared1 = try ecdh(allocator, &priv1, pub2);
    defer allocator.free(shared1);
    const shared2 = try ecdh(allocator, &priv2, pub1);
    defer allocator.free(shared2);

    try std.testing.expectEqualSlices(u8, shared1, shared2);
}
```

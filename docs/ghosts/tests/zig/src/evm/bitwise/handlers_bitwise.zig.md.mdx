---
title: '[Zig] src/evm/bitwise/handlers_bitwise.zig.md'
source: 'src/evm/bitwise/handlers_bitwise.zig.md'
---

> Auto-generated from Zig tests in: src/evm/bitwise/handlers_bitwise.zig.md

### AND operation

```zig
test "AND operation" {
    // Test: 0xFF & 0xF0 = 0xF0
    // Test: 0xFFFFFFFF & 0 = 0
    // Test: max_u256 & max_u256 = max_u256
}
```

### OR operation

```zig
test "OR operation" {
    // Test: 0xFF | 0xF0 = 0xFF
    // Test: 0 | 0 = 0
}
```

### XOR operation

```zig
test "XOR operation" {
    // Test: 0xFF ^ 0xFF = 0
    // Test: 0xFF ^ 0xF0 = 0x0F
}
```

### NOT operation

```zig
test "NOT operation" {
    // Test: ~0 = max_u256
    // Test: ~max_u256 = 0
}
```

### BYTE extraction at boundaries

```zig
test "BYTE extraction at boundaries" {
    // Test: i=0 extracts first (most significant) byte
    // Test: i=31 extracts last (least significant) byte
    // Test: i=32 returns 0
    // Test: i=1000 returns 0
    // Test: i=max_u256 returns 0
}
```

### SHL edge cases

```zig
test "SHL edge cases" {
    // Test: shift=0 returns original value
    // Test: shift=1 doubles value (with overflow wrap)
    // Test: shift=255 shifts by 255 bits
    // Test: shift=256 returns 0
    // Test: shift=1000 returns 0
}
```

### SHR edge cases

```zig
test "SHR edge cases" {
    // Test: shift=0 returns original value
    // Test: shift=256 returns 0
    // Test: shift=255 with value=max_u256
}
```

### SAR edge cases

```zig
test "SAR edge cases" {
    // Test: negative value, shift >= 256 returns all 1s (max_u256)
    // Test: positive value, shift >= 256 returns 0
    // Test: shift by 1 on negative number preserves sign
    // Test: shift by 255 on max negative (-2^255)
}
```

### SHL rejects pre-Constantinople

```zig
test "SHL rejects pre-Constantinople" {
    // Setup frame with hardfork=BYZANTIUM
    // Expect error.InvalidOpcode
}
```

### SHR rejects pre-Constantinople

```zig
test "SHR rejects pre-Constantinople" {
    // Setup frame with hardfork=BYZANTIUM
    // Expect error.InvalidOpcode
}
```

### SAR rejects pre-Constantinople

```zig
test "SAR rejects pre-Constantinople" {
    // Setup frame with hardfork=BYZANTIUM
    // Expect error.InvalidOpcode
}
```

### all operations consume GasFastestStep

```zig
test "all operations consume GasFastestStep" {
    // Verify gas = 3 for all operations
    // Match Python's GAS_VERY_LOW constant
}
```

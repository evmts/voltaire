---
title: '[TS/JS] src/primitives/Bytes/fromNumber.test.ts'
source: 'src/primitives/Bytes/fromNumber.test.ts'
---

> Auto-generated from test file: src/primitives/Bytes/fromNumber.test.ts

```typescript
import { describe, expect, it } from "vitest";
import { fromNumber } from "./fromNumber.js";
import { toNumber } from "./toNumber.js";

describe("Bytes.fromNumber", () => {
	it("converts zero", () => {
		const result = fromNumber(0);
		expect(result).toEqual(new Uint8Array([0]));
	});

	it("converts small numbers", () => {
		expect(fromNumber(1)).toEqual(new Uint8Array([1]));
		expect(fromNumber(255)).toEqual(new Uint8Array([255]));
		expect(fromNumber(256)).toEqual(new Uint8Array([1, 0]));
	});

	it("converts with size padding", () => {
		expect(fromNumber(1, 2)).toEqual(new Uint8Array([0, 1]));
		expect(fromNumber(255, 4)).toEqual(new Uint8Array([0, 0, 0, 255]));
		expect(fromNumber(0x1234, 4)).toEqual(new Uint8Array([0, 0, 0x12, 0x34]));
	});

	it("throws when value exceeds size", () => {
		expect(() => fromNumber(256, 1)).toThrow(/requires 2 bytes/);
		expect(() => fromNumber(0x10000, 2)).toThrow(/requires 3 bytes/);
	});

	it("throws on negative numbers", () => {
		expect(() => fromNumber(-1)).toThrow(/must be non-negative/);
	});

	it("throws on non-integers", () => {
		expect(() => fromNumber(1.5)).toThrow(/must be an integer/);
	});

	it("throws on unsafe integers", () => {
		expect(() => fromNumber(Number.MAX_SAFE_INTEGER + 1)).toThrow(
			/exceeds MAX_SAFE_INTEGER/,
		);
	});

	it("round-trips with toNumber", () => {
		const values = [0, 1, 255, 256, 0x1234, 0xabcdef];
		for (const val of values) {
			expect(toNumber(fromNumber(val))).toBe(val);
		}
	});
});

```

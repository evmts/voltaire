---
title: '[TS/JS] src/primitives/Abi/parameter/Parameter.test.ts'
source: 'src/primitives/Abi/parameter/Parameter.test.ts'
---

> Auto-generated from test file: src/primitives/Abi/parameter/Parameter.test.ts

```typescript
/**
 * Unit tests for Parameter factory function
 */

import { describe, expect, it } from "vitest";
import { AbiDecodingError, AbiEncodingError } from "../Errors.js";
import { Parameter } from "./Parameter.js";

describe("Parameter", () => {
	describe("factory function", () => {
		it("creates parameter from object", () => {
			const param = Parameter({ type: "uint256", name: "amount" });
			expect(param).toEqual({ type: "uint256", name: "amount" });
		});

		it("returns same reference", () => {
			const input = { type: "address", name: "to" };
			const result = Parameter(input);
			expect(result).toBe(input);
		});
	});

	describe("Parameter.from static method", () => {
		it("creates parameter using from method", () => {
			const param = Parameter.from({ type: "bool", name: "flag" });
			expect(param).toEqual({ type: "bool", name: "flag" });
		});

		it("handles complex parameters", () => {
			const param = Parameter.from({
				type: "tuple",
				name: "data",
				components: [
					{ type: "address", name: "addr" },
					{ type: "uint256", name: "value" },
				],
			});
			expect(param.type).toBe("tuple");
			expect(param.components).toHaveLength(2);
		});
	});

	describe("Parameter.encode static method", () => {
		it("throws AbiEncodingError", () => {
			expect(() => Parameter.encode(100n)).toThrow(AbiEncodingError);
		});

		it("throws with correct message", () => {
			expect(() => Parameter.encode(42n)).toThrow(
				"Parameter.encode is not implemented. Use Abi.encodeParameters instead.",
			);
		});
	});

	describe("Parameter.decode static method", () => {
		it("throws AbiDecodingError", () => {
			const data = new Uint8Array(32);
			expect(() => Parameter.decode(data)).toThrow(AbiDecodingError);
		});

		it("throws with correct message", () => {
			const data = new Uint8Array(32);
			expect(() => Parameter.decode(data)).toThrow(
				"Parameter.decode is not implemented. Use Abi.decodeParameters instead.",
			);
		});
	});

	describe("prototype methods", () => {
		it("Parameter.prototype has encode method", () => {
			expect(typeof Parameter.prototype.encode).toBe("function");
		});

		it("Parameter.prototype has decode method", () => {
			expect(typeof Parameter.prototype.decode).toBe("function");
		});

		it("Parameter.prototype has toString method", () => {
			expect(typeof Parameter.prototype.toString).toBe("function");
		});

		it("Parameter.prototype has custom inspect method", () => {
			const inspectSymbol = Symbol.for("nodejs.util.inspect.custom");
			expect(typeof Parameter.prototype[inspectSymbol]).toBe("function");
		});

		it("toString formats parameter correctly", () => {
			const result = Parameter.prototype.toString.call({
				type: "uint256",
				name: "amount",
			});
			expect(result).toBe("Parameter(uint256 amount)");
		});

		it("toString handles parameter without name", () => {
			const result = Parameter.prototype.toString.call({ type: "bool" });
			expect(result).toBe("Parameter(bool)");
		});

		it("custom inspect formats correctly", () => {
			const inspectSymbol = Symbol.for("nodejs.util.inspect.custom");
			const result = Parameter.prototype[inspectSymbol].call({
				type: "string",
				name: "message",
			});
			expect(result).toBe("Parameter(string message)");
		});
	});

	describe("returned objects are plain objects", () => {
		it("Parameter() returns plain object without prototype methods", () => {
			const param = Parameter({ type: "uint256", name: "x" });
			// from() just returns the plain object, no prototype chain
			expect(param.encode).toBeUndefined();
			expect(param.decode).toBeUndefined();
			expect(param.toString).toBe(Object.prototype.toString);
		});
	});

	describe("edge cases", () => {
		it("handles parameter with empty string name using prototype toString", () => {
			const result = Parameter.prototype.toString.call({
				type: "uint256",
				name: "",
			});
			expect(result).toBe("Parameter(uint256)");
		});

		it("handles parameter with indexed field", () => {
			const param = Parameter({
				type: "address",
				name: "from",
				indexed: true,
			});
			expect(param.indexed).toBe(true);
		});

		it("handles parameter with internalType", () => {
			const param = Parameter({
				type: "address",
				name: "token",
				internalType: "contract IERC20",
			});
			expect(param.internalType).toBe("contract IERC20");
		});
	});
});

```

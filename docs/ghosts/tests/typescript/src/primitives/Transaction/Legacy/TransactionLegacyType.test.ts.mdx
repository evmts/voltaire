---
title: '[TS/JS] src/primitives/Transaction/Legacy/TransactionLegacyType.test.ts'
source: 'src/primitives/Transaction/Legacy/TransactionLegacyType.test.ts'
---

> Auto-generated from test file: src/primitives/Transaction/Legacy/TransactionLegacyType.test.ts

```typescript
import { describe, it } from "vitest";
import type { AddressType } from "../../Address/AddressType.js";
import { Type } from "../types.js";
import type { TransactionLegacyType } from "./TransactionLegacyType.js";

type Equals<X, Y> = (<T>() => T extends X ? 1 : 2) extends <T>() => T extends Y
	? 1
	: 2
	? true
	: false;

describe("TransactionLegacyType", () => {
	it("type structure is correct", () => {
		type _ = Equals<
			TransactionLegacyType,
			{
				readonly __tag: "TransactionLegacy";
				type: Type.Legacy;
				nonce: bigint;
				gasPrice: bigint;
				gasLimit: bigint;
				to: AddressType | null;
				value: bigint;
				data: Uint8Array;
				v: bigint;
				r: Uint8Array;
				s: Uint8Array;
			}
		>;
	});

	it("has branded tag field", () => {
		const check = (tx: TransactionLegacyType) => {
			return tx.__tag;
		};
		type _ = Equals<ReturnType<typeof check>, "TransactionLegacy">;
	});

	it("type field is Type.Legacy", () => {
		const check = (tx: TransactionLegacyType) => {
			return tx.type;
		};
		type _ = Equals<ReturnType<typeof check>, Type.Legacy>;
	});

	it("nonce is bigint", () => {
		const check = (tx: TransactionLegacyType) => {
			return tx.nonce;
		};
		type _ = Equals<ReturnType<typeof check>, bigint>;
	});

	it("gasPrice is bigint", () => {
		const check = (tx: TransactionLegacyType) => {
			return tx.gasPrice;
		};
		type _ = Equals<ReturnType<typeof check>, bigint>;
	});

	it("gasLimit is bigint", () => {
		const check = (tx: TransactionLegacyType) => {
			return tx.gasLimit;
		};
		type _ = Equals<ReturnType<typeof check>, bigint>;
	});

	it("to is AddressType or null", () => {
		const check = (tx: TransactionLegacyType) => {
			return tx.to;
		};
		type _ = Equals<ReturnType<typeof check>, AddressType | null>;
	});

	it("value is bigint", () => {
		const check = (tx: TransactionLegacyType) => {
			return tx.value;
		};
		type _ = Equals<ReturnType<typeof check>, bigint>;
	});

	it("data is Uint8Array", () => {
		const check = (tx: TransactionLegacyType) => {
			return tx.data;
		};
		type _ = Equals<ReturnType<typeof check>, Uint8Array>;
	});

	it("v is bigint", () => {
		const check = (tx: TransactionLegacyType) => {
			return tx.v;
		};
		type _ = Equals<ReturnType<typeof check>, bigint>;
	});

	it("r is Uint8Array", () => {
		const check = (tx: TransactionLegacyType) => {
			return tx.r;
		};
		type _ = Equals<ReturnType<typeof check>, Uint8Array>;
	});

	it("s is Uint8Array", () => {
		const check = (tx: TransactionLegacyType) => {
			return tx.s;
		};
		type _ = Equals<ReturnType<typeof check>, Uint8Array>;
	});

	it("rejects missing fields", () => {
		// @ts-expect-error - missing nonce
		const tx1: TransactionLegacyType = {
			__tag: "TransactionLegacy",
			type: Type.Legacy,
			gasPrice: 0n,
			gasLimit: 0n,
			to: null,
			value: 0n,
			data: new Uint8Array(),
			v: 0n,
			r: new Uint8Array(),
			s: new Uint8Array(),
		};
	});

	it("rejects wrong type value", () => {
		// @ts-expect-error - wrong type value
		const tx: TransactionLegacyType = {
			__tag: "TransactionLegacy",
			type: Type.EIP1559,
			nonce: 0n,
			gasPrice: 0n,
			gasLimit: 0n,
			to: null,
			value: 0n,
			data: new Uint8Array(),
			v: 0n,
			r: new Uint8Array(),
			s: new Uint8Array(),
		};
	});

	it("rejects wrong brand tag", () => {
		// @ts-expect-error - wrong brand tag
		const tx: TransactionLegacyType = {
			__tag: "TransactionEIP1559",
			type: Type.Legacy,
			nonce: 0n,
			gasPrice: 0n,
			gasLimit: 0n,
			to: null,
			value: 0n,
			data: new Uint8Array(),
			v: 0n,
			r: new Uint8Array(),
			s: new Uint8Array(),
		};
	});

	it("rejects wrong nonce type", () => {
		// @ts-expect-error - nonce must be bigint
		const tx: TransactionLegacyType = {
			__tag: "TransactionLegacy",
			type: Type.Legacy,
			nonce: 0,
			gasPrice: 0n,
			gasLimit: 0n,
			to: null,
			value: 0n,
			data: new Uint8Array(),
			v: 0n,
			r: new Uint8Array(),
			s: new Uint8Array(),
		};
	});

	it("rejects wrong to type", () => {
		// @ts-expect-error - to must be AddressType or null
		const tx: TransactionLegacyType = {
			__tag: "TransactionLegacy",
			type: Type.Legacy,
			nonce: 0n,
			gasPrice: 0n,
			gasLimit: 0n,
			to: "0x742d35cc6634c0532925a3b844bc9e7595f0beb0",
			value: 0n,
			data: new Uint8Array(),
			v: 0n,
			r: new Uint8Array(),
			s: new Uint8Array(),
		};
	});

	it("rejects wrong data type", () => {
		// @ts-expect-error - data must be Uint8Array
		const tx: TransactionLegacyType = {
			__tag: "TransactionLegacy",
			type: Type.Legacy,
			nonce: 0n,
			gasPrice: 0n,
			gasLimit: 0n,
			to: null,
			value: 0n,
			data: "0x",
			v: 0n,
			r: new Uint8Array(),
			s: new Uint8Array(),
		};
	});
});

```

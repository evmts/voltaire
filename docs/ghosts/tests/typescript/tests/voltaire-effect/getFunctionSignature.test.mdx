---
title: getFunctionSignature Tests
description: Test examples for computing function signatures from ABI function definitions.
---

## Gets transfer signature

Computes standard ERC20 transfer function signature.

```typescript
import { describe, expect, it } from "@effect/vitest"
import * as Effect from "effect/Effect"
import * as S from "effect/Schema"
import * as Abi from "voltaire-effect/primitives/Abi"

it.effect("gets transfer signature", () =>
  Effect.gen(function* () {
    const fn = S.decodeUnknownSync(Abi.FunctionSchema)({
      type: "function",
      name: "transfer",
      stateMutability: "nonpayable",
      inputs: [
        { name: "to", type: "address" },
        { name: "amount", type: "uint256" },
      ],
      outputs: [{ type: "bool" }],
    })
    const sig = yield* Abi.getFunctionSignature(fn as any)
    expect(sig).toBe("transfer(address,uint256)")
  }),
)
```

## Gets balanceOf signature

Computes single-argument view function signature.

```typescript
it.effect("gets balanceOf signature", () =>
  Effect.gen(function* () {
    const fn = S.decodeUnknownSync(Abi.FunctionSchema)({
      type: "function",
      name: "balanceOf",
      stateMutability: "view",
      inputs: [{ name: "account", type: "address" }],
      outputs: [{ type: "uint256" }],
    })
    const sig = yield* Abi.getFunctionSignature(fn as any)
    expect(sig).toBe("balanceOf(address)")
  }),
)
```

## Gets function with no inputs

Computes signature for function with empty input list.

```typescript
it.effect("gets function with no inputs", () =>
  Effect.gen(function* () {
    const fn = S.decodeUnknownSync(Abi.FunctionSchema)({
      type: "function",
      name: "totalSupply",
      stateMutability: "view",
      inputs: [],
      outputs: [{ type: "uint256" }],
    })
    const sig = yield* Abi.getFunctionSignature(fn as any)
    expect(sig).toBe("totalSupply()")
  }),
)
```

## Gets transferFrom signature

Computes signature for function with three arguments.

```typescript
it.effect("gets transferFrom signature", () =>
  Effect.gen(function* () {
    const fn = S.decodeUnknownSync(Abi.FunctionSchema)({
      type: "function",
      name: "transferFrom",
      stateMutability: "nonpayable",
      inputs: [
        { name: "from", type: "address" },
        { name: "to", type: "address" },
        { name: "amount", type: "uint256" },
      ],
      outputs: [{ type: "bool" }],
    })
    const sig = yield* Abi.getFunctionSignature(fn as any)
    expect(sig).toBe("transferFrom(address,address,uint256)")
  }),
)
```

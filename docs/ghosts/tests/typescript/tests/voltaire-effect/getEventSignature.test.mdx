---
title: getEventSignature Tests
description: Test examples for computing event signatures from ABI event definitions.
---

## Gets Transfer event signature

Computes standard ERC20 Transfer event signature.

```typescript
import { describe, expect, it } from "@effect/vitest"
import * as Effect from "effect/Effect"
import * as S from "effect/Schema"
import * as Abi from "voltaire-effect/primitives/Abi"

it.effect("gets Transfer event signature", () =>
  Effect.gen(function* () {
    const evt = S.decodeUnknownSync(Abi.EventSchema)({
      type: "event",
      name: "Transfer",
      inputs: [
        { name: "from", type: "address", indexed: true },
        { name: "to", type: "address", indexed: true },
        { name: "value", type: "uint256", indexed: false },
      ],
    })
    const sig = yield* Abi.getEventSignature(evt as any)
    expect(sig).toBe("Transfer(address,address,uint256)")
  }),
)
```

## Gets Approval event signature

Computes ERC20 Approval event signature.

```typescript
it.effect("gets Approval event signature", () =>
  Effect.gen(function* () {
    const evt = S.decodeUnknownSync(Abi.EventSchema)({
      type: "event",
      name: "Approval",
      inputs: [
        { name: "owner", type: "address", indexed: true },
        { name: "spender", type: "address", indexed: true },
        { name: "value", type: "uint256", indexed: false },
      ],
    })
    const sig = yield* Abi.getEventSignature(evt as any)
    expect(sig).toBe("Approval(address,address,uint256)")
  }),
)
```

## Gets event with no inputs

Handles events with empty input list.

```typescript
it.effect("gets event with no inputs", () =>
  Effect.gen(function* () {
    const evt = S.decodeUnknownSync(Abi.EventSchema)({
      type: "event",
      name: "Paused",
      inputs: [],
    })
    const sig = yield* Abi.getEventSignature(evt as any)
    expect(sig).toBe("Paused()")
  }),
)
```

## Is infallible

Never fails for valid event definitions.

```typescript
it.effect("never fails", () =>
  Effect.gen(function* () {
    const evt = S.decodeUnknownSync(Abi.EventSchema)({
      type: "event",
      name: "Test",
      inputs: [],
    })
    const sig = yield* Abi.getEventSignature(evt as any)
    expect(sig).toBe("Test()")
  }),
)
```

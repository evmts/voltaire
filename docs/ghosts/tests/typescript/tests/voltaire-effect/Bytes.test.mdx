---
title: Bytes Tests
description: Test examples for Bytes showing hex encoding, byte array operations, and utility functions.
---

## Parse valid hex string

Decodes a hex string to a Uint8Array with correct byte values.

```typescript
import * as S from 'effect/Schema'
import * as Bytes from 'voltaire-effect/primitives/Bytes'

const bytes = S.decodeSync(Bytes.Hex)('0xdeadbeef')
expect(bytes).toBeInstanceOf(Uint8Array)
expect(bytes.length).toBe(4)
expect(bytes[0]).toBe(0xde)
expect(bytes[1]).toBe(0xad)
```

## Parse empty hex string

Decodes empty hex to zero-length byte array.

```typescript
import * as S from 'effect/Schema'
import * as Bytes from 'voltaire-effect/primitives/Bytes'

const bytes = S.decodeSync(Bytes.Hex)('0x')
expect(bytes).toBeInstanceOf(Uint8Array)
expect(bytes.length).toBe(0)
```

## Encode to lowercase hex

Encodes bytes to lowercase hex with 0x prefix.

```typescript
import * as S from 'effect/Schema'
import * as Bytes from 'voltaire-effect/primitives/Bytes'

const bytes = S.decodeSync(Bytes.Hex)('0xDEADBEEF')
const hex = S.encodeSync(Bytes.Hex)(bytes)
expect(hex).toBe('0xdeadbeef')
```

## Check isBytes for Uint8Array

Returns true for valid Uint8Array input.

```typescript
import * as Bytes from 'voltaire-effect/primitives/Bytes'

const bytes = new Uint8Array([1, 2, 3])
expect(Bytes.isBytes(bytes)).toBe(true)
```

## Check isBytes for string

Returns false for string input.

```typescript
import * as Bytes from 'voltaire-effect/primitives/Bytes'

expect(Bytes.isBytes('0xdeadbeef')).toBe(false)
```

## Compare equal bytes

Returns true when two byte arrays have identical content.

```typescript
import * as S from 'effect/Schema'
import * as Bytes from 'voltaire-effect/primitives/Bytes'
import { equals } from 'voltaire-effect/primitives/Bytes/equals'

const a = S.decodeSync(Bytes.Hex)('0xdeadbeef')
const b = S.decodeSync(Bytes.Hex)('0xdeadbeef')
expect(equals(a, b)).toBe(true)
```

## Concatenate byte arrays

Joins multiple byte arrays into one.

```typescript
import * as S from 'effect/Schema'
import * as Bytes from 'voltaire-effect/primitives/Bytes'
import { concat } from 'voltaire-effect/primitives/Bytes/concat'

const a = S.decodeSync(Bytes.Hex)('0xdead')
const b = S.decodeSync(Bytes.Hex)('0xbeef')
const result = concat(a, b)
expect(S.encodeSync(Bytes.Hex)(result)).toBe('0xdeadbeef')
```

## Get byte size

Returns the length of a byte array.

```typescript
import * as S from 'effect/Schema'
import * as Bytes from 'voltaire-effect/primitives/Bytes'
import { size } from 'voltaire-effect/primitives/Bytes/size'

const bytes = S.decodeSync(Bytes.Hex)('0xdeadbeef')
expect(size(bytes)).toBe(4)
```

## Convert bytes to UTF-8 string

Decodes bytes as a UTF-8 string.

```typescript
import { toString } from 'voltaire-effect/primitives/Bytes/toString'

const bytes = new Uint8Array([104, 101, 108, 108, 111])
expect(toString(bytes)).toBe('hello')
```

## Generate random bytes

Creates a random byte array of specified size.

```typescript
import * as Bytes from 'voltaire-effect/primitives/Bytes'

const bytes = Bytes.random(32)
expect(bytes).toBeInstanceOf(Uint8Array)
expect(bytes.length).toBe(32)
```

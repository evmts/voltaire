---
title: ErrorSignature Tests
description: Test examples for ErrorSignature schema showing error selector parsing from definitions and hex strings.
---

## Parses from error definition

Demonstrates parsing error signature from Solidity-style definition.

```typescript
import { describe, expect, it } from "@effect/vitest"
import * as Schema from "effect/Schema"
import * as ErrorSignature from "voltaire-effect/primitives/ErrorSignature"

it("parses from error definition", () => {
  const sig = Schema.decodeSync(ErrorSignature.String)(
    "InsufficientBalance(uint256,uint256)",
  )
  expect(sig).toBeInstanceOf(Uint8Array)
  expect(sig.length).toBe(4)
})
```

## Parses from hex

Demonstrates parsing error selector from 4-byte hex.

```typescript
import * as Schema from "effect/Schema"
import * as ErrorSignature from "voltaire-effect/primitives/ErrorSignature"

it("parses from hex", () => {
  const sig = Schema.decodeSync(ErrorSignature.String)("0x08c379a0")
  expect(sig).toBeInstanceOf(Uint8Array)
  expect(sig.length).toBe(4)
})
```

## Encodes to hex string

Demonstrates encoding error selector back to hex.

```typescript
import * as Schema from "effect/Schema"
import * as ErrorSignature from "voltaire-effect/primitives/ErrorSignature"

it("encodes to hex string", () => {
  const sig = Schema.decodeSync(ErrorSignature.String)("0x08c379a0")
  const hex = Schema.encodeSync(ErrorSignature.String)(sig)
  expect(hex).toBe("0x08c379a0")
})
```

## Pure functions: toHex and equals

Demonstrates utility functions for error signatures.

```typescript
import * as Schema from "effect/Schema"
import * as ErrorSignature from "voltaire-effect/primitives/ErrorSignature"

it("toHex converts to hex", () => {
  const sig = Schema.decodeSync(ErrorSignature.String)("0x08c379a0")
  const hex = ErrorSignature.toHex(sig)
  expect(hex).toBe("0x08c379a0")
})

it("equals compares signatures", () => {
  const a = Schema.decodeSync(ErrorSignature.String)("0x08c379a0")
  const b = Schema.decodeSync(ErrorSignature.String)("0x08c379a0")
  expect(ErrorSignature.equals(a, b)).toBe(true)
})
```

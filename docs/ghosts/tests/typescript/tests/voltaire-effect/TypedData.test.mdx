---
title: TypedData Tests
description: Test examples for TypedData showing EIP-712 typed data validation and encoding.
---

## Parse valid typed data

Decodes a complete EIP-712 typed data structure with types, domain, and message.

```typescript
import * as Schema from 'effect/Schema'
import * as TypedData from 'voltaire-effect/primitives/TypedData'

const input = {
  types: {
    EIP712Domain: [
      { name: 'name', type: 'string' },
      { name: 'version', type: 'string' },
    ],
    Person: [
      { name: 'name', type: 'string' },
      { name: 'wallet', type: 'address' },
    ],
  },
  primaryType: 'Person',
  domain: { name: 'My App', version: '1' },
  message: {
    name: 'Bob',
    wallet: '0x1234567890123456789012345678901234567890',
  },
}
const result = Schema.decodeSync(TypedData.Struct)(input)
expect(result.primaryType).toBe('Person')
expect(result.domain.name).toBe('My App')
```

## Parse with chainId

Decodes typed data that includes chainId in the domain.

```typescript
import * as Schema from 'effect/Schema'
import * as TypedData from 'voltaire-effect/primitives/TypedData'

const input = {
  types: {
    EIP712Domain: [{ name: 'chainId', type: 'uint256' }],
    Message: [{ name: 'content', type: 'string' }],
  },
  primaryType: 'Message',
  domain: { chainId: '1' },
  message: { content: 'Hello' },
}
const result = Schema.decodeSync(TypedData.Struct)(input)
expect(result.domain.chainId).toBe(1)
```

## Encode back to input format

Round-trips typed data through encode/decode.

```typescript
import * as Schema from 'effect/Schema'
import * as TypedData from 'voltaire-effect/primitives/TypedData'

const input = {
  types: {
    EIP712Domain: [{ name: 'name', type: 'string' }],
    Message: [{ name: 'content', type: 'string' }],
  },
  primaryType: 'Message',
  domain: { name: 'Test' },
  message: { content: 'Hello' },
}
const decoded = Schema.decodeSync(TypedData.Struct)(input)
const encoded = Schema.encodeSync(TypedData.Struct)(decoded)
expect(encoded.primaryType).toBe('Message')
expect(encoded.domain.name).toBe('Test')
```

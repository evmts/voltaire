---
title: Chain Tests
description: Test examples for ChainService showing chain configuration for Ethereum and L2 networks.
---

## Mainnet chain ID and name

Provides correct configuration for Ethereum mainnet.

```typescript
import * as Effect from 'effect/Effect'
import { ChainService } from 'voltaire-effect'
import { mainnet } from 'voltaire-effect'

const program = Effect.gen(function* () {
  const chain = yield* ChainService
  return { id: chain.id, name: chain.name }
}).pipe(Effect.provide(mainnet))

const result = await Effect.runPromise(program)
expect(result.id).toBe(1)
expect(result.name).toBe('Ethereum')
```

## Mainnet native currency

Provides ETH as native currency with 18 decimals.

```typescript
import * as Effect from 'effect/Effect'
import { ChainService } from 'voltaire-effect'
import { mainnet } from 'voltaire-effect'

const program = Effect.gen(function* () {
  const chain = yield* ChainService
  return chain.nativeCurrency
}).pipe(Effect.provide(mainnet))

const result = await Effect.runPromise(program)
expect(result).toEqual({ name: 'Ether', symbol: 'ETH', decimals: 18 })
```

## Multicall3 contract address

Provides the standard multicall3 address.

```typescript
import * as Effect from 'effect/Effect'
import { ContractsService } from 'voltaire-effect'
import { mainnet } from 'voltaire-effect'

const program = Effect.gen(function* () {
  const contracts = yield* ContractsService
  return contracts.multicall3
}).pipe(Effect.provide(mainnet))

const result = await Effect.runPromise(program)
expect(result?.address).toBe('0xca11bde05977b3631167028862be2a173976ca11')
```

## Block explorer configuration

Provides Etherscan as default block explorer.

```typescript
import * as Effect from 'effect/Effect'
import { BlockExplorerService } from 'voltaire-effect'
import { mainnet } from 'voltaire-effect'

const program = Effect.gen(function* () {
  const explorers = yield* BlockExplorerService
  return explorers.default
}).pipe(Effect.provide(mainnet))

const result = await Effect.runPromise(program)
expect(result?.name).toBe('Etherscan')
expect(result?.url).toBe('https://etherscan.io')
```

## Sepolia testnet flag

Marks Sepolia as a testnet.

```typescript
import * as Effect from 'effect/Effect'
import { ChainService } from 'voltaire-effect'
import { sepolia } from 'voltaire-effect'

const program = Effect.gen(function* () {
  const chain = yield* ChainService
  return { id: chain.id, testnet: chain.testnet }
}).pipe(Effect.provide(sepolia))

const result = await Effect.runPromise(program)
expect(result.id).toBe(11_155_111)
expect(result.testnet).toBe(true)
```

## Arbitrum fast block time

Arbitrum has 250ms block time.

```typescript
import { arbitrumConfig } from 'voltaire-effect'

expect(arbitrumConfig.blockTime).toBe(250)
```

## Create custom chain

Creates a custom chain configuration.

```typescript
import * as Effect from 'effect/Effect'
import * as Layer from 'effect/Layer'
import { ChainService, ChainConfig } from 'voltaire-effect'

const customConfig: ChainConfig = {
  id: 99999,
  name: 'Custom Chain',
  nativeCurrency: { name: 'Custom', symbol: 'CUST', decimals: 18 },
  blockTime: 1_000,
}

const customChain = Layer.succeed(ChainService, customConfig)

const program = Effect.gen(function* () {
  const chain = yield* ChainService
  return { id: chain.id, name: chain.name }
}).pipe(Effect.provide(customChain))

const result = await Effect.runPromise(program)
expect(result).toEqual({ id: 99999, name: 'Custom Chain' })
```

## All chains have multicall3

Standard multicall3 address across all supported chains.

```typescript
import {
  mainnetContracts,
  sepoliaContracts,
  arbitrumContracts,
  baseContracts,
  optimismContracts,
  polygonContracts,
} from 'voltaire-effect'

const chains = [mainnetContracts, sepoliaContracts, arbitrumContracts, baseContracts, optimismContracts, polygonContracts]

for (const contracts of chains) {
  expect(contracts.multicall3?.address.toLowerCase()).toBe('0xca11bde05977b3631167028862be2a173976ca11')
}
```

---
title: TopicFilter Tests
description: Test examples for TopicFilter showing log topic filter validation for RPC queries.
---

## Validate topic filter array

Validates a topic filter array containing topics, nulls, and nested topic arrays.

```typescript
import * as Schema from 'effect/Schema'
import * as TopicFilter from 'voltaire-effect/primitives/TopicFilter'

const input = [
  new Uint8Array(32).fill(0xab),
  null,
  [new Uint8Array(32).fill(0xcd), new Uint8Array(32).fill(0xef)],
]
const result = Schema.decodeSync(TopicFilter.Rpc)(input)
expect(Array.isArray(result)).toBe(true)
```

## Encode back to array

Encodes a topic filter back to the RPC-compatible array format.

```typescript
import * as Schema from 'effect/Schema'
import * as TopicFilter from 'voltaire-effect/primitives/TopicFilter'

const input = [new Uint8Array(32).fill(0xab)]
const decoded = Schema.decodeSync(TopicFilter.Rpc)(input)
const encoded = Schema.encodeSync(TopicFilter.Rpc)(decoded)
expect(Array.isArray(encoded)).toBe(true)
```

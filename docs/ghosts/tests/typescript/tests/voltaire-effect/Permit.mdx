---
title: Permit Tests
description: Test examples for Permit showing EIP-2612 permit data and domain validation.
---

## Validate Permit Data

Validates EIP-2612 permit struct with owner, spender, value, nonce, and deadline.

```typescript
import { describe, expect, it } from "@effect/vitest"
import * as Schema from "effect/Schema"
import * as Permit from "voltaire-effect/primitives/Permit"

const input = {
  owner: new Uint8Array(20).fill(1),
  spender: new Uint8Array(20).fill(2),
  value: 1000000000000000000n, // 1 token
  nonce: 0n,
  deadline: 1700000000n, // Unix timestamp
}

const result = Schema.decodeSync(Permit.Struct)(input)
expect(result.owner).toEqual(input.owner)
expect(result.value).toBe(1000000000000000000n)
```

## Validate Domain Data

Validates EIP-712 domain struct for permit signing.

```typescript
import * as Schema from "effect/Schema"
import * as Permit from "voltaire-effect/primitives/Permit"

const input = {
  name: "USD Coin",
  version: "2",
  chainId: 1n,
  verifyingContract: new Uint8Array(20).fill(0xab),
}

const result = Schema.decodeSync(Permit.DomainStruct)(input)
expect(result.name).toBe("USD Coin")
expect(result.chainId).toBe(1n)
```

---
title: '[TS/JS] voltaire-effect/src/primitives/Abi/getEventSignature.test.ts'
source: 'voltaire-effect/src/primitives/Abi/getEventSignature.test.ts'
---

> Auto-generated from test file: voltaire-effect/src/primitives/Abi/getEventSignature.test.ts

```typescript
import { describe, expect, it } from "@effect/vitest";
import * as Effect from "effect/Effect";
import * as S from "effect/Schema";
import { EventSchema } from "./AbiSchema.js";
import { getEventSignature } from "./getEventSignature.js";

describe("getEventSignature", () => {
	describe("success cases", () => {
		it.effect("gets Transfer event signature", () =>
			Effect.gen(function* () {
				const evt = S.decodeUnknownSync(EventSchema)({
					type: "event",
					name: "Transfer",
					inputs: [
						{ name: "from", type: "address", indexed: true },
						{ name: "to", type: "address", indexed: true },
						{ name: "value", type: "uint256", indexed: false },
					],
				});
				const sig = yield* getEventSignature(evt as any);
				expect(sig).toBe("Transfer(address,address,uint256)");
			}),
		);

		it.effect("gets Approval event signature", () =>
			Effect.gen(function* () {
				const evt = S.decodeUnknownSync(EventSchema)({
					type: "event",
					name: "Approval",
					inputs: [
						{ name: "owner", type: "address", indexed: true },
						{ name: "spender", type: "address", indexed: true },
						{ name: "value", type: "uint256", indexed: false },
					],
				});
				const sig = yield* getEventSignature(evt as any);
				expect(sig).toBe("Approval(address,address,uint256)");
			}),
		);

		it.effect("gets event with no inputs", () =>
			Effect.gen(function* () {
				const evt = S.decodeUnknownSync(EventSchema)({
					type: "event",
					name: "Paused",
					inputs: [],
				});
				const sig = yield* getEventSignature(evt as any);
				expect(sig).toBe("Paused()");
			}),
		);

		it.effect("gets event with single input", () =>
			Effect.gen(function* () {
				const evt = S.decodeUnknownSync(EventSchema)({
					type: "event",
					name: "OwnershipTransferred",
					inputs: [{ name: "newOwner", type: "address", indexed: true }],
				});
				const sig = yield* getEventSignature(evt as any);
				expect(sig).toBe("OwnershipTransferred(address)");
			}),
		);
	});

	describe("is infallible", () => {
		it.effect("never fails", () =>
			Effect.gen(function* () {
				const evt = S.decodeUnknownSync(EventSchema)({
					type: "event",
					name: "Test",
					inputs: [],
				});
				const sig = yield* getEventSignature(evt as any);
				expect(sig).toBe("Test()");
			}),
		);
	});
});

```

---
title: How to Decode Function Return Data
description: ABI-decode return data from eth_call or transaction receipts
---

## Goal

Decode the hex return data from `eth_call` into typed JavaScript values.

## Using Contract

```typescript
import { Contract } from '@voltaire/contract';

const abi = [
  {
    type: 'function',
    name: 'balanceOf',
    stateMutability: 'view',
    inputs: [{ type: 'address', name: 'account' }],
    outputs: [{ type: 'uint256', name: '' }]
  }
] as const;

const contract = Contract({ address: '0x...', abi, provider });

// Contract.read auto-decodes
const balance = await contract.read.balanceOf('0x742d35...');
// balance: bigint

// Manual decode using abi.decode()
const returnData = new Uint8Array([...]); // from eth_call
const decoded = contract.abi.decode('balanceOf', returnData);
// [1000000n]
```

## Using Abi Directly

```typescript
import * as Abi from '@voltaire/primitives/Abi';
import * as Hex from '@voltaire/primitives/Hex';

const abi = Abi.from([
  {
    type: 'function',
    name: 'getReserves',
    stateMutability: 'view',
    inputs: [],
    outputs: [
      { type: 'uint112', name: 'reserve0' },
      { type: 'uint112', name: 'reserve1' },
      { type: 'uint32', name: 'blockTimestampLast' }
    ]
  }
]);

// Decode return data
const returnHex = '0x0000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000001bc16d674ec80000000000000000000000000000000000000000000000000000000000006789abcd';
const returnBytes = Hex.toBytes(returnHex);

const [reserve0, reserve1, timestamp] = Abi.decode(abi, 'getReserves', returnBytes);
// reserve0: bigint, reserve1: bigint, timestamp: bigint
```

## Low-Level Function Decoding

```typescript
import * as Abi from '@voltaire/primitives/Abi';

const balanceOfFn = {
  type: 'function',
  name: 'balanceOf',
  inputs: [{ type: 'address', name: 'account' }],
  outputs: [{ type: 'uint256', name: '' }]
} as const;

// Decode result using Function namespace
const result = Abi.Function.decodeResult(balanceOfFn, returnData);
// [1000000n]
```

## Decode Unknown Function Call

```typescript
import * as Abi from '@voltaire/primitives/Abi';

const abi = Abi.from([...]);

// Decode calldata (selector + params) when you don't know which function
const { name, params } = Abi.decodeFunction(abi, calldata);
// name: "transfer"
// params: ["0x742d35...", 1000n]
```

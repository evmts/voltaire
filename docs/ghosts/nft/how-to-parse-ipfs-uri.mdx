---
title: Parse IPFS URIs
description: Convert IPFS URIs to HTTP gateway URLs for fetching NFT metadata and images.
---

## Goal

Given an IPFS URI (ipfs://...), convert it to a fetchable HTTP URL.

Return as:

```
URL: https://...
```

## Example (TypeScript)

```ts
/**
 * Convert IPFS URI to HTTP gateway URL
 */
function ipfsToHttp(uri: string, gateway = 'https://ipfs.io/ipfs/'): string {
  if (uri.startsWith('ipfs://')) {
    return gateway + uri.slice(7)
  }
  if (uri.startsWith('ipfs/')) {
    return gateway + uri.slice(5)
  }
  // CID directly
  if (/^Qm[1-9A-HJ-NP-Za-km-z]{44}/.test(uri) || /^bafy/.test(uri)) {
    return gateway + uri
  }
  return uri
}

// Usage
const ipfsUri = 'ipfs://QmeSjSinHpPnmXmspMjwiXyN6zS4E9zccariGR3jxcaWtq/1234'
const httpUrl = ipfsToHttp(ipfsUri)
console.log(`URL: ${httpUrl}`)
// URL: https://ipfs.io/ipfs/QmeSjSinHpPnmXmspMjwiXyN6zS4E9zccariGR3jxcaWtq/1234

// Alternative gateways
const cloudflare = ipfsToHttp(ipfsUri, 'https://cloudflare-ipfs.com/ipfs/')
const pinata = ipfsToHttp(ipfsUri, 'https://gateway.pinata.cloud/ipfs/')
```
